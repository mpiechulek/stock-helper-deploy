(self.webpackChunkstock_helper=self.webpackChunkstock_helper||[]).push([[866],{6866:function(e,t,r){"use strict";r.r(t),r.d(t,{TradeModule:function(){return se},httpTranslateLoader:function(){return ne}});var o=r(5109),i=r(6278),a=r(6253),s=r(4253),n=function(e){return e.Add="Add",e.Edit="Edit",e.Delete="Delete",e}({}),l=r(2304),c=r(9033);let u=(()=>{class e{constructor(){this.formData=null,this.storageFormKeyName="entreFormData",this.entreFormSubject=new c.xQ,this.entreFormSubject$=this.entreFormSubject.asObservable()}ngOnInit(){}checkIfEntreFormDataInLocalStorage(){return null!==localStorage.getItem(this.storageFormKeyName)}getEntreFormDataFromLocalStorage(){this.checkIfEntreFormDataInLocalStorage()&&(this.formData=JSON.parse(localStorage.getItem(this.storageFormKeyName)),this.entreFormSubject.next(this.formData))}getEntreFormSubject(){return this.entreFormSubject$}saveEntreFormDataToLocalStorage(e){localStorage.setItem(this.storageFormKeyName,JSON.stringify(e))}fixeNumberDecimalPlaces(e){let t;return e.includes(".")?(t=e.split("."),t[1].length>4?t[0]+"."+t[1].slice(0,3):e):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=r(2758),f=r(3196),p=r(2417),m=r(8323),h=r(9263);function g(e,t){1&e&&(l.O4$(),l.kcU(),l.TgZ(0,"h1",21),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"trade.entireDialogFormHeaderAdd"),"\n"))}function k(e,t){1&e&&(l.O4$(),l.kcU(),l.TgZ(0,"h1",21),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"trade.entireDialogFormHeaderEdit"),"\n"))}function S(e,t){1&e&&(l.TgZ(0,"mat-error"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"trade.entireDialogFormErrorMessageName")," "))}function T(e,t){1&e&&(l.TgZ(0,"mat-error"),l._uU(1," Number of shares must be a positive integer. "),l.qZA())}function Z(e,t){1&e&&(l.TgZ(0,"mat-error"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"trade.entireDialogFormErrorMessageQuantity")," "))}function b(e,t){1&e&&(l.TgZ(0,"mat-error"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"trade.entireDialogFormErrorMessageBuyPrice")," "))}function v(e,t){1&e&&(l.TgZ(0,"mat-error"),l._uU(1," Number of steps must be a positive integer. "),l.qZA())}function O(e,t){1&e&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"trade.addButtonText"),""))}function y(e,t){1&e&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"trade.saveButtonText"),""))}let I=(()=>{class e{constructor(e,t,r,o){this.formService=e,this.formBuilder=t,this.dialogRef=r,this.data=o,this.formState=n,this.buttonColor="primary"}ngOnInit(){this.entryStockForm=this.formBuilder.group({companyName:["",[i.kI.required]],amountOfShares:["1",[i.kI.required,i.kI.pattern("^[1-9][0-9]*$"),i.kI.min(1)]],buyPrice:["0",[i.kI.required,i.kI.pattern("^[0-9]+(.[0-9]{1,4})?$"),i.kI.min(1e-4)]],taxRate:["0.0000",[i.kI.min(0),i.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],commission:["0.0000",[i.kI.min(0),i.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],minCommission:["0.0000",[i.kI.min(0),i.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],calcStepCount:["200",[i.kI.min(1),i.kI.pattern("^[1-9][0-9]*$")]],calcStepValue:["0.5",[i.kI.min(.1),i.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]]}),this.dialogState=this.data.state,this.data.formData&&this.entryStockForm.patchValue(this.data.formData),this.data.buttonColor&&(this.buttonColor=this.data.buttonColor)}get companyName(){return this.entryStockForm.get("companyName")}get amountOfShares(){return this.entryStockForm.get("amountOfShares")}get buyPrice(){return this.entryStockForm.get("buyPrice")}get taxRate(){return this.entryStockForm.get("taxRate")}get commission(){return this.entryStockForm.get("commission")}get minCommission(){return this.entryStockForm.get("minCommission")}get calcStepCount(){return this.entryStockForm.get("calcStepCount")}get calcStepValue(){return this.entryStockForm.get("calcStepValue")}onSubmitDialog(){this.entryStockForm.invalid||(this.entryStockForm.patchValue({companyName:this.entryStockForm.value.companyName,amountOfShares:this.entryStockForm.value.amountOfShares,buyPrice:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.buyPrice),taxRate:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.taxRate),commission:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.commission),minCommission:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.minCommission),calcStepCount:this.entryStockForm.value.calcStepCount,calcStepValue:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.calcStepValue)}),this.dialogRef.close(this.entryStockForm.value))}onOverwriteFormPosition(e,t){this.entryStockForm.patchValue({[t]:e})}onClearField(e){}onClearForm(){this.entryStockForm.reset()}onCloseDialog(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(u),l.Y36(i.qu),l.Y36(s.so),l.Y36(s.WI))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-trade-dialog"]],decls:68,vars:46,consts:[["type","button",1,"btn","trade-entry-form__close-btn",3,"click"],["src","./assets/icon/Icon awesome-sun.svg",1,"icon","icon--close"],["class","modal-dialog-header-text  trade-entry-form__header",4,"ngIf"],[1,"trade-entry-form",3,"formGroup","submit"],[1,"trade-entry-form__section-1"],["id","trade-dialog-form"],["matInput","","type","text","formControlName","companyName"],[4,"ngIf"],["matInput","","type","number","formControlName","amountOfShares"],[1,"trade-entry-form__section-2"],["matInput","","type","text","formControlName","buyPrice","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","taxRate","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","commission","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","minCommission","appNumberDigit","",3,"outputData"],["matInput","","type","number","formControlName","calcStepCount"],["matInput","","type","text","formControlName","calcStepValue","appNumberDigit","",3,"outputData"],[1,"trade-entry-form__section-3"],[1,"trade-tile-form-buy-price"],[1,"trade-entry-form__section-4"],["mat-raised-button","","type","submit",3,"color","disabled"],["mat-raised-button","","type","button",3,"click"],[1,"modal-dialog-header-text","trade-entry-form__header"]],template:function(e,t){1&e&&(l.TgZ(0,"button",0),l.NdJ("click",function(){return t.onCloseDialog()}),l.O4$(),l._UZ(1,"svg",1),l.qZA(),l.YNc(2,g,3,3,"h1",2),l.YNc(3,k,3,3,"h1",2),l.kcU(),l.TgZ(4,"form",3),l.NdJ("submit",function(){return t.onSubmitDialog()}),l.TgZ(5,"div",4),l.TgZ(6,"mat-form-field",5),l.TgZ(7,"mat-label",5),l._uU(8),l.ALo(9,"translate"),l.qZA(),l._UZ(10,"input",6),l.YNc(11,S,3,3,"mat-error",7),l.qZA(),l.TgZ(12,"mat-form-field",5),l.TgZ(13,"mat-label",5),l._uU(14),l.ALo(15,"translate"),l.qZA(),l._UZ(16,"input",8),l.YNc(17,T,2,0,"mat-error",7),l.YNc(18,Z,3,3,"mat-error",7),l.qZA(),l.qZA(),l.TgZ(19,"div",9),l.TgZ(20,"mat-form-field",5),l.TgZ(21,"mat-label",5),l._uU(22),l.ALo(23,"translate"),l.qZA(),l.TgZ(24,"input",10),l.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"buyPrice")}),l.qZA(),l.YNc(25,b,3,3,"mat-error",7),l.qZA(),l.TgZ(26,"mat-form-field",5),l.TgZ(27,"mat-label",5),l._uU(28),l.ALo(29,"translate"),l.qZA(),l.TgZ(30,"input",11),l.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"taxRate")}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(31,"div",9),l.TgZ(32,"mat-form-field",5),l.TgZ(33,"mat-label",5),l._uU(34),l.ALo(35,"translate"),l.qZA(),l.TgZ(36,"input",12),l.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"commission")}),l.qZA(),l.qZA(),l.TgZ(37,"mat-form-field",5),l.TgZ(38,"mat-label",5),l._uU(39),l.ALo(40,"translate"),l.qZA(),l.TgZ(41,"input",13),l.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"minCommission")}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(42,"div",9),l.TgZ(43,"mat-form-field",5),l.TgZ(44,"mat-label",5),l._uU(45),l.ALo(46,"translate"),l.qZA(),l._UZ(47,"input",14),l.YNc(48,v,2,0,"mat-error",7),l.qZA(),l.TgZ(49,"mat-form-field",5),l.TgZ(50,"mat-label",5),l._uU(51),l.ALo(52,"translate"),l.qZA(),l.TgZ(53,"input",15),l.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"calcStepValue")}),l.qZA(),l.TgZ(54,"mat-error"),l._uU(55," The min. value of the calculate step is 0.1 "),l.qZA(),l.qZA(),l.qZA(),l.TgZ(56,"div",16),l.TgZ(57,"p",17),l._uU(58),l.ALo(59,"translate"),l.ALo(60,"number"),l.qZA(),l.qZA(),l.TgZ(61,"div",18),l.TgZ(62,"button",19),l.YNc(63,O,3,3,"span",7),l.YNc(64,y,3,3,"span",7),l.qZA(),l.TgZ(65,"button",20),l.NdJ("click",function(){return t.onClearForm()}),l._uU(66),l.ALo(67,"translate"),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngIf",t.dialogState==t.formState.Add),l.xp6(1),l.Q6J("ngIf",t.dialogState==t.formState.Edit),l.xp6(1),l.Q6J("formGroup",t.entryStockForm),l.xp6(4),l.Oqu(l.lcZ(9,23,"trade.entireDialogFormName")),l.xp6(3),l.Q6J("ngIf",t.companyName.dirty||t.companyName.touched),l.xp6(3),l.Oqu(l.lcZ(15,25,"trade.entireDialogFormQuantity")),l.xp6(3),l.Q6J("ngIf",t.amountOfShares.hasError("pattern")),l.xp6(1),l.Q6J("ngIf",t.amountOfShares.touched&&!t.amountOfShares.hasError("pattern")),l.xp6(4),l.Oqu(l.lcZ(23,27,"trade.entireDialogFormBuyPrice")),l.xp6(3),l.Q6J("ngIf",t.buyPrice.touched),l.xp6(3),l.Oqu(l.lcZ(29,29,"trade.entireDialogFormTax")),l.xp6(6),l.Oqu(l.lcZ(35,31,"trade.entireDialogFormCommission")),l.xp6(5),l.Oqu(l.lcZ(40,33,"trade.entireDialogFormMinCommission")),l.xp6(6),l.Oqu(l.lcZ(46,35,"trade.entireDialogFormOfferNumber")),l.xp6(3),l.Q6J("ngIf",t.calcStepCount.hasError("pattern")),l.xp6(3),l.Oqu(l.lcZ(52,37,"trade.entireDialogFormPercentageStep")),l.xp6(7),l.AsE(" ",l.lcZ(59,39,"trade.tileHeaderBuyValue")," : ",l.xi3(60,41,t.entryStockForm.value.amountOfShares*t.entryStockForm.value.buyPrice,"1.2-2")," "),l.xp6(4),l.s9C("color",t.buttonColor),l.Q6J("disabled",t.entryStockForm.invalid),l.xp6(1),l.Q6J("ngIf",t.dialogState==t.formState.Add),l.xp6(1),l.Q6J("ngIf",t.dialogState==t.formState.Edit),l.xp6(2),l.Oqu(l.lcZ(67,44,"trade.clearButtonText")))},directives:[o.O5,i._Y,i.JL,i.sg,d.KE,d.hX,f.Nt,i.Fj,i.JJ,i.u,i.wV,p.Z,d.TO,m.lW],pipes:[h.X$,o.JJ],encapsulation:2}),e})();var C=r(6746),A=r(9316),x=r(2632),Q=function(e){return e.neutral="neutral",e.lose="lose",e.profit="profit",e}({}),P=r(58);let q=(()=>{class e{constructor(e){this.stockPriceCalculatorService=e,this.numberOfRepeats=200,this.percentageChange=.5,this.numericObject={},this.selectedOfferMarker={profit:null,lose:null,neutral:null},this.chosenOfferMarkerHolder="neutral",this.chosenOfferIdHolder="0",this.tradeTileOffers=Q,this.loseQuotes=new c.xQ,this.loseQuotes$=this.loseQuotes.asObservable(),this.loseQuotesHolder={},this.profitQuotes=new c.xQ,this.profitQuotes$=this.profitQuotes.asObservable(),this.profitQuotesHolder={},this.neutralQuotes=new c.xQ,this.neutralQuotes$=this.neutralQuotes.asObservable(),this.neutralQuotesHolder={},this.headerCalculations=new c.xQ,this.headerCalculations$=this.headerCalculations.asObservable()}ngOnInit(){}get getProfitQuotes$(){return this.profitQuotes$}get getLoseQuotes$(){return this.loseQuotes$}get getNeutralQuote$(){return this.neutralQuotes$}get getHeaderCalculations$(){return this.headerCalculations$}convertStringObjectElementsToNumber(e){let t={};""===e.taxRate&&(e.taxRate="0"),""===e.minCommission&&(e.minCommission="0"),""===e.commission&&(e.commission="0");for(let[r,o]of Object.entries(e))null===o&&(t[r]=o),isNaN(o)||(t[r]=parseFloat(o));t.percentageChange=0,this.numericObject=t,this.setOfferListGenerationProperties(this.numericObject,e)}setOfferListGenerationProperties(e,t){null!==e.calcStepCount&&null!==e.calcStepValue&&(this.numberOfRepeats=e.calcStepCount,this.percentageChange=e.calcStepValue),null!==t.markerOfferType&&null!==e.markerOfferValue&&(this.selectedOfferMarker[t.markerOfferType]=e.markerOfferValue,this.chosenOfferMarkerHolder=t.markerOfferType,this.chosenOfferIdHolder=e.markerOfferValue)}generateQuotes(){this.calculateNeutralQuote(this.numericObject),this.generateObjectOfOffers(this.numericObject,"profit",this.numberOfRepeats,this.percentageChange),this.generateObjectOfOffers(this.numericObject,"lose",this.numberOfRepeats,this.percentageChange),this.checkWitchQuoteToUpdate(this.chosenOfferMarkerHolder,this.chosenOfferIdHolder),this.calculateHeader(this.numericObject)}calculateNeutralQuote(e){let t={};const r=this.stockPriceCalculatorService.calculateBuyValue(e.amountOfShares,e.buyPrice),o=this.stockPriceCalculatorService.calculatePercentageCommission(r,e.commission),i=this.stockPriceCalculatorService.calculateCommissionValue(r,o,e.minCommission);t[0]={profit:(2*i).toFixed(2),percentageChange:(0).toFixed(2),newPrice:e.buyPrice.toString(),selected:!1},this.neutralQuotesHolder=t,this.neutralQuotes.next(t)}generateObjectOfOffers(e,t,r=this.numberOfRepeats,o=this.percentageChange){let i,a,s,n,l,c={},u=0;"profit"!==t&&(o*=-1);const d=this.stockPriceCalculatorService.calculateBuyValue(e.amountOfShares,e.buyPrice),f=this.stockPriceCalculatorService.calculatePercentageCommission(d,e.commission),p=this.stockPriceCalculatorService.calculateCommissionValue(d,f,e.minCommission);for(let m=0;r>m;m++){u+=o,i=this.stockPriceCalculatorService.calculateCurrentPrice(e.buyPrice,u),s=i*e.amountOfShares;const t=this.stockPriceCalculatorService.calculatePercentageCommission(s,e.commission);n=this.stockPriceCalculatorService.calculateCommissionValue(s,t,e.minCommission),l=this.stockPriceCalculatorService.calculateTotalCommissionValue(p,n),a=this.stockPriceCalculatorService.calculateProfitBeforeTax(s,d,l),c[m]={percentageChange:u.toFixed(this.stockPriceCalculatorService.getNumberOfDecimalPlaces),newPrice:i.toFixed(3),profit:a.toFixed(this.stockPriceCalculatorService.getNumberOfDecimalPlaces),selected:!1}}"profit"===t&&(this.profitQuotesHolder=c,this.profitQuotes.next(c)),"lose"===t&&(this.loseQuotesHolder=c,this.loseQuotes.next(c))}calculateHeader(e){const t={};let r,o,i;t.amountOfShares=e.amountOfShares,t.buyPrice=e.buyPrice,t.buyValue=this.stockPriceCalculatorService.calculateBuyValue(e.amountOfShares,e.buyPrice),t.currentPrice=this.stockPriceCalculatorService.calculateCurrentPrice(e.buyPrice,e.percentageChange),t.currentValue=this.stockPriceCalculatorService.calculateCurrentValue(t.currentPrice,e.amountOfShares);const a=this.stockPriceCalculatorService.calculatePercentageCommission(t.buyValue,e.commission);r=this.stockPriceCalculatorService.calculateCommissionValue(t.buyValue,a,e.minCommission);const s=this.stockPriceCalculatorService.calculatePercentageCommission(t.currentValue,e.commission);o=this.stockPriceCalculatorService.calculateCommissionValue(t.currentValue,s,e.minCommission),i=this.stockPriceCalculatorService.calculateTotalCommissionValue(o,r),t.profitBeforeTax=this.stockPriceCalculatorService.calculateProfitBeforeTax(t.currentValue,t.buyValue,i),t.profitAfterTax=t.currentPrice<=e.buyPrice?t.profitBeforeTax:this.stockPriceCalculatorService.calculateProfitAfterTax(t.profitBeforeTax,e.taxRate),t.percentageChange=this.stockPriceCalculatorService.calculatePercentageChange(t.currentPrice,e.buyPrice),this.headerCalculations.next(t)}changeSelectedOfferElement(e,t){let r=this.getChosenElementId(e);this.clearQuoteSelector(this.profitQuotesHolder,this.selectedOfferMarker.profit),this.clearQuoteSelector(this.loseQuotesHolder,this.selectedOfferMarker.lose),this.clearQuoteSelector(this.neutralQuotesHolder,this.selectedOfferMarker.neutral),this.selectedOfferMarker.profit=null,this.selectedOfferMarker.lose=null,this.selectedOfferMarker.neutral=null,this.selectedOfferMarker[t]=r,this.checkWitchQuoteToUpdate(t,r)}getChosenElementId(e){return e.target.classList.contains("trade-tile-stock-change-container")?e.target.id:e.target.parentElement.classList.contains("trade-tile-stock-change-container")?e.target.parentElement.id:e.target.parentElement.parentElement.classList.contains("trade-tile-stock-change-container")?e.target.parentElement.parentElement.id:null}clearQuoteSelector(e,t){return null!==t&&(e[t].selected=!1),e}checkWitchQuoteToUpdate(e,t){e===this.tradeTileOffers.profit&&this.setSelectorInQuotes(this.profitQuotes,this.profitQuotesHolder,t),e===this.tradeTileOffers.lose&&this.setSelectorInQuotes(this.loseQuotes,this.loseQuotesHolder,t),e===this.tradeTileOffers.neutral&&this.setSelectorInQuotes(this.neutralQuotes,this.neutralQuotesHolder,t)}setSelectorInQuotes(e,t,r){t[r].selected=!0,e.next(t),this.setNewPercentageChange(t[r].percentageChange)}setNewPercentageChange(e){this.numericObject.percentageChange=parseFloat(e),this.calculateHeader(this.numericObject)}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(P.f))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})();const N=function(e,t){return{"trade-tile-stock-text--green":e,"trade-tile-stock-text--red":t}};let D=(()=>{class e{constructor(){this.deleteTile=new l.vpe,this.editTile=new l.vpe}ngOnInit(){}onEditTile(){this.editTile.emit(this.stockElement.id)}onDeleteTile(){this.deleteTile.emit(this.stockElement.id)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-tile-header"]],inputs:{stockElement:"stockElement",headerCalculations:"headerCalculations"},outputs:{deleteTile:"deleteTile",editTile:"editTile"},decls:52,vars:44,consts:[[1,"trade-tile__stock-data"],[1,"trade-tile-stock-header-container"],[1,"trade-tile-stock-name-text"],[1,"trade-tile-stock-header-button-wrapper"],["appRoleDirective","","accessType","edit_action","moduleType","trade",1,"btn","trade-tile-header-margin-left",3,"click"],[1,"icon","icon--pencil"],["appRoleDirective","","accessType","delete_action","moduleType","trade",1,"btn","trade-tile-header-margin-left",3,"click"],[1,"icon","icon--delete-black"],[1,"trade-tile-stock-header-wrapper"],[1,"trade-tile-stock-text"],[1,"trade-tile-stock-text","trade-tile-stock-text--ld"],[1,"trade-tile-stock-text","trade-tile-stock-text--ld",3,"ngClass"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2",2),l._uU(3),l.qZA(),l.TgZ(4,"div",3),l.TgZ(5,"button",4),l.NdJ("click",function(){return t.onEditTile()}),l.O4$(),l._UZ(6,"svg",5),l.qZA(),l.kcU(),l.TgZ(7,"button",6),l.NdJ("click",function(){return t.onDeleteTile()}),l.O4$(),l._UZ(8,"svg",7),l.qZA(),l.qZA(),l.qZA(),l.kcU(),l.TgZ(9,"div",1),l.TgZ(10,"div",8),l.TgZ(11,"p",9),l._uU(12),l.ALo(13,"translate"),l.qZA(),l.TgZ(14,"p",10),l._uU(15),l.ALo(16,"number"),l.qZA(),l.qZA(),l.TgZ(17,"div",8),l.TgZ(18,"p",9),l._uU(19),l.ALo(20,"translate"),l.qZA(),l.TgZ(21,"p",10),l._uU(22),l.ALo(23,"number"),l.qZA(),l.qZA(),l.TgZ(24,"div",8),l.TgZ(25,"p",9),l._uU(26),l.ALo(27,"translate"),l.qZA(),l.TgZ(28,"p",10),l._uU(29),l.qZA(),l.qZA(),l.qZA(),l.TgZ(30,"div",1),l.TgZ(31,"div",8),l.TgZ(32,"p",9),l._uU(33),l.ALo(34,"translate"),l.qZA(),l.TgZ(35,"p",10),l._uU(36),l.ALo(37,"number"),l.qZA(),l.qZA(),l.TgZ(38,"div",8),l.TgZ(39,"p",9),l._uU(40),l.ALo(41,"translate"),l.qZA(),l.TgZ(42,"p",10),l._uU(43),l.ALo(44,"number"),l.qZA(),l.qZA(),l.TgZ(45,"div",8),l.TgZ(46,"p",9),l._uU(47),l.ALo(48,"translate"),l.qZA(),l.TgZ(49,"p",11),l._uU(50),l.ALo(51,"number"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.Oqu(null==t.stockElement?null:t.stockElement.companyName),l.xp6(9),l.Oqu(l.lcZ(13,14,"trade.tileHeaderBuyPrice")),l.xp6(3),l.Oqu(l.xi3(16,16,null==t.stockElement?null:t.stockElement.buyPrice,"1.2-4")),l.xp6(4),l.Oqu(l.lcZ(20,19,"trade.tileHeaderBuyValue")),l.xp6(3),l.Oqu(l.xi3(23,21,null==t.headerCalculations?null:t.headerCalculations.buyValue,"1.2-2")),l.xp6(4),l.Oqu(l.lcZ(27,24,"trade.tileHeaderQuantity")),l.xp6(3),l.Oqu(null==t.stockElement?null:t.stockElement.amountOfShares),l.xp6(4),l.Oqu(l.lcZ(34,26,"trade.tileHeaderCurrentPrice")),l.xp6(3),l.Oqu(l.xi3(37,28,null==t.headerCalculations?null:t.headerCalculations.currentPrice,"1.2-4")),l.xp6(4),l.Oqu(l.lcZ(41,31,"trade.tileHeaderCurrentValue")),l.xp6(3),l.Oqu(l.xi3(44,33,null==t.headerCalculations?null:t.headerCalculations.currentValue,"1.2-2")),l.xp6(4),l.Oqu(l.lcZ(48,36,"trade.tileHeaderProfitBeforeTax")),l.xp6(2),l.Q6J("ngClass",l.WLB(41,N,(null==t.headerCalculations?null:t.headerCalculations.profitBeforeTax)>1,(null==t.headerCalculations?null:t.headerCalculations.profitBeforeTax)<1)),l.xp6(1),l.hij(" ",l.xi3(51,38,null==t.headerCalculations?null:t.headerCalculations.profitBeforeTax,"1.2-2")," "))},directives:[x.i,o.mk],pipes:[h.X$,o.JJ],encapsulation:2}),e})();var F=r(6276);const _=function(e){return{"trade-tile-stock-change-container--background":e}};let w=(()=>{class e{constructor(){}ngOnInit(){}ngAfterViewInit(){}get getProfitQuote(){return this.profitQuote}get getKeyId(){return this.keyId}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-one-offer-change"]],inputs:{profitQuote:"profitQuote",keyId:"keyId"},decls:11,vars:7,consts:[[1,"trade-tile-stock-change-container",3,"id","ngClass"],[1,"trade-shape","trade-shape--green-small"],[1,"stock-offer-change-width"],[1,"trade-tile-stock-text","trade-tile-stock-text--xld","stock-offer-change-margin-left"]],template:function(e,t){1&e&&(l.TgZ(0,"li",0),l._UZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"p",3),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",2),l.TgZ(6,"p",3),l._uU(7),l.qZA(),l.qZA(),l.TgZ(8,"div",2),l.TgZ(9,"p",3),l._uU(10),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("id",t.getKeyId)("ngClass",l.VKq(5,_,null==t.getProfitQuote?null:t.getProfitQuote.selected)),l.xp6(4),l.hij(" ",null==t.getProfitQuote?null:t.getProfitQuote.percentageChange," % "),l.xp6(3),l.hij(" ",null==t.getProfitQuote?null:t.getProfitQuote.newPrice," "),l.xp6(3),l.hij(" ",null==t.getProfitQuote?null:t.getProfitQuote.profit," "))},directives:[o.mk],encapsulation:2}),e})();function L(e,t){if(1&e&&l._UZ(0,"app-one-offer-change",3),2&e){const e=t.$implicit;l.Q6J("profitQuote",e.value)("keyId",e.key)}}class E extends F.Ee{constructor(){super(50,250,500)}}let B=(()=>{class e{constructor(){this.tradeTileOffers=Q,this.profitOfferClick=new l.vpe}ngOnInit(){this.profitOfferIdSubscription=this.profitOfferId.subscribe(e=>{null!==e&&this.cdkVirtualScrollViewport.scrollToIndex(parseInt(e),"smooth")})}ngAfterViewInit(){setTimeout(()=>{null!==this.profitOfferIdInit&&this.cdkVirtualScrollViewport.scrollToIndex(parseInt(this.profitOfferIdInit),"smooth")})}ngOnDestroy(){this.profitOfferIdSubscription&&this.profitOfferIdSubscription.unsubscribe()}get getProfitQuotes(){return this.profitQuotes}unsorted(){}orderbyValueDsc(e,t){return e.value>t.value?1:e.value>t.value?0:-1}onClickedList(e,t){this.profitOfferClick.emit({event:e,listMarker:t})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-profit-list"]],viewQuery:function(e,t){if(1&e&&l.Gf(F.N7,5),2&e){let e;l.iGM(e=l.CRH())&&(t.cdkVirtualScrollViewport=e.first)}},inputs:{profitQuotes:"profitQuotes",profitOfferIdInit:"profitOfferIdInit",profitOfferId:"profitOfferId"},outputs:{profitOfferClick:"profitOfferClick"},features:[l._Bn([{provide:F.yU,useClass:E}])],decls:4,vars:4,consts:[[1,"trade-tile__positive-stock-change",3,"click"],["itemSize","28","orientation","bottom",1,"example-viewport"],[3,"profitQuote","keyId",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"profitQuote","keyId"]],template:function(e,t){1&e&&(l.TgZ(0,"ul",0),l.NdJ("click",function(e){return t.onClickedList(e,t.tradeTileOffers.profit)}),l.TgZ(1,"cdk-virtual-scroll-viewport",1),l.YNc(2,L,1,2,"app-one-offer-change",2),l.ALo(3,"keyvalue"),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("cdkVirtualForOf",l.xi3(3,1,t.getProfitQuotes,t.unsorted)))},directives:[F.N7,F.xd,F.x0,w],pipes:[o.Nd],encapsulation:2}),e})();const U=function(e){return{"trade-tile-stock-change-container--background":e}};let V=(()=>{class e{constructor(){}ngOnInit(){}ngAfterViewInit(){}get getLoseQuote(){return this.loseQuote}get getKeyId(){return this.keyId}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-one-offer-loose"]],inputs:{loseQuote:"loseQuote",keyId:"keyId"},decls:11,vars:7,consts:[[1,"trade-tile-stock-change-container",3,"id","ngClass"],[1,"trade-shape","trade-shape--red-small"],[1,"stock-offer-change-width"],[1,"trade-tile-stock-text","trade-tile-stock-text--xld","stock-offer-change-margin-left"]],template:function(e,t){1&e&&(l.TgZ(0,"li",0),l._UZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"p",3),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",2),l.TgZ(6,"p",3),l._uU(7),l.qZA(),l.qZA(),l.TgZ(8,"div",2),l.TgZ(9,"p",3),l._uU(10),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("id",t.getKeyId)("ngClass",l.VKq(5,U,null==t.getLoseQuote?null:t.getLoseQuote.selected)),l.xp6(4),l.hij(" ",null==t.getLoseQuote?null:t.getLoseQuote.percentageChange," % "),l.xp6(3),l.hij(" ",null==t.getLoseQuote?null:t.getLoseQuote.newPrice," "),l.xp6(3),l.hij(" ",null==t.getLoseQuote?null:t.getLoseQuote.profit," "))},directives:[o.mk],encapsulation:2}),e})();function J(e,t){if(1&e&&l._UZ(0,"app-one-offer-loose",3),2&e){const e=t.$implicit;l.Q6J("loseQuote",e.value)("keyId",e.key)}}class j extends F.Ee{constructor(){super(50,250,500)}}let M=(()=>{class e{constructor(){this.tradeTileOffers=Q,this.losesOfferClick=new l.vpe}ngOnInit(){this.loseOfferIdSubscription=this.loseOfferId.subscribe(e=>{null!==e&&this.cdkVirtualScrollViewport.scrollToIndex(parseInt(e),"smooth")})}ngAfterViewInit(){setTimeout(()=>{null!==this.loseOfferIdInit&&this.cdkVirtualScrollViewport.scrollToIndex(parseInt(this.loseOfferIdInit),"smooth")})}ngOnDestroy(){this.loseOfferIdSubscription&&this.loseOfferIdSubscription.unsubscribe()}get getLoseQuotes(){return this.loseQuotes}unsorted(){}orderbyValueDsc(e,t){return e.value>t.value?1:e.value>t.value?0:-1}onClickedList(e,t){this.losesOfferClick.emit({event:e,listMarker:t})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-losses-list"]],viewQuery:function(e,t){if(1&e&&l.Gf(F.N7,5),2&e){let e;l.iGM(e=l.CRH())&&(t.cdkVirtualScrollViewport=e.first)}},inputs:{loseQuotes:"loseQuotes",loseOfferId:"loseOfferId",loseOfferIdInit:"loseOfferIdInit"},outputs:{losesOfferClick:"losesOfferClick"},features:[l._Bn([{provide:F.yU,useClass:j}])],decls:4,vars:4,consts:[[1,"trade-tile__negative-stock-change",3,"click"],["itemSize","28",1,"example-viewport"],[3,"loseQuote","keyId",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"loseQuote","keyId"]],template:function(e,t){1&e&&(l.TgZ(0,"ul",0),l.NdJ("click",function(e){return t.onClickedList(e,t.tradeTileOffers.lose)}),l.TgZ(1,"cdk-virtual-scroll-viewport",1),l.YNc(2,J,1,2,"app-one-offer-loose",2),l.ALo(3,"keyvalue"),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("cdkVirtualForOf",l.xi3(3,1,t.getLoseQuotes,t.unsorted)))},directives:[F.N7,F.xd,F.x0,V],pipes:[o.Nd],encapsulation:2}),e})();const H=function(e){return{"trade-tile-stock-change-container--background":e}};let $=(()=>{class e{constructor(){}ngOnInit(){}get getNeutralQuote(){return this.neutralQuote}get getKeyId(){return this.keyId}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-neutral-offer"]],inputs:{neutralQuote:"neutralQuote",keyId:"keyId"},decls:11,vars:7,consts:[[1,"trade-tile-stock-change-container",3,"id","ngClass"],[1,"trade-shape","trade-shape--gray-dot"],[1,"stock-offer-change-width"],[1,"trade-tile-stock-text","trade-tile-stock-text--xld","stock-offer-change-margin-left"]],template:function(e,t){1&e&&(l.TgZ(0,"li",0),l._UZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"p",3),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",2),l.TgZ(6,"p",3),l._uU(7),l.qZA(),l.qZA(),l.TgZ(8,"div",2),l.TgZ(9,"p",3),l._uU(10),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("id",t.getKeyId)("ngClass",l.VKq(5,H,null==t.getNeutralQuote?null:t.getNeutralQuote.selected)),l.xp6(4),l.hij(" ",null==t.getNeutralQuote?null:t.getNeutralQuote.percentageChange,"% "),l.xp6(3),l.hij(" ",null==t.getNeutralQuote?null:t.getNeutralQuote.newPrice," "),l.xp6(3),l.hij(" - ",null==t.getNeutralQuote?null:t.getNeutralQuote.profit," "))},directives:[o.mk],encapsulation:2}),e})();function R(e,t){if(1&e&&l._UZ(0,"app-neutral-offer",9),2&e){const e=t.$implicit;l.Q6J("neutralQuote",e.value)("keyId",e.key)}}let Y=(()=>{class e{constructor(e){this.stockTilePresenterService=e,this.profitQuotes={},this.loseQuotes={},this.neutralQuote={},this.headerCalculations={},this.saveButtonDisabled=!0,this.tradeTileOffers=Q,this.profitIdMarkerSubject=new c.xQ,this.profitIdMarkerSubject$=this.profitIdMarkerSubject.asObservable(),this.loseIdMarkerSubject=new c.xQ,this.loseIdMarkerSubject$=this.loseIdMarkerSubject.asObservable(),this.offerId=null,this.offerMarker=null,this.deleteTile=new l.vpe,this.editTile=new l.vpe,this.savePickedOffer=new l.vpe,this.sellStock=new l.vpe}ngOnInit(){this.profitQuotesSubscription=this.stockTilePresenterService.getProfitQuotes$.subscribe(e=>{this.profitQuotes=e}),this.loseQuotesSubscription=this.stockTilePresenterService.getLoseQuotes$.subscribe(e=>{this.loseQuotes=e}),this.neutralQuoteSubscription=this.stockTilePresenterService.getNeutralQuote$.subscribe(e=>{this.neutralQuote=e}),this.headerCalculationsSubscription=this.stockTilePresenterService.getHeaderCalculations$.subscribe(e=>{this.headerCalculations=e}),this.stockTilePresenterService.convertStringObjectElementsToNumber(this.stockElement),this.stockTilePresenterService.generateQuotes(),"profit"===this.offerMarker&&(this.profitOfferIdInit=this.offerId,this.loseOfferIdInit=null),"lose"===this.offerMarker&&(this.profitOfferIdInit=null,this.loseOfferIdInit=this.offerId)}ngOnDestroy(){this.profitQuotesSubscription&&this.profitQuotesSubscription.unsubscribe(),this.loseQuotesSubscription&&this.loseQuotesSubscription.unsubscribe(),this.neutralQuoteSubscription&&this.neutralQuoteSubscription.unsubscribe(),this.headerCalculationsSubscription&&this.headerCalculationsSubscription.unsubscribe()}get getProfitQuotes(){return this.profitQuotes}get getLoseQuotes(){return this.loseQuotes}get getNeutralQuote(){return this.neutralQuote}get getHeaderCalculations(){return this.headerCalculations}get getStockElement(){return this.stockElement}get getOfferId(){return this.offerId}get getOfferMarker(){return this.offerMarker}get getProfitOfferId(){return this.profitIdMarkerSubject$}get getLoseOfferId(){return this.loseIdMarkerSubject$}get getProfitOfferIdInit(){return this.profitOfferIdInit}get getLoseOfferIdInit(){return this.loseOfferIdInit}unsorted(){}orderbyValueDsc(e,t){return e.value>t.value?1:e.value>t.value?0:-1}onClickedList(e){this.saveButtonDisabled=!1,this.stockTilePresenterService.changeSelectedOfferElement(e.event,e.listMarker),this.offerId=this.stockTilePresenterService.getChosenElementId(e.event),this.offerMarker=e.listMarker}onClickedNeutralList(e,t){this.saveButtonDisabled=!1,this.stockTilePresenterService.changeSelectedOfferElement(e,t),this.offerId=this.stockTilePresenterService.getChosenElementId(e),this.offerMarker=t}onSavePickedOfferData(){this.savePickedOffer.emit({id:this.stockElement.id,markerOfferValue:this.offerId,markerOfferType:this.offerMarker}),this.saveButtonDisabled=!0}onEditTile(e){this.editTile.emit(e)}onDeleteTile(e){this.deleteTile.emit(e)}onSellStock(){const e=Object.assign({id:this.stockElement.id,companyName:this.stockElement.companyName},this.headerCalculations);this.sellStock.emit(e)}onFindSelectedOffer(){"profit"===this.offerMarker&&(this.profitIdMarkerSubject.next(this.offerId),this.loseIdMarkerSubject.next(null)),"lose"===this.offerMarker&&(this.loseIdMarkerSubject.next(this.offerId),this.profitIdMarkerSubject.next(null))}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(q))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-stock-tile"]],inputs:{offerId:"offerId",offerMarker:"offerMarker",stockElement:"stockElement"},outputs:{deleteTile:"deleteTile",editTile:"editTile",savePickedOffer:"savePickedOffer",sellStock:"sellStock"},features:[l._Bn([q])],decls:16,vars:23,consts:[[3,"stockElement","headerCalculations","editTile","deleteTile"],[3,"profitQuotes","profitOfferId","profitOfferIdInit","profitOfferClick"],[1,"trade-tile__neutral-stock-change",3,"click"],[3,"neutralQuote","keyId",4,"ngFor","ngForOf"],[3,"loseQuotes","loseOfferId","loseOfferIdInit","losesOfferClick"],[1,"trade-tile__button-container"],["mat-raised-button","","color","accent","appRoleDirective","","accessType","edit_action","moduleType","trade",1,"trade-board__button-postion",3,"disabled","click"],["color","primary","mat-raised-button","","appRoleDirective","","accessType","create_action","moduleType","trade",1,"trade-board__button-postion",3,"click"],["mat-raised-button","","appRoleDirective","","accessType","read_action","moduleType","trade",1,"trade-board__button-postion",3,"disabled","click"],[3,"neutralQuote","keyId"]],template:function(e,t){1&e&&(l.TgZ(0,"app-tile-header",0),l.NdJ("editTile",function(e){return t.onEditTile(e)})("deleteTile",function(e){return t.onDeleteTile(e)}),l.qZA(),l.TgZ(1,"app-profit-list",1),l.NdJ("profitOfferClick",function(e){return t.onClickedList(e)}),l.qZA(),l.TgZ(2,"ul",2),l.NdJ("click",function(e){return t.onClickedNeutralList(e,t.tradeTileOffers.neutral)}),l.YNc(3,R,1,2,"app-neutral-offer",3),l.ALo(4,"keyvalue"),l.qZA(),l.TgZ(5,"app-losses-list",4),l.NdJ("losesOfferClick",function(e){return t.onClickedList(e)}),l.qZA(),l.TgZ(6,"div",5),l.TgZ(7,"button",6),l.NdJ("click",function(){return t.onSavePickedOfferData()}),l._uU(8),l.ALo(9,"translate"),l.qZA(),l.TgZ(10,"button",7),l.NdJ("click",function(){return t.onSellStock()}),l._uU(11),l.ALo(12,"translate"),l.qZA(),l.TgZ(13,"button",8),l.NdJ("click",function(){return t.onFindSelectedOffer()}),l._uU(14),l.ALo(15,"translate"),l.qZA(),l.qZA()),2&e&&(l.Q6J("stockElement",t.getStockElement)("headerCalculations",t.getHeaderCalculations),l.xp6(1),l.Q6J("profitQuotes",t.getProfitQuotes)("profitOfferId",t.getProfitOfferId)("profitOfferIdInit",t.getProfitOfferIdInit),l.xp6(2),l.Q6J("ngForOf",l.xi3(4,14,t.getNeutralQuote,t.unsorted)),l.xp6(2),l.Q6J("loseQuotes",t.getLoseQuotes)("loseOfferId",t.getLoseOfferId)("loseOfferIdInit",t.getLoseOfferIdInit),l.xp6(2),l.Q6J("disabled",t.saveButtonDisabled),l.xp6(1),l.hij(" ",l.lcZ(9,17,"trade.saveButtonText")," "),l.xp6(3),l.hij(" ",l.lcZ(12,19,"trade.sellButtonText")," "),l.xp6(2),l.Q6J("disabled",!t.getOfferMarker&&!t.getOfferId),l.xp6(1),l.hij(" ",l.lcZ(15,21,"trade.findButtonText")," "))},directives:[D,B,o.sg,M,m.lW,x.i,$],pipes:[o.Nd,h.X$],encapsulation:2}),e})();function X(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",6),l.NdJ("click",function(){return l.CHM(e),l.oxw().onAddNewStock()}),l.TgZ(1,"div",7),l.TgZ(2,"p",8),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.TgZ(5,"p",8),l._uU(6),l.ALo(7,"translate"),l.qZA(),l.qZA(),l.qZA()}2&e&&(l.xp6(3),l.Oqu(l.lcZ(4,2,"trade.tradeInfoTextOne")),l.xp6(3),l.Oqu(l.lcZ(7,4,"trade.tradeInfoTextTwo")))}function K(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"app-stock-tile",9),l.NdJ("editTile",function(t){return l.CHM(e),l.oxw().onEditTile(t)})("deleteTile",function(t){return l.CHM(e),l.oxw().onDeleteTile(t)})("savePickedOffer",function(t){return l.CHM(e),l.oxw().onSavePickedOffer(t)})("sellStock",function(t){return l.CHM(e),l.oxw().onSellStock(t)}),l.qZA()}if(2&e){const e=t.$implicit;l.Q6J("stockElement",e)("offerMarker",null==e?null:e.markerOfferType)("offerId",null==e?null:e.markerOfferValue)}}let G=(()=>{class e{constructor(){this.addNewStock=new l.vpe,this.deleteTile=new l.vpe,this.editTile=new l.vpe,this.savePickedOffer=new l.vpe,this.sellStock=new l.vpe}ngOnInit(){}onAddNewStock(){this.addNewStock.emit()}onEditTile(e){this.editTile.emit(e)}onDeleteTile(e){this.deleteTile.emit(e)}onSavePickedOffer(e){this.savePickedOffer.emit(e)}onSellStock(e){this.sellStock.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-trade-ui"]],inputs:{stockBoardArray:"stockBoardArray"},outputs:{addNewStock:"addNewStock",deleteTile:"deleteTile",editTile:"editTile",savePickedOffer:"savePickedOffer",sellStock:"sellStock"},decls:8,vars:5,consts:[[1,"trade-board"],[1,"trade-board__button-wrapper"],["id","trade-board-add-button","color","primary","mat-raised-button","","appRoleDirective","","accessType","create_action","moduleType","trade",3,"click"],[1,"trade-board__container"],["class","pulsing-rings","appRoleDirective","","accessType","create_action","moduleType","trade",3,"click",4,"ngIf"],["class","trade-tile-margin trade-tile",3,"stockElement","offerMarker","offerId","editTile","deleteTile","savePickedOffer","sellStock",4,"ngFor","ngForOf"],["appRoleDirective","","accessType","create_action","moduleType","trade",1,"pulsing-rings",3,"click"],[1,"trade-board-info-sign-wrapper"],[1,"trade-board-info-text"],[1,"trade-tile-margin","trade-tile",3,"stockElement","offerMarker","offerId","editTile","deleteTile","savePickedOffer","sellStock"]],template:function(e,t){1&e&&(l.TgZ(0,"section",0),l.TgZ(1,"div",1),l.TgZ(2,"button",2),l.NdJ("click",function(){return t.onAddNewStock()}),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.qZA(),l.TgZ(5,"article",3),l.YNc(6,X,8,6,"div",4),l.YNc(7,K,1,3,"app-stock-tile",5),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.hij(" ",l.lcZ(4,3,"trade.addButtonText")," "),l.xp6(3),l.Q6J("ngIf",0===t.stockBoardArray.length),l.xp6(1),l.Q6J("ngForOf",t.stockBoardArray))},directives:[m.lW,x.i,o.O5,o.sg,Y],pipes:[h.X$],encapsulation:2}),e})();const W=[{path:"",children:[{path:"",component:(()=>{class e{constructor(e,t,r){this.formService=e,this.stockTradeBoardService=t,this.matDialog=r,this.formState=n,this.stockBoardArray=[]}ngOnInit(){this.previousFormDataSubscription=this.formService.getEntreFormSubject().subscribe(e=>{this.previousFormData=e}),this.getLastFormEntre(),this.stockBoardDataSubscription=this.stockTradeBoardService.getStockBoardArray.subscribe(e=>{this.stockBoardArray=e}),this.fetchStockBoardArray()}ngOnDestroy(){this.previousFormDataSubscription&&this.previousFormDataSubscription.unsubscribe(),this.stockBoardDataSubscription&&this.stockBoardDataSubscription.unsubscribe()}get getStockBoardArray(){return this.stockBoardArray}saveStockToBoardArray(e){this.stockTradeBoardService.creatingNewPosition(e),this.saveEntreFormDataToLocalStorage(e)}saveEntreFormDataToLocalStorage(e){this.formService.saveEntreFormDataToLocalStorage(e)}fetchStockBoardArray(){this.stockTradeBoardService.fetchTradeBoardData()}savePickedOffer(e){this.stockTradeBoardService.savePickedOfferToStockData(e)}openFormDialogAdd(){this.getLastFormEntre();const e=new s.vA;e.disableClose=!1,e.id="modal-component",e.data={formData:this.previousFormData,state:this.formState.Add},this.matDialog.open(I,e).afterClosed().subscribe(e=>{e&&this.saveStockToBoardArray(e)})}getLastFormEntre(){this.formService.getEntreFormDataFromLocalStorage()}openFormDialogEdit(e){const t=this.fetchStockDataToEdit(e);if(null===t)return;const r=new s.vA;r.disableClose=!1,r.id="modal-component",r.data={formData:t,state:this.formState.Edit,buttonColor:"accent"},this.matDialog.open(I,r).afterClosed().subscribe(t=>{t&&this.updateStockBoardArray(t,e)})}fetchStockDataToEdit(e){return this.stockTradeBoardService.findStockInArray(e)}updateStockBoardArray(e,t){this.stockTradeBoardService.editTradeBoardArrayData(e,t)}openFormDialogDelete(e){const t=new s.vA;t.disableClose=!1,t.id="modal-component",t.data={header:"trade.deleteConfirmDialogHeader",description:"trade.deleteConfirmDialogText",buttonColor:"warn"},this.matDialog.open(C.U,t).afterClosed().subscribe(t=>{t&&this.deleteStockTileData(e)})}deleteStockTileData(e){this.stockTradeBoardService.deletePositionFromBoard(e)}openFormDialogSell(e){const t=new s.vA;t.disableClose=!1,t.id="modal-component",t.data={header:"trade.sellConfirmDialogHeader",description:"trade.sellConfirmDialogText",buttonColor:"primary"},this.matDialog.open(C.U,t).afterClosed().subscribe(t=>{t&&this.sellStock(e)})}sellStock(e){this.stockTradeBoardService.sellStock(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(u),l.Y36(A.X),l.Y36(s.uw))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-trade"]],decls:1,vars:1,consts:[[3,"stockBoardArray","dataFromForm","addNewStock","editTile","deleteTile","savePickedOffer","sellStock"]],template:function(e,t){1&e&&(l.TgZ(0,"app-trade-ui",0),l.NdJ("dataFromForm",function(e){return t.saveStockToBoardArray(e)})("addNewStock",function(){return t.openFormDialogAdd()})("editTile",function(e){return t.openFormDialogEdit(e)})("deleteTile",function(e){return t.openFormDialogDelete(e)})("savePickedOffer",function(e){return t.savePickedOffer(e)})("sellStock",function(e){return t.openFormDialogSell(e)}),l.qZA()),2&e&&l.Q6J("stockBoardArray",t.getStockBoardArray)},directives:[G],encapsulation:2}),e})()}]}];let z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.Bz.forChild(W)],a.Bz]}),e})();var ee=r(9532),te=r(2497),re=r(8318);r(3262),r(7581),r(2645),r(3897);let oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[re.si,re.BQ],re.BQ]}),e})();var ie=r(6972),ae=r(3537);let se=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[h.sK],imports:[[o.ez,z,m.ot,s.Is,ee.Ps,i.u5,i.UX,d.lN,f.c,te.m,oe,F.Cl,ie.JF,h.aw.forChild({loader:{provide:h.aw,useFactory:ne,deps:[ie.eN]}})]]}),e})();function ne(e){return new ae.w(e)}}}]);
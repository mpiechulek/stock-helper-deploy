!function(){"use strict";function i(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function t(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,(o=n.key,r=void 0,"symbol"==typeof(r=function(i,t){if("object"!=typeof i||null===i)return i;var e=i[Symbol.toPrimitive];if(void 0!==e){var n=e.call(i,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(i)}(o,"string"))?r:String(r)),n)}var o,r}function e(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(self.webpackChunkstock_helper=self.webpackChunkstock_helper||[]).push([[983],{3983:function(t,n,o){o.r(n),o.d(n,{AuthModule:function(){return Z}});var r,s=o(8583),a=o(3423),u=o(8049),l=o(7716),m=o(5980),c=o(3679),g=o(6215),d=o(8295),p=o(9983),f=o(6627),h=o(1095),b=((r=function(){function t(e){i(this,t),this.FormBuilder=e,this.hide=!0,this.inputDisabled=new g.X(!1),this.inputDisabled$=this.inputDisabled.asObservable(),this.userLoginData=new l.vpe}return e(t,[{key:"loginFormDisabled",get:function(){return this._loginFormDisabled},set:function(i){this._loginFormDisabled=i,this.inputDisabled.next(i)}},{key:"ngOnInit",value:function(){var i=this;this.loginForm=this.FormBuilder.group({userName:["",c.kI.required],password:["",c.kI.required]}),this.inputDisabled$.subscribe(function(t){t||i.loginForm.enable(),t&&i.loginForm.disable()})}},{key:"userName",get:function(){return this.loginForm.get("userName")}},{key:"password",get:function(){return this.loginForm.get("password")}},{key:"onSubmitLogin",value:function(){!this.loginForm.valid||(this.userLoginData.emit(this.loginForm.value),this.loginFormDisabled=!0,this.loginForm.reset(),this.loginForm.disable())}}]),t}()).\u0275fac=function(i){return new(i||r)(l.Y36(c.qu))},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-login-form"]],inputs:{loginFormDisabled:"loginFormDisabled"},outputs:{userLoginData:"userLoginData"},decls:17,vars:4,consts:[[1,"login-form",3,"formGroup","submit"],["id","login-mat-form-field-user"],["id","login-mat-form-field-user-label"],["matInput","","id","login-mat-form-field-user-input","type","text","name","userName","autocomplete","userName","formControlName","userName","placeholder","User"],["id","login-mat-form-field-password"],["id","login-mat-form-field-password-label"],["matInput","","id","login-mat-form-field-password-input","name","current-password","autocomplete","current-password","formControlName","password","placeholder","Password",3,"type"],["matSuffix","",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"login-button",3,"disabled"]],template:function(i,t){1&i&&(l.TgZ(0,"form",0),l.NdJ("submit",function(){return t.onSubmitLogin()}),l.TgZ(1,"mat-form-field",1),l.TgZ(2,"mat-label",2),l._uU(3," User "),l.qZA(),l._UZ(4,"input",3),l.TgZ(5,"mat-error"),l._uU(6," User name is required "),l.qZA(),l.qZA(),l.TgZ(7,"mat-form-field",4),l.TgZ(8,"mat-label",5),l._uU(9," Password "),l.qZA(),l._UZ(10,"input",6),l.TgZ(11,"mat-icon",7),l.NdJ("click",function(){return t.hide=!t.hide}),l._uU(12),l.qZA(),l.TgZ(13,"mat-error"),l._uU(14," Password is required "),l.qZA(),l.qZA(),l.TgZ(15,"button",8),l._uU(16," Login "),l.qZA(),l.qZA()),2&i&&(l.Q6J("formGroup",t.loginForm),l.xp6(10),l.Q6J("type",t.hide?"password":"text"),l.xp6(2),l.hij(" ",t.hide?"visibility_off":"visibility"," "),l.xp6(3),l.Q6J("disabled",t.loginForm.invalid||t.loginFormDisabled))},directives:[c._Y,c.JL,c.sg,d.KE,d.hX,p.Nt,c.Fj,c.JJ,c.u,d.TO,f.Hw,d.R9,h.lW],encapsulation:2}),r),v=o(4885),D=function(i){return{"auth-spinner-container--visible":i}},F=function(){var t=function(){function t(){i(this,t),this.userLoginData=new l.vpe}return e(t,[{key:"loginFormDisabled",get:function(){return this._loginFormDisabled},set:function(i){this._loginFormDisabled=i}},{key:"ngOnInit",value:function(){}},{key:"submitLogin",value:function(i){this.userLoginData.emit(i)}}]),t}();return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-login-ui"]],inputs:{loginFormDisabled:"loginFormDisabled"},outputs:{userLoginData:"userLoginData"},decls:6,vars:4,consts:[[1,"login-container"],[1,"auth-header"],[3,"loginFormDisabled","userLoginData"],[1,"auth-spinner-container",3,"ngClass"],["diameter","50"]],template:function(i,t){1&i&&(l.TgZ(0,"div",0),l.TgZ(1,"h1",1),l._uU(2,"Login"),l.qZA(),l.TgZ(3,"app-login-form",2),l.NdJ("userLoginData",function(i){return t.submitLogin(i)}),l.qZA(),l.TgZ(4,"div",3),l._UZ(5,"mat-spinner",4),l.qZA(),l.qZA()),2&i&&(l.xp6(3),l.Q6J("loginFormDisabled",t.loginFormDisabled),l.xp6(1),l.Q6J("ngClass",l.VKq(2,D,t.loginFormDisabled)))},directives:[b,s.mk,v.$g],encapsulation:2}),t}(),y=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"",children:[{path:"login",component:function(){var t=function(){function t(e,n,o){i(this,t),this.authenticationService=e,this.route=n,this.router=o,this._loginFormDisabled=!1,this.authenticationService.userValue&&this.router.navigate(["/"])}return e(t,[{key:"ngOnInit",value:function(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/main/home"}},{key:"loginFormDisabled",get:function(){return this._loginFormDisabled}},{key:"submitLogin",value:function(i){this._loginFormDisabled=!0,this.loginUser(i)}},{key:"loginUser",value:function(i){var t=this;this.authenticationService.login(i.userName,i.password).pipe((0,u.P)()).subscribe({next:function(){t.router.navigate([t.returnUrl])},error:function(i){t._loginFormDisabled=!1}})}}]),t}();return t.\u0275fac=function(i){return new(i||t)(l.Y36(m.$),l.Y36(a.gz),l.Y36(a.F0))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-login"]],decls:1,vars:1,consts:[[3,"loginFormDisabled","userLoginData"]],template:function(i,t){1&i&&(l.TgZ(0,"app-login-ui",0),l.NdJ("userLoginData",function(i){return t.submitLogin(i)}),l.qZA()),2&i&&l.Q6J("loginFormDisabled",t.loginFormDisabled)},directives:[F],encapsulation:2}),t}()}]}],w=function(){var t=e(function t(){i(this,t)});return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[a.Bz.forChild(y)],a.Bz]}),t}(),Z=function(){var t=e(function t(){i(this,t)});return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[s.ez,w,p.c,d.lN,h.ot,f.Ps,c.u5,c.UX,v.Cq]]}),t}()}}])}();
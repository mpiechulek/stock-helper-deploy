"use strict";(self.webpackChunkstock_helper=self.webpackChunkstock_helper||[]).push([[983],{3983:function(i,e,t){t.r(e),t.d(e,{AuthModule:function(){return Z}});var r=t(8583),o=t(3423),n=t(8049),s=t(7716),a=t(5980),l=t(3679),u=t(6215),m=t(8295),g=t(9983),d=t(6627),p=t(1095);let c=(()=>{class i{constructor(i){this.FormBuilder=i,this.hide=!0,this.inputDisabled=new u.X(!1),this.inputDisabled$=this.inputDisabled.asObservable(),this.userLoginData=new s.vpe}set loginFormDisabled(i){this._loginFormDisabled=i,this.inputDisabled.next(i)}get loginFormDisabled(){return this._loginFormDisabled}ngOnInit(){this.loginForm=this.FormBuilder.group({userName:["",l.kI.required],password:["",l.kI.required]}),this.inputDisabled$.subscribe(i=>{i||this.loginForm.enable(),i&&this.loginForm.disable()})}get userName(){return this.loginForm.get("userName")}get password(){return this.loginForm.get("password")}onSubmitLogin(){!this.loginForm.valid||(this.userLoginData.emit(this.loginForm.value),this.loginFormDisabled=!0,this.loginForm.reset(),this.loginForm.disable())}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(l.qu))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-login-form"]],inputs:{loginFormDisabled:"loginFormDisabled"},outputs:{userLoginData:"userLoginData"},decls:17,vars:4,consts:[[1,"login-form",3,"formGroup","submit"],["id","login-mat-form-field-user"],["id","login-mat-form-field-user-label"],["matInput","","id","login-mat-form-field-user-input","type","text","name","userName","autocomplete","userName","formControlName","userName","placeholder","User"],["id","login-mat-form-field-password"],["id","login-mat-form-field-password-label"],["matInput","","id","login-mat-form-field-password-input","name","current-password","autocomplete","current-password","formControlName","password","placeholder","Password",3,"type"],["matSuffix","",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"login-button",3,"disabled"]],template:function(i,e){1&i&&(s.TgZ(0,"form",0),s.NdJ("submit",function(){return e.onSubmitLogin()}),s.TgZ(1,"mat-form-field",1),s.TgZ(2,"mat-label",2),s._uU(3," User "),s.qZA(),s._UZ(4,"input",3),s.TgZ(5,"mat-error"),s._uU(6," User name is required "),s.qZA(),s.qZA(),s.TgZ(7,"mat-form-field",4),s.TgZ(8,"mat-label",5),s._uU(9," Password "),s.qZA(),s._UZ(10,"input",6),s.TgZ(11,"mat-icon",7),s.NdJ("click",function(){return e.hide=!e.hide}),s._uU(12),s.qZA(),s.TgZ(13,"mat-error"),s._uU(14," Password is required "),s.qZA(),s.qZA(),s.TgZ(15,"button",8),s._uU(16," Login "),s.qZA(),s.qZA()),2&i&&(s.Q6J("formGroup",e.loginForm),s.xp6(10),s.Q6J("type",e.hide?"password":"text"),s.xp6(2),s.hij(" ",e.hide?"visibility_off":"visibility"," "),s.xp6(3),s.Q6J("disabled",e.loginForm.invalid||e.loginFormDisabled))},directives:[l._Y,l.JL,l.sg,m.KE,m.hX,g.Nt,l.Fj,l.JJ,l.u,m.TO,d.Hw,m.R9,p.lW],encapsulation:2}),i})();var h=t(4885);const b=function(i){return{"auth-spinner-container--visible":i}};let f=(()=>{class i{constructor(){this.userLoginData=new s.vpe}set loginFormDisabled(i){this._loginFormDisabled=i}get loginFormDisabled(){return this._loginFormDisabled}ngOnInit(){}submitLogin(i){this.userLoginData.emit(i)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-login-ui"]],inputs:{loginFormDisabled:"loginFormDisabled"},outputs:{userLoginData:"userLoginData"},decls:6,vars:4,consts:[[1,"login-container"],[1,"auth-header"],[3,"loginFormDisabled","userLoginData"],[1,"auth-spinner-container",3,"ngClass"],["diameter","50"]],template:function(i,e){1&i&&(s.TgZ(0,"div",0),s.TgZ(1,"h1",1),s._uU(2,"Login"),s.qZA(),s.TgZ(3,"app-login-form",2),s.NdJ("userLoginData",function(i){return e.submitLogin(i)}),s.qZA(),s.TgZ(4,"div",3),s._UZ(5,"mat-spinner",4),s.qZA(),s.qZA()),2&i&&(s.xp6(3),s.Q6J("loginFormDisabled",e.loginFormDisabled),s.xp6(1),s.Q6J("ngClass",s.VKq(2,b,e.loginFormDisabled)))},directives:[c,r.mk,h.$g],encapsulation:2}),i})();const D=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"",children:[{path:"login",component:(()=>{class i{constructor(i,e,t){this.authenticationService=i,this.route=e,this.router=t,this._loginFormDisabled=!1,this.authenticationService.userValue&&this.router.navigate(["/"])}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/main/home"}get loginFormDisabled(){return this._loginFormDisabled}submitLogin(i){this._loginFormDisabled=!0,this.loginUser(i)}loginUser(i){this.authenticationService.login(i.userName,i.password).pipe((0,n.P)()).subscribe({next:()=>{this.router.navigate([this.returnUrl])},error:i=>{this._loginFormDisabled=!1}})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(a.$),s.Y36(o.gz),s.Y36(o.F0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-login"]],decls:1,vars:1,consts:[[3,"loginFormDisabled","userLoginData"]],template:function(i,e){1&i&&(s.TgZ(0,"app-login-ui",0),s.NdJ("userLoginData",function(i){return e.submitLogin(i)}),s.qZA()),2&i&&s.Q6J("loginFormDisabled",e.loginFormDisabled)},directives:[f],encapsulation:2}),i})()}]}];let F=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[o.Bz.forChild(D)],o.Bz]}),i})(),Z=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[r.ez,F,g.c,m.lN,p.ot,d.Ps,l.u5,l.UX,h.Cq]]}),i})()}}]);
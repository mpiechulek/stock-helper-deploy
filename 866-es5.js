!function(){function e(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&t(e,r)}function t(e,r){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,r)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=i(e);if(t){var a=i(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return o(this,r)}}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var o,i,n=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}(self.webpackChunkstock_helper=self.webpackChunkstock_helper||[]).push([[866],{6866:function(t,o,i){"use strict";i.r(o),i.d(o,{TradeModule:function(){return pe},httpTranslateLoader:function(){return me}});var a=i(5109),c=i(6278),u=i(6253),f=i(4253),d=function(e){return e.Add="Add",e.Edit="Edit",e.Delete="Delete",e}({}),p=i(2304),m=i(9033),h=function(){var e=function(){function e(){l(this,e),this.formData=null,this.storageFormKeyName="entreFormData",this.entreFormSubject=new m.xQ,this.entreFormSubject$=this.entreFormSubject.asObservable()}return s(e,[{key:"ngOnInit",value:function(){}},{key:"checkIfEntreFormDataInLocalStorage",value:function(){return null!==localStorage.getItem(this.storageFormKeyName)}},{key:"getEntreFormDataFromLocalStorage",value:function(){this.checkIfEntreFormDataInLocalStorage()&&(this.formData=JSON.parse(localStorage.getItem(this.storageFormKeyName)),this.entreFormSubject.next(this.formData))}},{key:"getEntreFormSubject",value:function(){return this.entreFormSubject$}},{key:"saveEntreFormDataToLocalStorage",value:function(e){localStorage.setItem(this.storageFormKeyName,JSON.stringify(e))}},{key:"fixeNumberDecimalPlaces",value:function(e){var t;return e.includes(".")?(t=e.split("."))[1].length>4?t[0]+"."+t[1].slice(0,3):e:e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),k=i(2758),g=i(3196),v=i(2417),y=i(8323),b=i(9263);function S(e,t){1&e&&(p.O4$(),p.kcU(),p.TgZ(0,"h1",21),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"trade.entireDialogFormHeaderAdd"),"\n"))}function T(e,t){1&e&&(p.O4$(),p.kcU(),p.TgZ(0,"h1",21),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"trade.entireDialogFormHeaderEdit"),"\n"))}function Z(e,t){1&e&&(p.TgZ(0,"mat-error"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"trade.entireDialogFormErrorMessageName")," "))}function O(e,t){1&e&&(p.TgZ(0,"mat-error"),p._uU(1," Number of shares must be a positive integer. "),p.qZA())}function I(e,t){1&e&&(p.TgZ(0,"mat-error"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"trade.entireDialogFormErrorMessageQuantity")," "))}function A(e,t){1&e&&(p.TgZ(0,"mat-error"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"trade.entireDialogFormErrorMessageBuyPrice")," "))}function C(e,t){1&e&&(p.TgZ(0,"mat-error"),p._uU(1," Number of steps must be a positive integer. "),p.qZA())}function x(e,t){1&e&&(p.TgZ(0,"span"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"trade.addButtonText"),""))}function Q(e,t){1&e&&(p.TgZ(0,"span"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"trade.saveButtonText"),""))}var P=function(){var e=function(){function e(t,r,o,i){l(this,e),this.formService=t,this.formBuilder=r,this.dialogRef=o,this.data=i,this.formState=d,this.buttonColor="primary"}return s(e,[{key:"ngOnInit",value:function(){this.entryStockForm=this.formBuilder.group({companyName:["",[c.kI.required]],amountOfShares:["1",[c.kI.required,c.kI.pattern("^[1-9][0-9]*$"),c.kI.min(1)]],buyPrice:["0",[c.kI.required,c.kI.pattern("^[0-9]+(.[0-9]{1,4})?$"),c.kI.min(1e-4)]],taxRate:["0.0000",[c.kI.min(0),c.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],commission:["0.0000",[c.kI.min(0),c.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],minCommission:["0.0000",[c.kI.min(0),c.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],calcStepCount:["200",[c.kI.min(1),c.kI.pattern("^[1-9][0-9]*$")]],calcStepValue:["0.5",[c.kI.min(.1),c.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]]}),this.dialogState=this.data.state,this.data.formData&&this.entryStockForm.patchValue(this.data.formData),this.data.buttonColor&&(this.buttonColor=this.data.buttonColor)}},{key:"companyName",get:function(){return this.entryStockForm.get("companyName")}},{key:"amountOfShares",get:function(){return this.entryStockForm.get("amountOfShares")}},{key:"buyPrice",get:function(){return this.entryStockForm.get("buyPrice")}},{key:"taxRate",get:function(){return this.entryStockForm.get("taxRate")}},{key:"commission",get:function(){return this.entryStockForm.get("commission")}},{key:"minCommission",get:function(){return this.entryStockForm.get("minCommission")}},{key:"calcStepCount",get:function(){return this.entryStockForm.get("calcStepCount")}},{key:"calcStepValue",get:function(){return this.entryStockForm.get("calcStepValue")}},{key:"onSubmitDialog",value:function(){this.entryStockForm.invalid||(this.entryStockForm.patchValue({companyName:this.entryStockForm.value.companyName,amountOfShares:this.entryStockForm.value.amountOfShares,buyPrice:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.buyPrice),taxRate:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.taxRate),commission:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.commission),minCommission:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.minCommission),calcStepCount:this.entryStockForm.value.calcStepCount,calcStepValue:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.calcStepValue)}),this.dialogRef.close(this.entryStockForm.value))}},{key:"onOverwriteFormPosition",value:function(e,t){var r,o,i;this.entryStockForm.patchValue((i=e,(o=t)in(r={})?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r))}},{key:"onClearField",value:function(e){}},{key:"onClearForm",value:function(){this.entryStockForm.reset()}},{key:"onCloseDialog",value:function(){this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(h),p.Y36(c.qu),p.Y36(f.so),p.Y36(f.WI))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-trade-dialog"]],decls:68,vars:46,consts:[["type","button",1,"btn","trade-entry-form__close-btn",3,"click"],["src","./assets/icon/Icon awesome-sun.svg",1,"icon","icon--close"],["class","modal-dialog-header-text  trade-entry-form__header",4,"ngIf"],[1,"trade-entry-form",3,"formGroup","submit"],[1,"trade-entry-form__section-1"],["id","trade-dialog-form"],["matInput","","type","text","formControlName","companyName"],[4,"ngIf"],["matInput","","type","number","formControlName","amountOfShares"],[1,"trade-entry-form__section-2"],["matInput","","type","text","formControlName","buyPrice","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","taxRate","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","commission","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","minCommission","appNumberDigit","",3,"outputData"],["matInput","","type","number","formControlName","calcStepCount"],["matInput","","type","text","formControlName","calcStepValue","appNumberDigit","",3,"outputData"],[1,"trade-entry-form__section-3"],[1,"trade-tile-form-buy-price"],[1,"trade-entry-form__section-4"],["mat-raised-button","","type","submit",3,"color","disabled"],["mat-raised-button","","type","button",3,"click"],[1,"modal-dialog-header-text","trade-entry-form__header"]],template:function(e,t){1&e&&(p.TgZ(0,"button",0),p.NdJ("click",function(){return t.onCloseDialog()}),p.O4$(),p._UZ(1,"svg",1),p.qZA(),p.YNc(2,S,3,3,"h1",2),p.YNc(3,T,3,3,"h1",2),p.kcU(),p.TgZ(4,"form",3),p.NdJ("submit",function(){return t.onSubmitDialog()}),p.TgZ(5,"div",4),p.TgZ(6,"mat-form-field",5),p.TgZ(7,"mat-label",5),p._uU(8),p.ALo(9,"translate"),p.qZA(),p._UZ(10,"input",6),p.YNc(11,Z,3,3,"mat-error",7),p.qZA(),p.TgZ(12,"mat-form-field",5),p.TgZ(13,"mat-label",5),p._uU(14),p.ALo(15,"translate"),p.qZA(),p._UZ(16,"input",8),p.YNc(17,O,2,0,"mat-error",7),p.YNc(18,I,3,3,"mat-error",7),p.qZA(),p.qZA(),p.TgZ(19,"div",9),p.TgZ(20,"mat-form-field",5),p.TgZ(21,"mat-label",5),p._uU(22),p.ALo(23,"translate"),p.qZA(),p.TgZ(24,"input",10),p.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"buyPrice")}),p.qZA(),p.YNc(25,A,3,3,"mat-error",7),p.qZA(),p.TgZ(26,"mat-form-field",5),p.TgZ(27,"mat-label",5),p._uU(28),p.ALo(29,"translate"),p.qZA(),p.TgZ(30,"input",11),p.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"taxRate")}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(31,"div",9),p.TgZ(32,"mat-form-field",5),p.TgZ(33,"mat-label",5),p._uU(34),p.ALo(35,"translate"),p.qZA(),p.TgZ(36,"input",12),p.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"commission")}),p.qZA(),p.qZA(),p.TgZ(37,"mat-form-field",5),p.TgZ(38,"mat-label",5),p._uU(39),p.ALo(40,"translate"),p.qZA(),p.TgZ(41,"input",13),p.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"minCommission")}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(42,"div",9),p.TgZ(43,"mat-form-field",5),p.TgZ(44,"mat-label",5),p._uU(45),p.ALo(46,"translate"),p.qZA(),p._UZ(47,"input",14),p.YNc(48,C,2,0,"mat-error",7),p.qZA(),p.TgZ(49,"mat-form-field",5),p.TgZ(50,"mat-label",5),p._uU(51),p.ALo(52,"translate"),p.qZA(),p.TgZ(53,"input",15),p.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"calcStepValue")}),p.qZA(),p.TgZ(54,"mat-error"),p._uU(55," The min. value of the calculate step is 0.1 "),p.qZA(),p.qZA(),p.qZA(),p.TgZ(56,"div",16),p.TgZ(57,"p",17),p._uU(58),p.ALo(59,"translate"),p.ALo(60,"number"),p.qZA(),p.qZA(),p.TgZ(61,"div",18),p.TgZ(62,"button",19),p.YNc(63,x,3,3,"span",7),p.YNc(64,Q,3,3,"span",7),p.qZA(),p.TgZ(65,"button",20),p.NdJ("click",function(){return t.onClearForm()}),p._uU(66),p.ALo(67,"translate"),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(2),p.Q6J("ngIf",t.dialogState==t.formState.Add),p.xp6(1),p.Q6J("ngIf",t.dialogState==t.formState.Edit),p.xp6(1),p.Q6J("formGroup",t.entryStockForm),p.xp6(4),p.Oqu(p.lcZ(9,23,"trade.entireDialogFormName")),p.xp6(3),p.Q6J("ngIf",t.companyName.dirty||t.companyName.touched),p.xp6(3),p.Oqu(p.lcZ(15,25,"trade.entireDialogFormQuantity")),p.xp6(3),p.Q6J("ngIf",t.amountOfShares.hasError("pattern")),p.xp6(1),p.Q6J("ngIf",t.amountOfShares.touched&&!t.amountOfShares.hasError("pattern")),p.xp6(4),p.Oqu(p.lcZ(23,27,"trade.entireDialogFormBuyPrice")),p.xp6(3),p.Q6J("ngIf",t.buyPrice.touched),p.xp6(3),p.Oqu(p.lcZ(29,29,"trade.entireDialogFormTax")),p.xp6(6),p.Oqu(p.lcZ(35,31,"trade.entireDialogFormCommission")),p.xp6(5),p.Oqu(p.lcZ(40,33,"trade.entireDialogFormMinCommission")),p.xp6(6),p.Oqu(p.lcZ(46,35,"trade.entireDialogFormOfferNumber")),p.xp6(3),p.Q6J("ngIf",t.calcStepCount.hasError("pattern")),p.xp6(3),p.Oqu(p.lcZ(52,37,"trade.entireDialogFormPercentageStep")),p.xp6(7),p.AsE(" ",p.lcZ(59,39,"trade.tileHeaderBuyValue")," : ",p.xi3(60,41,t.entryStockForm.value.amountOfShares*t.entryStockForm.value.buyPrice,"1.2-2")," "),p.xp6(4),p.s9C("color",t.buttonColor),p.Q6J("disabled",t.entryStockForm.invalid),p.xp6(1),p.Q6J("ngIf",t.dialogState==t.formState.Add),p.xp6(1),p.Q6J("ngIf",t.dialogState==t.formState.Edit),p.xp6(2),p.Oqu(p.lcZ(67,44,"trade.clearButtonText")))},directives:[a.O5,c._Y,c.JL,c.sg,k.KE,k.hX,g.Nt,c.Fj,c.JJ,c.u,c.wV,v.Z,k.TO,y.lW],pipes:[b.X$,a.JJ],encapsulation:2}),e}(),q=i(6746),N=i(9316),D=i(2632),F=function(e){return e.neutral="neutral",e.lose="lose",e.profit="profit",e}({}),_=i(58),w=function(){var e=function(){function e(t){l(this,e),this.stockPriceCalculatorService=t,this.numberOfRepeats=200,this.percentageChange=.5,this.numericObject={},this.selectedOfferMarker={profit:null,lose:null,neutral:null},this.chosenOfferMarkerHolder="neutral",this.chosenOfferIdHolder="0",this.tradeTileOffers=F,this.loseQuotes=new m.xQ,this.loseQuotes$=this.loseQuotes.asObservable(),this.loseQuotesHolder={},this.profitQuotes=new m.xQ,this.profitQuotes$=this.profitQuotes.asObservable(),this.profitQuotesHolder={},this.neutralQuotes=new m.xQ,this.neutralQuotes$=this.neutralQuotes.asObservable(),this.neutralQuotesHolder={},this.headerCalculations=new m.xQ,this.headerCalculations$=this.headerCalculations.asObservable()}return s(e,[{key:"ngOnInit",value:function(){}},{key:"getProfitQuotes$",get:function(){return this.profitQuotes$}},{key:"getLoseQuotes$",get:function(){return this.loseQuotes$}},{key:"getNeutralQuote$",get:function(){return this.neutralQuotes$}},{key:"getHeaderCalculations$",get:function(){return this.headerCalculations$}},{key:"convertStringObjectElementsToNumber",value:function(e){var t={};""===e.taxRate&&(e.taxRate="0"),""===e.minCommission&&(e.minCommission="0"),""===e.commission&&(e.commission="0");for(var r=0,o=Object.entries(e);r<o.length;r++){var i=n(o[r],2),a=i[0],l=i[1];null===l&&(t[a]=l),isNaN(l)||(t[a]=parseFloat(l))}t.percentageChange=0,this.numericObject=t,this.setOfferListGenerationProperties(this.numericObject,e)}},{key:"setOfferListGenerationProperties",value:function(e,t){null!==e.calcStepCount&&null!==e.calcStepValue&&(this.numberOfRepeats=e.calcStepCount,this.percentageChange=e.calcStepValue),null!==t.markerOfferType&&null!==e.markerOfferValue&&(this.selectedOfferMarker[t.markerOfferType]=e.markerOfferValue,this.chosenOfferMarkerHolder=t.markerOfferType,this.chosenOfferIdHolder=e.markerOfferValue)}},{key:"generateQuotes",value:function(){this.calculateNeutralQuote(this.numericObject),this.generateObjectOfOffers(this.numericObject,"profit",this.numberOfRepeats,this.percentageChange),this.generateObjectOfOffers(this.numericObject,"lose",this.numberOfRepeats,this.percentageChange),this.checkWitchQuoteToUpdate(this.chosenOfferMarkerHolder,this.chosenOfferIdHolder),this.calculateHeader(this.numericObject)}},{key:"calculateNeutralQuote",value:function(e){var t={},r=this.stockPriceCalculatorService.calculateBuyValue(e.amountOfShares,e.buyPrice),o=this.stockPriceCalculatorService.calculatePercentageCommission(r,e.commission),i=this.stockPriceCalculatorService.calculateCommissionValue(r,o,e.minCommission);t[0]={profit:(2*i).toFixed(2),percentageChange:(0).toFixed(2),newPrice:e.buyPrice.toString(),selected:!1},this.neutralQuotesHolder=t,this.neutralQuotes.next(t)}},{key:"generateObjectOfOffers",value:function(e,t){var r,o,i,n,a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.numberOfRepeats,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.percentageChange,s={},u=0;"profit"!==t&&(c*=-1);for(var f=this.stockPriceCalculatorService.calculateBuyValue(e.amountOfShares,e.buyPrice),d=this.stockPriceCalculatorService.calculatePercentageCommission(f,e.commission),p=this.stockPriceCalculatorService.calculateCommissionValue(f,d,e.minCommission),m=0;l>m;m++){u+=c,i=(r=this.stockPriceCalculatorService.calculateCurrentPrice(e.buyPrice,u))*e.amountOfShares;var h=this.stockPriceCalculatorService.calculatePercentageCommission(i,e.commission);n=this.stockPriceCalculatorService.calculateCommissionValue(i,h,e.minCommission),a=this.stockPriceCalculatorService.calculateTotalCommissionValue(p,n),o=this.stockPriceCalculatorService.calculateProfitBeforeTax(i,f,a),s[m]={percentageChange:u.toFixed(this.stockPriceCalculatorService.getNumberOfDecimalPlaces),newPrice:r.toFixed(3),profit:o.toFixed(this.stockPriceCalculatorService.getNumberOfDecimalPlaces),selected:!1}}"profit"===t&&(this.profitQuotesHolder=s,this.profitQuotes.next(s)),"lose"===t&&(this.loseQuotesHolder=s,this.loseQuotes.next(s))}},{key:"calculateHeader",value:function(e){var t,r,o,i={};i.amountOfShares=e.amountOfShares,i.buyPrice=e.buyPrice,i.buyValue=this.stockPriceCalculatorService.calculateBuyValue(e.amountOfShares,e.buyPrice),i.currentPrice=this.stockPriceCalculatorService.calculateCurrentPrice(e.buyPrice,e.percentageChange),i.currentValue=this.stockPriceCalculatorService.calculateCurrentValue(i.currentPrice,e.amountOfShares);var n=this.stockPriceCalculatorService.calculatePercentageCommission(i.buyValue,e.commission);t=this.stockPriceCalculatorService.calculateCommissionValue(i.buyValue,n,e.minCommission);var a=this.stockPriceCalculatorService.calculatePercentageCommission(i.currentValue,e.commission);r=this.stockPriceCalculatorService.calculateCommissionValue(i.currentValue,a,e.minCommission),o=this.stockPriceCalculatorService.calculateTotalCommissionValue(r,t),i.profitBeforeTax=this.stockPriceCalculatorService.calculateProfitBeforeTax(i.currentValue,i.buyValue,o),i.profitAfterTax=i.currentPrice<=e.buyPrice?i.profitBeforeTax:this.stockPriceCalculatorService.calculateProfitAfterTax(i.profitBeforeTax,e.taxRate),i.percentageChange=this.stockPriceCalculatorService.calculatePercentageChange(i.currentPrice,e.buyPrice),this.headerCalculations.next(i)}},{key:"changeSelectedOfferElement",value:function(e,t){var r=this.getChosenElementId(e);this.clearQuoteSelector(this.profitQuotesHolder,this.selectedOfferMarker.profit),this.clearQuoteSelector(this.loseQuotesHolder,this.selectedOfferMarker.lose),this.clearQuoteSelector(this.neutralQuotesHolder,this.selectedOfferMarker.neutral),this.selectedOfferMarker.profit=null,this.selectedOfferMarker.lose=null,this.selectedOfferMarker.neutral=null,this.selectedOfferMarker[t]=r,this.checkWitchQuoteToUpdate(t,r)}},{key:"getChosenElementId",value:function(e){return e.target.classList.contains("trade-tile-stock-change-container")?e.target.id:e.target.parentElement.classList.contains("trade-tile-stock-change-container")?e.target.parentElement.id:e.target.parentElement.parentElement.classList.contains("trade-tile-stock-change-container")?e.target.parentElement.parentElement.id:null}},{key:"clearQuoteSelector",value:function(e,t){return null!==t&&(e[t].selected=!1),e}},{key:"checkWitchQuoteToUpdate",value:function(e,t){e===this.tradeTileOffers.profit&&this.setSelectorInQuotes(this.profitQuotes,this.profitQuotesHolder,t),e===this.tradeTileOffers.lose&&this.setSelectorInQuotes(this.loseQuotes,this.loseQuotesHolder,t),e===this.tradeTileOffers.neutral&&this.setSelectorInQuotes(this.neutralQuotes,this.neutralQuotesHolder,t)}},{key:"setSelectorInQuotes",value:function(e,t,r){t[r].selected=!0,e.next(t),this.setNewPercentageChange(t[r].percentageChange)}},{key:"setNewPercentageChange",value:function(e){this.numericObject.percentageChange=parseFloat(e),this.calculateHeader(this.numericObject)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.LFG(_.f))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac}),e}(),L=function(e,t){return{"trade-tile-stock-text--green":e,"trade-tile-stock-text--red":t}},E=function(){var e=function(){function e(){l(this,e),this.deleteTile=new p.vpe,this.editTile=new p.vpe}return s(e,[{key:"ngOnInit",value:function(){}},{key:"onEditTile",value:function(){this.editTile.emit(this.stockElement.id)}},{key:"onDeleteTile",value:function(){this.deleteTile.emit(this.stockElement.id)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-tile-header"]],inputs:{stockElement:"stockElement",headerCalculations:"headerCalculations"},outputs:{deleteTile:"deleteTile",editTile:"editTile"},decls:52,vars:44,consts:[[1,"trade-tile__stock-data"],[1,"trade-tile-stock-header-container"],[1,"trade-tile-stock-name-text"],[1,"trade-tile-stock-header-button-wrapper"],["appRoleDirective","","accessType","edit_action","moduleType","trade",1,"btn","trade-tile-header-margin-left",3,"click"],[1,"icon","icon--pencil"],["appRoleDirective","","accessType","delete_action","moduleType","trade",1,"btn","trade-tile-header-margin-left",3,"click"],[1,"icon","icon--delete-black"],[1,"trade-tile-stock-header-wrapper"],[1,"trade-tile-stock-text"],[1,"trade-tile-stock-text","trade-tile-stock-text--ld"],[1,"trade-tile-stock-text","trade-tile-stock-text--ld",3,"ngClass"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"h2",2),p._uU(3),p.qZA(),p.TgZ(4,"div",3),p.TgZ(5,"button",4),p.NdJ("click",function(){return t.onEditTile()}),p.O4$(),p._UZ(6,"svg",5),p.qZA(),p.kcU(),p.TgZ(7,"button",6),p.NdJ("click",function(){return t.onDeleteTile()}),p.O4$(),p._UZ(8,"svg",7),p.qZA(),p.qZA(),p.qZA(),p.kcU(),p.TgZ(9,"div",1),p.TgZ(10,"div",8),p.TgZ(11,"p",9),p._uU(12),p.ALo(13,"translate"),p.qZA(),p.TgZ(14,"p",10),p._uU(15),p.ALo(16,"number"),p.qZA(),p.qZA(),p.TgZ(17,"div",8),p.TgZ(18,"p",9),p._uU(19),p.ALo(20,"translate"),p.qZA(),p.TgZ(21,"p",10),p._uU(22),p.ALo(23,"number"),p.qZA(),p.qZA(),p.TgZ(24,"div",8),p.TgZ(25,"p",9),p._uU(26),p.ALo(27,"translate"),p.qZA(),p.TgZ(28,"p",10),p._uU(29),p.qZA(),p.qZA(),p.qZA(),p.TgZ(30,"div",1),p.TgZ(31,"div",8),p.TgZ(32,"p",9),p._uU(33),p.ALo(34,"translate"),p.qZA(),p.TgZ(35,"p",10),p._uU(36),p.ALo(37,"number"),p.qZA(),p.qZA(),p.TgZ(38,"div",8),p.TgZ(39,"p",9),p._uU(40),p.ALo(41,"translate"),p.qZA(),p.TgZ(42,"p",10),p._uU(43),p.ALo(44,"number"),p.qZA(),p.qZA(),p.TgZ(45,"div",8),p.TgZ(46,"p",9),p._uU(47),p.ALo(48,"translate"),p.qZA(),p.TgZ(49,"p",11),p._uU(50),p.ALo(51,"number"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(3),p.Oqu(null==t.stockElement?null:t.stockElement.companyName),p.xp6(9),p.Oqu(p.lcZ(13,14,"trade.tileHeaderBuyPrice")),p.xp6(3),p.Oqu(p.xi3(16,16,null==t.stockElement?null:t.stockElement.buyPrice,"1.2-4")),p.xp6(4),p.Oqu(p.lcZ(20,19,"trade.tileHeaderBuyValue")),p.xp6(3),p.Oqu(p.xi3(23,21,null==t.headerCalculations?null:t.headerCalculations.buyValue,"1.2-2")),p.xp6(4),p.Oqu(p.lcZ(27,24,"trade.tileHeaderQuantity")),p.xp6(3),p.Oqu(null==t.stockElement?null:t.stockElement.amountOfShares),p.xp6(4),p.Oqu(p.lcZ(34,26,"trade.tileHeaderCurrentPrice")),p.xp6(3),p.Oqu(p.xi3(37,28,null==t.headerCalculations?null:t.headerCalculations.currentPrice,"1.2-4")),p.xp6(4),p.Oqu(p.lcZ(41,31,"trade.tileHeaderCurrentValue")),p.xp6(3),p.Oqu(p.xi3(44,33,null==t.headerCalculations?null:t.headerCalculations.currentValue,"1.2-2")),p.xp6(4),p.Oqu(p.lcZ(48,36,"trade.tileHeaderProfitBeforeTax")),p.xp6(2),p.Q6J("ngClass",p.WLB(41,L,(null==t.headerCalculations?null:t.headerCalculations.profitBeforeTax)>1,(null==t.headerCalculations?null:t.headerCalculations.profitBeforeTax)<1)),p.xp6(1),p.hij(" ",p.xi3(51,38,null==t.headerCalculations?null:t.headerCalculations.profitBeforeTax,"1.2-2")," "))},directives:[D.i,a.mk],pipes:[b.X$,a.JJ],encapsulation:2}),e}(),B=i(6276),U=function(e){return{"trade-tile-stock-change-container--background":e}},j=function(){var e=function(){function e(){l(this,e)}return s(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){}},{key:"getProfitQuote",get:function(){return this.profitQuote}},{key:"getKeyId",get:function(){return this.keyId}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-one-offer-change"]],inputs:{profitQuote:"profitQuote",keyId:"keyId"},decls:11,vars:7,consts:[[1,"trade-tile-stock-change-container",3,"id","ngClass"],[1,"trade-shape","trade-shape--green-small"],[1,"stock-offer-change-width"],[1,"trade-tile-stock-text","trade-tile-stock-text--xld","stock-offer-change-margin-left"]],template:function(e,t){1&e&&(p.TgZ(0,"li",0),p._UZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"p",3),p._uU(4),p.qZA(),p.qZA(),p.TgZ(5,"div",2),p.TgZ(6,"p",3),p._uU(7),p.qZA(),p.qZA(),p.TgZ(8,"div",2),p.TgZ(9,"p",3),p._uU(10),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.Q6J("id",t.getKeyId)("ngClass",p.VKq(5,U,null==t.getProfitQuote?null:t.getProfitQuote.selected)),p.xp6(4),p.hij(" ",null==t.getProfitQuote?null:t.getProfitQuote.percentageChange," % "),p.xp6(3),p.hij(" ",null==t.getProfitQuote?null:t.getProfitQuote.newPrice," "),p.xp6(3),p.hij(" ",null==t.getProfitQuote?null:t.getProfitQuote.profit," "))},directives:[a.mk],encapsulation:2}),e}();function V(e,t){if(1&e&&p._UZ(0,"app-one-offer-change",3),2&e){var r=t.$implicit;p.Q6J("profitQuote",r.value)("keyId",r.key)}}var J=function(t){e(i,t);var o=r(i);function i(){return l(this,i),o.call(this,50,250,500)}return i}(B.Ee),M=function(){var e=function(){function e(){l(this,e),this.tradeTileOffers=F,this.profitOfferClick=new p.vpe}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.profitOfferIdSubscription=this.profitOfferId.subscribe(function(t){null!==t&&e.cdkVirtualScrollViewport.scrollToIndex(parseInt(t),"smooth")})}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){null!==e.profitOfferIdInit&&e.cdkVirtualScrollViewport.scrollToIndex(parseInt(e.profitOfferIdInit),"smooth")})}},{key:"ngOnDestroy",value:function(){this.profitOfferIdSubscription&&this.profitOfferIdSubscription.unsubscribe()}},{key:"getProfitQuotes",get:function(){return this.profitQuotes}},{key:"unsorted",value:function(){}},{key:"orderbyValueDsc",value:function(e,t){return e.value>t.value?1:e.value>t.value?0:-1}},{key:"onClickedList",value:function(e,t){this.profitOfferClick.emit({event:e,listMarker:t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-profit-list"]],viewQuery:function(e,t){var r;(1&e&&p.Gf(B.N7,5),2&e)&&(p.iGM(r=p.CRH())&&(t.cdkVirtualScrollViewport=r.first))},inputs:{profitQuotes:"profitQuotes",profitOfferIdInit:"profitOfferIdInit",profitOfferId:"profitOfferId"},outputs:{profitOfferClick:"profitOfferClick"},features:[p._Bn([{provide:B.yU,useClass:J}])],decls:4,vars:4,consts:[[1,"trade-tile__positive-stock-change",3,"click"],["itemSize","28","orientation","bottom",1,"example-viewport"],[3,"profitQuote","keyId",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"profitQuote","keyId"]],template:function(e,t){1&e&&(p.TgZ(0,"ul",0),p.NdJ("click",function(e){return t.onClickedList(e,t.tradeTileOffers.profit)}),p.TgZ(1,"cdk-virtual-scroll-viewport",1),p.YNc(2,V,1,2,"app-one-offer-change",2),p.ALo(3,"keyvalue"),p.qZA(),p.qZA()),2&e&&(p.xp6(2),p.Q6J("cdkVirtualForOf",p.xi3(3,1,t.getProfitQuotes,t.unsorted)))},directives:[B.N7,B.xd,B.x0,j],pipes:[a.Nd],encapsulation:2}),e}(),H=function(e){return{"trade-tile-stock-change-container--background":e}},$=function(){var e=function(){function e(){l(this,e)}return s(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){}},{key:"getLoseQuote",get:function(){return this.loseQuote}},{key:"getKeyId",get:function(){return this.keyId}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-one-offer-loose"]],inputs:{loseQuote:"loseQuote",keyId:"keyId"},decls:11,vars:7,consts:[[1,"trade-tile-stock-change-container",3,"id","ngClass"],[1,"trade-shape","trade-shape--red-small"],[1,"stock-offer-change-width"],[1,"trade-tile-stock-text","trade-tile-stock-text--xld","stock-offer-change-margin-left"]],template:function(e,t){1&e&&(p.TgZ(0,"li",0),p._UZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"p",3),p._uU(4),p.qZA(),p.qZA(),p.TgZ(5,"div",2),p.TgZ(6,"p",3),p._uU(7),p.qZA(),p.qZA(),p.TgZ(8,"div",2),p.TgZ(9,"p",3),p._uU(10),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.Q6J("id",t.getKeyId)("ngClass",p.VKq(5,H,null==t.getLoseQuote?null:t.getLoseQuote.selected)),p.xp6(4),p.hij(" ",null==t.getLoseQuote?null:t.getLoseQuote.percentageChange," % "),p.xp6(3),p.hij(" ",null==t.getLoseQuote?null:t.getLoseQuote.newPrice," "),p.xp6(3),p.hij(" ",null==t.getLoseQuote?null:t.getLoseQuote.profit," "))},directives:[a.mk],encapsulation:2}),e}();function R(e,t){if(1&e&&p._UZ(0,"app-one-offer-loose",3),2&e){var r=t.$implicit;p.Q6J("loseQuote",r.value)("keyId",r.key)}}var Y=function(t){e(i,t);var o=r(i);function i(){return l(this,i),o.call(this,50,250,500)}return i}(B.Ee),X=function(){var e=function(){function e(){l(this,e),this.tradeTileOffers=F,this.losesOfferClick=new p.vpe}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.loseOfferIdSubscription=this.loseOfferId.subscribe(function(t){null!==t&&e.cdkVirtualScrollViewport.scrollToIndex(parseInt(t),"smooth")})}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){null!==e.loseOfferIdInit&&e.cdkVirtualScrollViewport.scrollToIndex(parseInt(e.loseOfferIdInit),"smooth")})}},{key:"ngOnDestroy",value:function(){this.loseOfferIdSubscription&&this.loseOfferIdSubscription.unsubscribe()}},{key:"getLoseQuotes",get:function(){return this.loseQuotes}},{key:"unsorted",value:function(){}},{key:"orderbyValueDsc",value:function(e,t){return e.value>t.value?1:e.value>t.value?0:-1}},{key:"onClickedList",value:function(e,t){this.losesOfferClick.emit({event:e,listMarker:t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-losses-list"]],viewQuery:function(e,t){var r;(1&e&&p.Gf(B.N7,5),2&e)&&(p.iGM(r=p.CRH())&&(t.cdkVirtualScrollViewport=r.first))},inputs:{loseQuotes:"loseQuotes",loseOfferId:"loseOfferId",loseOfferIdInit:"loseOfferIdInit"},outputs:{losesOfferClick:"losesOfferClick"},features:[p._Bn([{provide:B.yU,useClass:Y}])],decls:4,vars:4,consts:[[1,"trade-tile__negative-stock-change",3,"click"],["itemSize","28",1,"example-viewport"],[3,"loseQuote","keyId",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"loseQuote","keyId"]],template:function(e,t){1&e&&(p.TgZ(0,"ul",0),p.NdJ("click",function(e){return t.onClickedList(e,t.tradeTileOffers.lose)}),p.TgZ(1,"cdk-virtual-scroll-viewport",1),p.YNc(2,R,1,2,"app-one-offer-loose",2),p.ALo(3,"keyvalue"),p.qZA(),p.qZA()),2&e&&(p.xp6(2),p.Q6J("cdkVirtualForOf",p.xi3(3,1,t.getLoseQuotes,t.unsorted)))},directives:[B.N7,B.xd,B.x0,$],pipes:[a.Nd],encapsulation:2}),e}(),K=function(e){return{"trade-tile-stock-change-container--background":e}},G=function(){var e=function(){function e(){l(this,e)}return s(e,[{key:"ngOnInit",value:function(){}},{key:"getNeutralQuote",get:function(){return this.neutralQuote}},{key:"getKeyId",get:function(){return this.keyId}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-neutral-offer"]],inputs:{neutralQuote:"neutralQuote",keyId:"keyId"},decls:11,vars:7,consts:[[1,"trade-tile-stock-change-container",3,"id","ngClass"],[1,"trade-shape","trade-shape--gray-dot"],[1,"stock-offer-change-width"],[1,"trade-tile-stock-text","trade-tile-stock-text--xld","stock-offer-change-margin-left"]],template:function(e,t){1&e&&(p.TgZ(0,"li",0),p._UZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"p",3),p._uU(4),p.qZA(),p.qZA(),p.TgZ(5,"div",2),p.TgZ(6,"p",3),p._uU(7),p.qZA(),p.qZA(),p.TgZ(8,"div",2),p.TgZ(9,"p",3),p._uU(10),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.Q6J("id",t.getKeyId)("ngClass",p.VKq(5,K,null==t.getNeutralQuote?null:t.getNeutralQuote.selected)),p.xp6(4),p.hij(" ",null==t.getNeutralQuote?null:t.getNeutralQuote.percentageChange,"% "),p.xp6(3),p.hij(" ",null==t.getNeutralQuote?null:t.getNeutralQuote.newPrice," "),p.xp6(3),p.hij(" - ",null==t.getNeutralQuote?null:t.getNeutralQuote.profit," "))},directives:[a.mk],encapsulation:2}),e}();function W(e,t){if(1&e&&p._UZ(0,"app-neutral-offer",9),2&e){var r=t.$implicit;p.Q6J("neutralQuote",r.value)("keyId",r.key)}}var z=function(){var e=function(){function e(t){l(this,e),this.stockTilePresenterService=t,this.profitQuotes={},this.loseQuotes={},this.neutralQuote={},this.headerCalculations={},this.saveButtonDisabled=!0,this.tradeTileOffers=F,this.profitIdMarkerSubject=new m.xQ,this.profitIdMarkerSubject$=this.profitIdMarkerSubject.asObservable(),this.loseIdMarkerSubject=new m.xQ,this.loseIdMarkerSubject$=this.loseIdMarkerSubject.asObservable(),this.offerId=null,this.offerMarker=null,this.deleteTile=new p.vpe,this.editTile=new p.vpe,this.savePickedOffer=new p.vpe,this.sellStock=new p.vpe}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.profitQuotesSubscription=this.stockTilePresenterService.getProfitQuotes$.subscribe(function(t){e.profitQuotes=t}),this.loseQuotesSubscription=this.stockTilePresenterService.getLoseQuotes$.subscribe(function(t){e.loseQuotes=t}),this.neutralQuoteSubscription=this.stockTilePresenterService.getNeutralQuote$.subscribe(function(t){e.neutralQuote=t}),this.headerCalculationsSubscription=this.stockTilePresenterService.getHeaderCalculations$.subscribe(function(t){e.headerCalculations=t}),this.stockTilePresenterService.convertStringObjectElementsToNumber(this.stockElement),this.stockTilePresenterService.generateQuotes(),"profit"===this.offerMarker&&(this.profitOfferIdInit=this.offerId,this.loseOfferIdInit=null),"lose"===this.offerMarker&&(this.profitOfferIdInit=null,this.loseOfferIdInit=this.offerId)}},{key:"ngOnDestroy",value:function(){this.profitQuotesSubscription&&this.profitQuotesSubscription.unsubscribe(),this.loseQuotesSubscription&&this.loseQuotesSubscription.unsubscribe(),this.neutralQuoteSubscription&&this.neutralQuoteSubscription.unsubscribe(),this.headerCalculationsSubscription&&this.headerCalculationsSubscription.unsubscribe()}},{key:"getProfitQuotes",get:function(){return this.profitQuotes}},{key:"getLoseQuotes",get:function(){return this.loseQuotes}},{key:"getNeutralQuote",get:function(){return this.neutralQuote}},{key:"getHeaderCalculations",get:function(){return this.headerCalculations}},{key:"getStockElement",get:function(){return this.stockElement}},{key:"getOfferId",get:function(){return this.offerId}},{key:"getOfferMarker",get:function(){return this.offerMarker}},{key:"getProfitOfferId",get:function(){return this.profitIdMarkerSubject$}},{key:"getLoseOfferId",get:function(){return this.loseIdMarkerSubject$}},{key:"getProfitOfferIdInit",get:function(){return this.profitOfferIdInit}},{key:"getLoseOfferIdInit",get:function(){return this.loseOfferIdInit}},{key:"unsorted",value:function(){}},{key:"orderbyValueDsc",value:function(e,t){return e.value>t.value?1:e.value>t.value?0:-1}},{key:"onClickedList",value:function(e){this.saveButtonDisabled=!1,this.stockTilePresenterService.changeSelectedOfferElement(e.event,e.listMarker),this.offerId=this.stockTilePresenterService.getChosenElementId(e.event),this.offerMarker=e.listMarker}},{key:"onClickedNeutralList",value:function(e,t){this.saveButtonDisabled=!1,this.stockTilePresenterService.changeSelectedOfferElement(e,t),this.offerId=this.stockTilePresenterService.getChosenElementId(e),this.offerMarker=t}},{key:"onSavePickedOfferData",value:function(){this.savePickedOffer.emit({id:this.stockElement.id,markerOfferValue:this.offerId,markerOfferType:this.offerMarker}),this.saveButtonDisabled=!0}},{key:"onEditTile",value:function(e){this.editTile.emit(e)}},{key:"onDeleteTile",value:function(e){this.deleteTile.emit(e)}},{key:"onSellStock",value:function(){var e=Object.assign({id:this.stockElement.id,companyName:this.stockElement.companyName},this.headerCalculations);this.sellStock.emit(e)}},{key:"onFindSelectedOffer",value:function(){"profit"===this.offerMarker&&(this.profitIdMarkerSubject.next(this.offerId),this.loseIdMarkerSubject.next(null)),"lose"===this.offerMarker&&(this.loseIdMarkerSubject.next(this.offerId),this.profitIdMarkerSubject.next(null))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(w))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-stock-tile"]],inputs:{offerId:"offerId",offerMarker:"offerMarker",stockElement:"stockElement"},outputs:{deleteTile:"deleteTile",editTile:"editTile",savePickedOffer:"savePickedOffer",sellStock:"sellStock"},features:[p._Bn([w])],decls:16,vars:23,consts:[[3,"stockElement","headerCalculations","editTile","deleteTile"],[3,"profitQuotes","profitOfferId","profitOfferIdInit","profitOfferClick"],[1,"trade-tile__neutral-stock-change",3,"click"],[3,"neutralQuote","keyId",4,"ngFor","ngForOf"],[3,"loseQuotes","loseOfferId","loseOfferIdInit","losesOfferClick"],[1,"trade-tile__button-container"],["mat-raised-button","","color","accent","appRoleDirective","","accessType","edit_action","moduleType","trade",1,"trade-board__button-postion",3,"disabled","click"],["color","primary","mat-raised-button","","appRoleDirective","","accessType","create_action","moduleType","trade",1,"trade-board__button-postion",3,"click"],["mat-raised-button","","appRoleDirective","","accessType","read_action","moduleType","trade",1,"trade-board__button-postion",3,"disabled","click"],[3,"neutralQuote","keyId"]],template:function(e,t){1&e&&(p.TgZ(0,"app-tile-header",0),p.NdJ("editTile",function(e){return t.onEditTile(e)})("deleteTile",function(e){return t.onDeleteTile(e)}),p.qZA(),p.TgZ(1,"app-profit-list",1),p.NdJ("profitOfferClick",function(e){return t.onClickedList(e)}),p.qZA(),p.TgZ(2,"ul",2),p.NdJ("click",function(e){return t.onClickedNeutralList(e,t.tradeTileOffers.neutral)}),p.YNc(3,W,1,2,"app-neutral-offer",3),p.ALo(4,"keyvalue"),p.qZA(),p.TgZ(5,"app-losses-list",4),p.NdJ("losesOfferClick",function(e){return t.onClickedList(e)}),p.qZA(),p.TgZ(6,"div",5),p.TgZ(7,"button",6),p.NdJ("click",function(){return t.onSavePickedOfferData()}),p._uU(8),p.ALo(9,"translate"),p.qZA(),p.TgZ(10,"button",7),p.NdJ("click",function(){return t.onSellStock()}),p._uU(11),p.ALo(12,"translate"),p.qZA(),p.TgZ(13,"button",8),p.NdJ("click",function(){return t.onFindSelectedOffer()}),p._uU(14),p.ALo(15,"translate"),p.qZA(),p.qZA()),2&e&&(p.Q6J("stockElement",t.getStockElement)("headerCalculations",t.getHeaderCalculations),p.xp6(1),p.Q6J("profitQuotes",t.getProfitQuotes)("profitOfferId",t.getProfitOfferId)("profitOfferIdInit",t.getProfitOfferIdInit),p.xp6(2),p.Q6J("ngForOf",p.xi3(4,14,t.getNeutralQuote,t.unsorted)),p.xp6(2),p.Q6J("loseQuotes",t.getLoseQuotes)("loseOfferId",t.getLoseOfferId)("loseOfferIdInit",t.getLoseOfferIdInit),p.xp6(2),p.Q6J("disabled",t.saveButtonDisabled),p.xp6(1),p.hij(" ",p.lcZ(9,17,"trade.saveButtonText")," "),p.xp6(3),p.hij(" ",p.lcZ(12,19,"trade.sellButtonText")," "),p.xp6(2),p.Q6J("disabled",!t.getOfferMarker&&!t.getOfferId),p.xp6(1),p.hij(" ",p.lcZ(15,21,"trade.findButtonText")," "))},directives:[E,M,a.sg,X,y.lW,D.i,G],pipes:[a.Nd,b.X$],encapsulation:2}),e}();function ee(e,t){if(1&e){var r=p.EpF();p.TgZ(0,"div",6),p.NdJ("click",function(){return p.CHM(r),p.oxw().onAddNewStock()}),p.TgZ(1,"div",7),p.TgZ(2,"p",8),p._uU(3),p.ALo(4,"translate"),p.qZA(),p.TgZ(5,"p",8),p._uU(6),p.ALo(7,"translate"),p.qZA(),p.qZA(),p.qZA()}2&e&&(p.xp6(3),p.Oqu(p.lcZ(4,2,"trade.tradeInfoTextOne")),p.xp6(3),p.Oqu(p.lcZ(7,4,"trade.tradeInfoTextTwo")))}function te(e,t){if(1&e){var r=p.EpF();p.TgZ(0,"app-stock-tile",9),p.NdJ("editTile",function(e){return p.CHM(r),p.oxw().onEditTile(e)})("deleteTile",function(e){return p.CHM(r),p.oxw().onDeleteTile(e)})("savePickedOffer",function(e){return p.CHM(r),p.oxw().onSavePickedOffer(e)})("sellStock",function(e){return p.CHM(r),p.oxw().onSellStock(e)}),p.qZA()}if(2&e){var o=t.$implicit;p.Q6J("stockElement",o)("offerMarker",null==o?null:o.markerOfferType)("offerId",null==o?null:o.markerOfferValue)}}var re,oe=function(){var e=function(){function e(){l(this,e),this.addNewStock=new p.vpe,this.deleteTile=new p.vpe,this.editTile=new p.vpe,this.savePickedOffer=new p.vpe,this.sellStock=new p.vpe}return s(e,[{key:"ngOnInit",value:function(){}},{key:"onAddNewStock",value:function(){this.addNewStock.emit()}},{key:"onEditTile",value:function(e){this.editTile.emit(e)}},{key:"onDeleteTile",value:function(e){this.deleteTile.emit(e)}},{key:"onSavePickedOffer",value:function(e){this.savePickedOffer.emit(e)}},{key:"onSellStock",value:function(e){this.sellStock.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-trade-ui"]],inputs:{stockBoardArray:"stockBoardArray"},outputs:{addNewStock:"addNewStock",deleteTile:"deleteTile",editTile:"editTile",savePickedOffer:"savePickedOffer",sellStock:"sellStock"},decls:8,vars:5,consts:[[1,"trade-board"],[1,"trade-board__button-wrapper"],["id","trade-board-add-button","color","primary","mat-raised-button","","appRoleDirective","","accessType","create_action","moduleType","trade",3,"click"],[1,"trade-board__container"],["class","pulsing-rings","appRoleDirective","","accessType","create_action","moduleType","trade",3,"click",4,"ngIf"],["class","trade-tile-margin trade-tile",3,"stockElement","offerMarker","offerId","editTile","deleteTile","savePickedOffer","sellStock",4,"ngFor","ngForOf"],["appRoleDirective","","accessType","create_action","moduleType","trade",1,"pulsing-rings",3,"click"],[1,"trade-board-info-sign-wrapper"],[1,"trade-board-info-text"],[1,"trade-tile-margin","trade-tile",3,"stockElement","offerMarker","offerId","editTile","deleteTile","savePickedOffer","sellStock"]],template:function(e,t){1&e&&(p.TgZ(0,"section",0),p.TgZ(1,"div",1),p.TgZ(2,"button",2),p.NdJ("click",function(){return t.onAddNewStock()}),p._uU(3),p.ALo(4,"translate"),p.qZA(),p.qZA(),p.TgZ(5,"article",3),p.YNc(6,ee,8,6,"div",4),p.YNc(7,te,1,3,"app-stock-tile",5),p.qZA(),p.qZA()),2&e&&(p.xp6(3),p.hij(" ",p.lcZ(4,3,"trade.addButtonText")," "),p.xp6(3),p.Q6J("ngIf",0===t.stockBoardArray.length),p.xp6(1),p.Q6J("ngForOf",t.stockBoardArray))},directives:[y.lW,D.i,a.O5,a.sg,z],pipes:[b.X$],encapsulation:2}),e}(),ie=[{path:"",children:[{path:"",component:(re=function(){function e(t,r,o){l(this,e),this.formService=t,this.stockTradeBoardService=r,this.matDialog=o,this.formState=d,this.stockBoardArray=[]}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.previousFormDataSubscription=this.formService.getEntreFormSubject().subscribe(function(t){e.previousFormData=t}),this.getLastFormEntre(),this.stockBoardDataSubscription=this.stockTradeBoardService.getStockBoardArray.subscribe(function(t){e.stockBoardArray=t}),this.fetchStockBoardArray()}},{key:"ngOnDestroy",value:function(){this.previousFormDataSubscription&&this.previousFormDataSubscription.unsubscribe(),this.stockBoardDataSubscription&&this.stockBoardDataSubscription.unsubscribe()}},{key:"getStockBoardArray",get:function(){return this.stockBoardArray}},{key:"saveStockToBoardArray",value:function(e){this.stockTradeBoardService.creatingNewPosition(e),this.saveEntreFormDataToLocalStorage(e)}},{key:"saveEntreFormDataToLocalStorage",value:function(e){this.formService.saveEntreFormDataToLocalStorage(e)}},{key:"fetchStockBoardArray",value:function(){this.stockTradeBoardService.fetchTradeBoardData()}},{key:"savePickedOffer",value:function(e){this.stockTradeBoardService.savePickedOfferToStockData(e)}},{key:"openFormDialogAdd",value:function(){var e=this;this.getLastFormEntre();var t=new f.vA;t.disableClose=!1,t.id="modal-component",t.data={formData:this.previousFormData,state:this.formState.Add},this.matDialog.open(P,t).afterClosed().subscribe(function(t){t&&e.saveStockToBoardArray(t)})}},{key:"getLastFormEntre",value:function(){this.formService.getEntreFormDataFromLocalStorage()}},{key:"openFormDialogEdit",value:function(e){var t=this,r=this.fetchStockDataToEdit(e);if(null!==r){var o=new f.vA;o.disableClose=!1,o.id="modal-component",o.data={formData:r,state:this.formState.Edit,buttonColor:"accent"},this.matDialog.open(P,o).afterClosed().subscribe(function(r){r&&t.updateStockBoardArray(r,e)})}}},{key:"fetchStockDataToEdit",value:function(e){return this.stockTradeBoardService.findStockInArray(e)}},{key:"updateStockBoardArray",value:function(e,t){this.stockTradeBoardService.editTradeBoardArrayData(e,t)}},{key:"openFormDialogDelete",value:function(e){var t=this,r=new f.vA;r.disableClose=!1,r.id="modal-component",r.data={header:"trade.deleteConfirmDialogHeader",description:"trade.deleteConfirmDialogText",buttonColor:"warn"},this.matDialog.open(q.U,r).afterClosed().subscribe(function(r){r&&t.deleteStockTileData(e)})}},{key:"deleteStockTileData",value:function(e){this.stockTradeBoardService.deletePositionFromBoard(e)}},{key:"openFormDialogSell",value:function(e){var t=this,r=new f.vA;r.disableClose=!1,r.id="modal-component",r.data={header:"trade.sellConfirmDialogHeader",description:"trade.sellConfirmDialogText",buttonColor:"primary"},this.matDialog.open(q.U,r).afterClosed().subscribe(function(r){r&&t.sellStock(e)})}},{key:"sellStock",value:function(e){this.stockTradeBoardService.sellStock(e)}}]),e}(),re.\u0275fac=function(e){return new(e||re)(p.Y36(h),p.Y36(N.X),p.Y36(f.uw))},re.\u0275cmp=p.Xpm({type:re,selectors:[["app-trade"]],decls:1,vars:1,consts:[[3,"stockBoardArray","dataFromForm","addNewStock","editTile","deleteTile","savePickedOffer","sellStock"]],template:function(e,t){1&e&&(p.TgZ(0,"app-trade-ui",0),p.NdJ("dataFromForm",function(e){return t.saveStockToBoardArray(e)})("addNewStock",function(){return t.openFormDialogAdd()})("editTile",function(e){return t.openFormDialogEdit(e)})("deleteTile",function(e){return t.openFormDialogDelete(e)})("savePickedOffer",function(e){return t.savePickedOffer(e)})("sellStock",function(e){return t.openFormDialogSell(e)}),p.qZA()),2&e&&p.Q6J("stockBoardArray",t.getStockBoardArray)},directives:[oe],encapsulation:2}),re)}]}],ne=function(){var e=function e(){l(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[u.Bz.forChild(ie)],u.Bz]}),e}(),ae=i(9532),le=i(2497),ce=i(8318);i(3262),i(7581),i(2645),i(3897);var se,ue=function(){var e=function e(){l(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[ce.si,ce.BQ],ce.BQ]}),e}(),fe=i(6972),de=i(3537),pe=((se=function e(){l(this,e)}).\u0275fac=function(e){return new(e||se)},se.\u0275mod=p.oAB({type:se}),se.\u0275inj=p.cJS({providers:[b.sK],imports:[[a.ez,ne,y.ot,f.Is,ae.Ps,c.u5,c.UX,k.lN,g.c,le.m,ue,B.Cl,fe.JF,b.aw.forChild({loader:{provide:b.aw,useFactory:me,deps:[fe.eN]}})]]}),se);function me(e){return new de.w(e)}}}])}();
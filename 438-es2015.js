"use strict";(self.webpackChunkstock_helper=self.webpackChunkstock_helper||[]).push([[438],{147:function(t,e,r){r.r(e),r.d(e,{CalculatorModule:function(){return $},httpTranslateLoader:function(){return B}});var a=r(8583),o=r(3423),u=r(6215),n=r(7716),s=r(7987),l=r(9790);let i=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-header"]],decls:4,vars:3,consts:[[1,"stock-advanced-calculator__header"],[1,"calculator-header"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"h2",1),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA()),2&t&&(n.xp6(2),n.hij(" ",n.lcZ(3,1,"calculator.calculatorFormHeader"),""))},pipes:[l.X$],encapsulation:2}),t})();var c=r(3679),m=r(8295),p=r(9983),h=r(8848),d=r(1095);function g(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function Z(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}function f(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function A(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"calculator.calculatorResultFormWarning_3")," "))}function R(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function b(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}function q(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function T(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}function x(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function E(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}function N(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function v(t,e){1&t&&(n.TgZ(0,"mat-error"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}let y=(()=>{class t{constructor(t){this.formBuilder=t,this.outputFormData=new n.vpe}ngOnInit(){this.calculatorForm=this.formBuilder.group({buyPrice:["10",[c.kI.required,c.kI.pattern("^[0-9]+(.[0-9]{1,4})?$"),c.kI.min(1e-4)]],amountOfShares:["100",[c.kI.required,c.kI.pattern("^[1-9][0-9]*$"),c.kI.min(1)]],sellPrice:["12",[c.kI.required,c.kI.min(1e-4),c.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],taxRate:["19",[c.kI.required,c.kI.min(0),c.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],commission:["0.3",[c.kI.required,c.kI.min(0),c.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],minCommission:["5",[c.kI.required,c.kI.min(0),c.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]]})}get getCalculatorForm(){return this.calculatorForm}get buyPrice(){return this.calculatorForm.get("buyPrice")}get amountOfShares(){return this.calculatorForm.get("amountOfShares")}get sellPrice(){return this.calculatorForm.get("sellPrice")}get taxRate(){return this.calculatorForm.get("taxRate")}get commission(){return this.calculatorForm.get("commission")}get minCommission(){return this.calculatorForm.get("minCommission")}onCalculate(){this.calculatorForm.patchValue({buyPrice:this.calculatorForm.value.buyPrice,amountOfShares:this.calculatorForm.value.amountOfShares,sellPrice:this.calculatorForm.value.sellPrice,taxRate:this.calculatorForm.value.taxRate,commission:this.calculatorForm.value.commission,minCommission:this.calculatorForm.value.minCommission},{emitEvent:!1}),this.outputFormData.emit(this.calculatorForm.value)}onClearForm(){this.calculatorForm.reset(),this.calculatorForm.patchValue({buyPrice:1,amountOfShares:1,sellPrice:1,taxRate:0,commission:0,minCommission:0},{emitEvent:!1}),this.outputFormData.emit(this.calculatorForm.value)}onOverwriteFormPosition(t,e){this.calculatorForm.patchValue({[e]:t})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(c.qu))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-form"]],outputs:{outputFormData:"outputFormData"},decls:52,vars:38,consts:[[1,"stock-advanced-calculator__form",3,"formGroup","submit"],[1,"stock-advanced-calculator-form-wrapper"],["id","stock-advanced-calculator-form-field"],["matInput","","type","text","formControlName","buyPrice","appNumberDigit","",3,"outputData"],[4,"ngIf"],["matInput","","type","number","formControlName","amountOfShares"],["matInput","","type","text","formControlName","sellPrice","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","taxRate","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","commission","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","minCommission","appNumberDigit","",3,"outputData"],[1,"stock-advanced-calculator__button-wrapper"],["mat-raised-button","",3,"click"],["color","primary","mat-raised-button","","type","submit",3,"disabled"]],template:function(t,e){1&t&&(n.TgZ(0,"form",0),n.NdJ("submit",function(){return e.onCalculate()}),n.TgZ(1,"div",1),n.TgZ(2,"mat-form-field",2),n.TgZ(3,"mat-label"),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"input",3),n.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"calcStepValue")}),n.qZA(),n.YNc(7,g,3,3,"mat-error",4),n.YNc(8,Z,3,3,"mat-error",4),n.qZA(),n.TgZ(9,"mat-form-field",2),n.TgZ(10,"mat-label"),n._uU(11),n.ALo(12,"translate"),n.qZA(),n._UZ(13,"input",5),n.YNc(14,f,3,3,"mat-error",4),n.YNc(15,A,3,3,"mat-error",4),n.qZA(),n.TgZ(16,"mat-form-field",2),n.TgZ(17,"mat-label"),n._uU(18),n.ALo(19,"translate"),n.qZA(),n.TgZ(20,"input",6),n.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"sellPrice")}),n.qZA(),n.YNc(21,R,3,3,"mat-error",4),n.YNc(22,b,3,3,"mat-error",4),n.qZA(),n.qZA(),n.TgZ(23,"div",1),n.TgZ(24,"mat-form-field",2),n.TgZ(25,"mat-label"),n._uU(26),n.ALo(27,"translate"),n.qZA(),n.TgZ(28,"input",7),n.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"taxRate")}),n.qZA(),n.YNc(29,q,3,3,"mat-error",4),n.YNc(30,T,3,3,"mat-error",4),n.qZA(),n.TgZ(31,"mat-form-field",2),n.TgZ(32,"mat-label"),n._uU(33),n.ALo(34,"translate"),n.qZA(),n.TgZ(35,"input",8),n.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"commission")}),n.qZA(),n.YNc(36,x,3,3,"mat-error",4),n.YNc(37,E,3,3,"mat-error",4),n.qZA(),n.TgZ(38,"mat-form-field",2),n.TgZ(39,"mat-label"),n._uU(40),n.ALo(41,"translate"),n.qZA(),n.TgZ(42,"input",9),n.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"minCommission")}),n.qZA(),n.YNc(43,N,3,3,"mat-error",4),n.YNc(44,v,3,3,"mat-error",4),n.qZA(),n.qZA(),n.TgZ(45,"div",10),n.TgZ(46,"button",11),n.NdJ("click",function(){return e.onClearForm()}),n._uU(47),n.ALo(48,"translate"),n.qZA(),n.TgZ(49,"button",12),n._uU(50),n.ALo(51,"translate"),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.Q6J("formGroup",e.getCalculatorForm),n.xp6(4),n.hij(" ",n.lcZ(5,22,"calculator.calculatorFormBuyPrice")," "),n.xp6(3),n.Q6J("ngIf",e.buyPrice.touched&&!e.buyPrice.hasError("pattern")),n.xp6(1),n.Q6J("ngIf",e.buyPrice.hasError("pattern")),n.xp6(3),n.hij("",n.lcZ(12,24,"calculator.calculatorFormQuantity")," "),n.xp6(3),n.Q6J("ngIf",e.amountOfShares.touched&&!e.amountOfShares.hasError("pattern")),n.xp6(1),n.Q6J("ngIf",e.amountOfShares.hasError("pattern")),n.xp6(3),n.Oqu(n.lcZ(19,26,"calculator.calculatorFormSellPrice")),n.xp6(3),n.Q6J("ngIf",e.sellPrice.touched&&!e.sellPrice.hasError("pattern")),n.xp6(1),n.Q6J("ngIf",e.sellPrice.hasError("pattern")),n.xp6(4),n.hij("",n.lcZ(27,28,"calculator.calculatorFormTaxRate")," "),n.xp6(3),n.Q6J("ngIf",e.taxRate.touched&&!e.taxRate.hasError("pattern")),n.xp6(1),n.Q6J("ngIf",e.taxRate.hasError("pattern")),n.xp6(3),n.Oqu(n.lcZ(34,30,"calculator.calculatorFormCommission")),n.xp6(3),n.Q6J("ngIf",e.commission.touched&&!e.commission.hasError("pattern")),n.xp6(1),n.Q6J("ngIf",e.commission.hasError("pattern")),n.xp6(3),n.Oqu(n.lcZ(41,32,"calculator.calculatorFormMinCommission")),n.xp6(3),n.Q6J("ngIf",e.minCommission.touched&&!e.minCommission.hasError("pattern")),n.xp6(1),n.Q6J("ngIf",e.minCommission.hasError("pattern")),n.xp6(3),n.hij(" ",n.lcZ(48,34,"calculator.calculatorFormButtonClear")," "),n.xp6(2),n.Q6J("disabled",e.getCalculatorForm.invalid),n.xp6(1),n.hij(" ",n.lcZ(51,36,"calculator.calculatorFormButtonCalculate")," "))},directives:[c._Y,c.JL,c.sg,m.KE,m.hX,p.Nt,c.Fj,c.JJ,c.u,h.Z,a.O5,c.wV,d.lW,m.TO],pipes:[l.X$],encapsulation:2}),t})();var F=r(171);function O(t,e){if(1&t&&(n.TgZ(0,"div",2),n.TgZ(1,"div",3),n.TgZ(2,"p",4),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"p",4),n._uU(6),n.qZA(),n.qZA(),n.TgZ(7,"div",3),n.TgZ(8,"p",4),n._uU(9),n.ALo(10,"translate"),n.qZA(),n.TgZ(11,"p",4),n._uU(12),n.qZA(),n.qZA(),n.TgZ(13,"div",3),n.TgZ(14,"p",4),n._uU(15),n.ALo(16,"translate"),n.qZA(),n.TgZ(17,"p",4),n._uU(18),n.qZA(),n.qZA(),n.TgZ(19,"div",3),n.TgZ(20,"p",4),n._uU(21),n.ALo(22,"translate"),n.qZA(),n.TgZ(23,"p",4),n._uU(24),n.qZA(),n.qZA(),n.TgZ(25,"div",3),n.TgZ(26,"p",4),n._uU(27),n.ALo(28,"translate"),n.qZA(),n.TgZ(29,"p",4),n._uU(30),n.qZA(),n.qZA(),n.TgZ(31,"div",3),n.TgZ(32,"p",4),n._uU(33),n.ALo(34,"translate"),n.qZA(),n.TgZ(35,"p",4),n._uU(36),n.qZA(),n.qZA(),n.TgZ(37,"div",3),n.TgZ(38,"p",4),n._uU(39),n.ALo(40,"translate"),n.qZA(),n.TgZ(41,"p",4),n._uU(42),n.qZA(),n.qZA(),n.TgZ(43,"div",3),n.TgZ(44,"p",4),n._uU(45),n.ALo(46,"translate"),n.qZA(),n.TgZ(47,"p",4),n._uU(48),n.qZA(),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,16,"calculator.calculatorResultNetBuyValue")),n.xp6(3),n.Oqu(null==t.calculationResults?null:t.calculationResults.netBuyValue),n.xp6(3),n.Oqu(n.lcZ(10,18,"calculator.calculatorResultResultBuyCommission")),n.xp6(3),n.Oqu(null==t.calculationResults?null:t.calculationResults.buyCommission),n.xp6(3),n.Oqu(n.lcZ(16,20,"calculator.calculatorResultGrossBuy")),n.xp6(3),n.Oqu(null==t.calculationResults?null:t.calculationResults.grossBuyValue),n.xp6(3),n.Oqu(n.lcZ(22,22,"calculator.calculatorResultGrossSell")),n.xp6(3),n.Oqu(null==t.calculationResults?null:t.calculationResults.grossSellValue),n.xp6(3),n.Oqu(n.lcZ(28,24,"calculator.calculatorResultSellCommission")),n.xp6(3),n.Oqu(null==t.calculationResults?null:t.calculationResults.sellCommission),n.xp6(3),n.Oqu(n.lcZ(34,26,"calculator.calculatorResultNetSellValue")),n.xp6(3),n.Oqu(null==t.calculationResults?null:t.calculationResults.netSellValue),n.xp6(3),n.Oqu(n.lcZ(40,28,"calculator.calculatorResultProfitBefore")),n.xp6(3),n.Oqu(null==t.calculationResults?null:t.calculationResults.profitBeforeTax),n.xp6(3),n.Oqu(n.lcZ(46,30,"calculator.calculatorResultProfitAfter")),n.xp6(3),n.Oqu(null==t.calculationResults?null:t.calculationResults.profitAfterTax)}}let _=(()=>{class t{constructor(){this.toggleExpandForm=new n.vpe}ngOnInit(){}onToggleExpandForm(){this.toggleExpandForm.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-result"]],inputs:{formExpand:"formExpand",calculationResults:"calculationResults"},outputs:{toggleExpandForm:"toggleExpandForm"},decls:7,vars:4,consts:[[3,"expanded","click"],["matExpansionPanelContent",""],[1,"stock-advanced-calculator__result"],[1,"stock-advanced-calculator-result-wrapper"],[1,""]],template:function(t,e){1&t&&(n.TgZ(0,"mat-accordion"),n.TgZ(1,"mat-expansion-panel",0),n.NdJ("click",function(){return e.onToggleExpandForm()}),n.TgZ(2,"mat-expansion-panel-header"),n.TgZ(3,"mat-panel-description"),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA(),n.YNc(6,O,49,32,"ng-template",1),n.qZA(),n.qZA()),2&t&&(n.xp6(1),n.Q6J("expanded",0===e.formExpand),n.xp6(3),n.hij(" ",n.lcZ(5,2,"calculator.calculatorResultResult")," "))},directives:[F.pp,F.ib,F.yz,F.u4,F.HS],pipes:[l.X$],encapsulation:2}),t})(),C=(()=>{class t{constructor(){this.outputFormData=new n.vpe,this.toggleExpandForm=new n.vpe}ngOnInit(){}get getFormExpand(){return this.formExpand}calculate(t){return this.outputFormData.emit(t)}onToggleExpandForm(){this.toggleExpandForm.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-calc-form"]],inputs:{formExpand:"formExpand",calculationResults:"calculationResults"},outputs:{outputFormData:"outputFormData",toggleExpandForm:"toggleExpandForm"},decls:4,vars:2,consts:[[1,"stock-advanced-calculator"],[3,"outputFormData"],[3,"formExpand","calculationResults","toggleExpandForm"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n._UZ(1,"app-header"),n.TgZ(2,"app-form",1),n.NdJ("outputFormData",function(t){return e.calculate(t)}),n.qZA(),n.TgZ(3,"app-result",2),n.NdJ("toggleExpandForm",function(){return e.onToggleExpandForm()}),n.qZA(),n.qZA()),2&t&&(n.xp6(3),n.Q6J("formExpand",e.getFormExpand)("calculationResults",e.calculationResults))},directives:[i,y,_],encapsulation:2}),t})();function k(t,e){if(1&t&&(n.TgZ(0,"li",4),n.TgZ(1,"p",5),n._uU(2),n.qZA(),n.TgZ(3,"p",6),n._uU(4),n.qZA(),n.qZA()),2&t){const t=e.$implicit;n.xp6(2),n.Oqu(null==t?null:t.equation),n.xp6(2),n.Oqu(null==t?null:t.result)}}let U=(()=>{class t{constructor(){this.resetResultArray=new n.vpe,this.chosenResult=new n.vpe}ngOnInit(){}onResetBoardOfResults(){this.resetResultArray.emit()}onClickResultList(t){"result"===t.target.getAttribute("key")&&this.chosenResult.emit(t.target.innerText)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-result-board"]],inputs:{arrayOfResults:"arrayOfResults"},outputs:{resetResultArray:"resetResultArray",chosenResult:"chosenResult"},decls:5,vars:1,consts:[[1,"calculator-result-board"],[1,"btn","btn--reset-btn",3,"click"],[1,"calculator-result-list-wrapper",3,"click"],["class","calculator-result-board-list-item",4,"ngFor","ngForOf"],[1,"calculator-result-board-list-item"],[1,"calculator-result-board-text"],["key","result",1,"calculator-result-board-text","calculator-result-board-text--bold"]],template:function(t,e){1&t&&(n.TgZ(0,"ul",0),n.TgZ(1,"button",1),n.NdJ("click",function(){return e.onResetBoardOfResults()}),n._uU(2,"reset"),n.qZA(),n.TgZ(3,"div",2),n.NdJ("click",function(t){return e.onClickResultList(t)}),n.YNc(4,k,5,2,"li",3),n.qZA(),n.qZA()),2&t&&(n.xp6(4),n.Q6J("ngForOf",e.arrayOfResults))},directives:[a.sg],encapsulation:2}),t})(),J=(()=>{class t{constructor(){this.displayEquation="0",this.displayResult="0",this.enteredNumber="0",this.previousEnteredNumber=null,this.numberWasEntered=!1,this.chosenOperator=void 0,this.result="0",this.onComputeWasUsed=!1,this.resultArrayEmitter=new n.vpe}ngOnInit(){this.chosenResultFromBoardSubscription=this.chosenResult$.subscribe(t=>{this.result=t,this.displayResult=t})}ngOnDestroy(){this.chosenResultFromBoardSubscription&&this.chosenResultFromBoardSubscription.unsubscribe()}onEnterNumber(t){this.onComputeWasUsed&&(this.clearAll(),this.onComputeWasUsed=!1),!this.preventFromMultiZero(t)&&(!this.isStringLengthApproval(t)||!this.isNumber(t)&&!this.isCharacterADot(t)||this.checkIfDotInString(t)||(this.enteredNumber+=t,this.enteredNumber=this.removeFrontZero(this.enteredNumber),this.numberWasEntered=!0,this.displayResult=this.prepareResultToDisplay(this.enteredNumber)))}isStringLengthApproval(t){return t.length<13}isCharacterADot(t){return"."===t}isNumber(t){return!isNaN(parseInt(t))}preventFromMultiZero(t){return"0"===this.enteredNumber[0]&&1===this.enteredNumber.length&&"0"===t}checkIfDotInString(t){return this.enteredNumber.includes(".")&&"."===t}removeFrontZero(t){return"0."===t?t:"0"===t[0]&&"0"!==t[1]&&"."!==t[1]?t.substr(1):t}onEnterOperation(t){if(void 0!==t){if((this.chosenOperator===t||this.chosenOperator!==t)&&!1===this.numberWasEntered&&"0"===this.enteredNumber)return this.chosenOperator=t,void this.createEquationForDisplay(t);if(this.onComputeWasUsed)return this.onComputeWasUsed=!1,this.numberWasEntered=!1,this.enteredNumber="0",this.chosenOperator=t,void this.createEquationForDisplay(t);if(this.chosenOperator!==t&&void 0!==this.chosenOperator)return this.createEquationForDisplay(this.chosenOperator),this.result=this.chooseOperation(this.chosenOperator),this.displayResult=this.prepareResultToDisplay(this.result),this.orderOfEquation()||this.saveResultToArray(),this.enteredNumber="0",this.numberWasEntered=!1,void(this.chosenOperator=t);this.createEquationForDisplay(t),this.result=this.chooseOperation(t),this.displayResult=this.prepareResultToDisplay(this.result),this.orderOfEquation()||this.saveResultToArray(),this.previousEnteredNumber=this.enteredNumber,this.enteredNumber="0",this.numberWasEntered=!1,this.chosenOperator=t,this.onComputeWasUsed=!1}}chooseOperation(t){let e;if("0"===this.result&&void 0===this.chosenOperator)return this.stringToNumber(this.enteredNumber).toString();switch(t){case"+":e=this.stringToNumber(this.result)+this.stringToNumber(this.enteredNumber);break;case"-":e=this.stringToNumber(this.result)-this.stringToNumber(this.enteredNumber);break;case"*":e=this.stringToNumber(this.result)*this.stringToNumber(this.enteredNumber);break;case"/":e=this.stringToNumber(this.result)/this.stringToNumber(this.enteredNumber);break;default:return}return e.toString()}stringToNumber(t){return parseFloat(t)}orderOfEquation(){return null===this.previousEnteredNumber&&"0"===this.result}createEquationForDisplay(t){this.displayEquation=this.orderOfEquation()?`${this.enteredNumber} ${t}`:!1===this.numberWasEntered&&"0"===this.enteredNumber?`${this.result} ${t}`:`${this.result} ${t} ${this.enteredNumber}`}saveResultToArray(){let t={};t={equation:this.displayEquation,result:this.prepareResultToDisplay(this.result)},this.resultArrayEmitter.emit(t)}onCompute(t){void 0!==this.chosenOperator&&(this.onComputeWasUsed=!0,void 0!==this.chosenOperator&&"0"===this.enteredNumber&&null!==this.previousEnteredNumber&&(this.enteredNumber=this.previousEnteredNumber),this.createEquationForDisplay(this.chosenOperator),this.result=this.chooseOperation(this.chosenOperator),this.displayResult=this.prepareResultToDisplay(this.result),this.orderOfEquation()||this.saveResultToArray(),this.numberWasEntered=!1)}onDelete(t){if("del"===t)this.deleteDigit();else if("c"===t)this.clearAll();else{if("ce"!==t)return;this.clearEntry()}}clearEntry(){this.displayResult="0",this.enteredNumber="0"}deleteDigit(){""!==this.enteredNumber&&(this.enteredNumber=this.removeStringsLastCharacter(this.enteredNumber),this.displayResult=this.prepareResultToDisplay(this.enteredNumber))}removeStringsLastCharacter(t){return t.slice(0,-1)}clearAll(){this.displayResult="0",this.enteredNumber="0",this.previousEnteredNumber=null,this.result="0",this.displayEquation="0",this.chosenOperator=void 0}prepareResultToDisplay(t){let e,r,a=0;return""===t?"0":(t.includes(".")&&(e=t.split("."),a=parseInt(e[0]),r=a.toLocaleString(void 0,{minimumFractionDigits:1}),r=this.removeStringsLastCharacter(r)),t.includes(".")||(a=parseInt(t),r=a.toLocaleString()),e&&(e&&""===e[1]||(r+=e[1])),r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-calc-device"]],inputs:{chosenResult$:"chosenResult$"},outputs:{resultArrayEmitter:"resultArrayEmitter"},decls:45,vars:2,consts:[[1,"calc-device-container"],[1,"calc-device-container__output"],[1,"equation"],[1,"calc-result"],[1,"calc-device-container__input"],[1,"calc-button",3,"click"],[1,"calc-button","calc-button--num",3,"click"],[1,"calc-button","calc-button--num","btn-width",3,"click"],[1,"calc-button","calc-button--equale",3,"click"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"p",2),n._uU(3),n.qZA(),n.TgZ(4,"p",3),n._uU(5),n.qZA(),n.qZA(),n.TgZ(6,"div",4),n.TgZ(7,"button",5),n.NdJ("click",function(){return e.onDelete("ce")}),n._uU(8,"CA"),n.qZA(),n.TgZ(9,"button",5),n.NdJ("click",function(){return e.onDelete("c")}),n._uU(10,"C"),n.qZA(),n.TgZ(11,"button",5),n.NdJ("click",function(){return e.onDelete("del")}),n._uU(12,"del"),n.qZA(),n.TgZ(13,"button",5),n.NdJ("click",function(){return e.onEnterOperation("/")}),n._uU(14,"\xf7"),n.qZA(),n.TgZ(15,"button",6),n.NdJ("click",function(){return e.onEnterNumber("7")}),n._uU(16,"7"),n.qZA(),n.TgZ(17,"button",6),n.NdJ("click",function(){return e.onEnterNumber("8")}),n._uU(18,"8"),n.qZA(),n.TgZ(19,"button",6),n.NdJ("click",function(){return e.onEnterNumber("9")}),n._uU(20,"9"),n.qZA(),n.TgZ(21,"button",5),n.NdJ("click",function(){return e.onEnterOperation("*")}),n._uU(22,"*"),n.qZA(),n.TgZ(23,"button",6),n.NdJ("click",function(){return e.onEnterNumber("4")}),n._uU(24,"4"),n.qZA(),n.TgZ(25,"button",6),n.NdJ("click",function(){return e.onEnterNumber("5")}),n._uU(26,"5"),n.qZA(),n.TgZ(27,"button",6),n.NdJ("click",function(){return e.onEnterNumber("6")}),n._uU(28,"6"),n.qZA(),n.TgZ(29,"button",5),n.NdJ("click",function(){return e.onEnterOperation("+")}),n._uU(30,"+"),n.qZA(),n.TgZ(31,"button",6),n.NdJ("click",function(){return e.onEnterNumber("1")}),n._uU(32,"1"),n.qZA(),n.TgZ(33,"button",6),n.NdJ("click",function(){return e.onEnterNumber("2")}),n._uU(34,"2"),n.qZA(),n.TgZ(35,"button",6),n.NdJ("click",function(){return e.onEnterNumber("3")}),n._uU(36,"3"),n.qZA(),n.TgZ(37,"button",5),n.NdJ("click",function(){return e.onEnterOperation("-")}),n._uU(38,"-"),n.qZA(),n.TgZ(39,"button",7),n.NdJ("click",function(){return e.onEnterNumber("0")}),n._uU(40,"0"),n.qZA(),n.TgZ(41,"button",6),n.NdJ("click",function(){return e.onEnterNumber(".")}),n._uU(42,"."),n.qZA(),n.TgZ(43,"button",8),n.NdJ("click",function(){return e.onCompute("=")}),n._uU(44,"="),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(3),n.Oqu(e.displayEquation),n.xp6(2),n.Oqu(e.displayResult))},encapsulation:2}),t})(),D=(()=>{class t{constructor(){this.outputFormData=new n.vpe,this.resultArrayEmitter=new n.vpe,this.resetResultArray=new n.vpe,this.chosenResult=new n.vpe,this.toggleExpandForm=new n.vpe}set setChosenResult$(t){this.chosenResult$=t}ngOnInit(){}get getFormExpand(){return this.formExpand}get getChosenResult(){return this.chosenResult$}calculate(t){return this.outputFormData.emit(t)}onSaveResultToArray(t){this.resultArrayEmitter.emit(t)}onResetBoardOfResults(){this.resetResultArray.emit()}onChoseResult(t){this.chosenResult.emit(t)}onToggleExpandForm(){this.toggleExpandForm.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-calculator-ui"]],inputs:{calculationResults:"calculationResults",arrayOfResults:"arrayOfResults",formExpand:"formExpand",setChosenResult$:"setChosenResult$"},outputs:{outputFormData:"outputFormData",resultArrayEmitter:"resultArrayEmitter",resetResultArray:"resetResultArray",chosenResult:"chosenResult",toggleExpandForm:"toggleExpandForm"},decls:6,vars:4,consts:[[1,"calculator"],[1,"calculator__container"],[1,"calculator-component-container",3,"calculationResults","formExpand","toggleExpandForm","outputFormData"],[1,"calculator__container","calculator__container--margin-bottom"],[1,"calculator-component-container",3,"arrayOfResults","chosenResult","resetResultArray"],[1,"calculator-component-container",3,"chosenResult$","resultArrayEmitter"]],template:function(t,e){1&t&&(n.TgZ(0,"section",0),n.TgZ(1,"article",1),n.TgZ(2,"app-calc-form",2),n.NdJ("toggleExpandForm",function(){return e.onToggleExpandForm()})("outputFormData",function(t){return e.calculate(t)}),n.qZA(),n.qZA(),n.TgZ(3,"article",3),n.TgZ(4,"app-result-board",4),n.NdJ("chosenResult",function(t){return e.onChoseResult(t)})("resetResultArray",function(){return e.onResetBoardOfResults()}),n.qZA(),n.TgZ(5,"app-calc-device",5),n.NdJ("resultArrayEmitter",function(t){return e.onSaveResultToArray(t)}),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(2),n.Q6J("calculationResults",e.calculationResults)("formExpand",e.formExpand),n.xp6(2),n.Q6J("arrayOfResults",e.arrayOfResults),n.xp6(1),n.Q6J("chosenResult$",e.getChosenResult))},directives:[C,U,J],encapsulation:2}),t})();const S=[{path:"",children:[{path:"",component:(()=>{class t{constructor(t){this.stockPriceCalculatorService=t,this.arrayOfResults=[],this.formExpand=1,this.chosenResultSubject=new u.X("0"),this.chosenResultSubject$=this.chosenResultSubject.asObservable()}ngOnInit(){}get getCalculationResults(){return this.calculatorResult}get getArrayOfResults(){return this.arrayOfResults}get getChosenResult$(){return this.chosenResultSubject$}get getFormExpand(){return this.formExpand}toggleAccordionFormExpand(){this.formExpand=0===this.formExpand?1:0}calculate(t){const e=this.convertStringObjectValuesToNumber(t),r=this.stockPriceCalculatorService.calculateBuyValue(e.amountOfShares,e.buyPrice),a=this.stockPriceCalculatorService.calculatePercentageCommission(r,e.commission),o=this.stockPriceCalculatorService.calculateCommissionValue(r,a,e.minCommission),u=r+o,n=this.stockPriceCalculatorService.calculateCurrentValue(e.sellPrice,e.amountOfShares),s=this.stockPriceCalculatorService.calculatePercentageCommission(n,e.commission),l=this.stockPriceCalculatorService.calculateCommissionValue(n,s,e.minCommission),i=this.stockPriceCalculatorService.calculateTotalCommissionValue(l,o),c=n-l,m=this.stockPriceCalculatorService.calculateProfitBeforeTax(n,r,i);let p;p=m<0?m:this.stockPriceCalculatorService.calculateProfitAfterTax(m,e.taxRate);const h={netBuyValue:r,buyCommission:o,grossBuyValue:u,sellCommission:l,grossSellValue:n,netSellValue:c,profitBeforeTax:m,profitAfterTax:p};console.log(h),this.formExpand=0,this.calculatorResult=h}convertStringObjectValuesToNumber(t){let e={};for(let r in t)e[r]=parseFloat(t[r]);return e}onSaveResultToArray(t){this.arrayOfResults.push(t)}onResetBoardOfResults(){this.arrayOfResults=[]}onChoseResult(t){this.chosenResultSubject.next(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(s.f))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-calculator"]],decls:1,vars:4,consts:[[3,"calculationResults","arrayOfResults","setChosenResult$","formExpand","outputFormData","resultArrayEmitter","resetResultArray","chosenResult","toggleExpandForm"]],template:function(t,e){1&t&&(n.TgZ(0,"app-calculator-ui",0),n.NdJ("outputFormData",function(t){return e.calculate(t)})("resultArrayEmitter",function(t){return e.onSaveResultToArray(t)})("resetResultArray",function(){return e.onResetBoardOfResults()})("chosenResult",function(t){return e.onChoseResult(t)})("toggleExpandForm",function(){return e.toggleAccordionFormExpand()}),n.qZA()),2&t&&n.Q6J("calculationResults",e.getCalculationResults)("arrayOfResults",e.getArrayOfResults)("setChosenResult$",e.getChosenResult$)("formExpand",e.getFormExpand)},directives:[D],encapsulation:2}),t})()}]}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[o.Bz.forChild(S)],o.Bz]}),t})();var P=r(4061),w=r(1841),L=r(2472);let $=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[l.sK],imports:[[a.ez,I,d.ot,m.lN,p.c,P.m,c.u5,c.UX,F.To,w.JF,l.aw.forChild({loader:{provide:l.aw,useFactory:B,deps:[w.eN]}})]]}),t})();function B(t){return new L.w(t)}}}]);
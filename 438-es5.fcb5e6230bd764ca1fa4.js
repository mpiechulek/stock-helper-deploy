!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(self.webpackChunkstock_helper=self.webpackChunkstock_helper||[]).push([[438],{147:function(e,o,u){u.r(o),u.d(o,{CalculatorModule:function(){return Q},httpTranslateLoader:function(){return V}});var a,l=u(8583),i=u(3423),s=u(6215),c=u(7716),m=u(7987),p=u(9790),h=((a=function(){function e(){t(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=c.Xpm({type:a,selectors:[["app-header"]],decls:4,vars:3,consts:[[1,"stock-advanced-calculator__header"],[1,"calculator-header"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h2",1),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.qZA()),2&t&&(c.xp6(2),c.hij(" ",c.lcZ(3,1,"calculator.calculatorFormHeader"),""))},pipes:[p.X$],encapsulation:2}),a),f=u(3679),d=u(8295),g=u(9983),Z=u(8848),v=u(1095);function y(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function A(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}function b(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function R(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"calculator.calculatorResultFormWarning_3")," "))}function q(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function T(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}function x(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function k(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}function E(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function N(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}function F(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function O(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&t&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}var _=function(){var e=function(){function e(r){t(this,e),this.formBuilder=r,this.outputFormData=new c.vpe}return r(e,[{key:"ngOnInit",value:function(){this.calculatorForm=this.formBuilder.group({buyPrice:["10",[f.kI.required,f.kI.pattern("^[0-9]+(.[0-9]{1,4})?$"),f.kI.min(1e-4)]],amountOfShares:["100",[f.kI.required,f.kI.pattern("^[1-9][0-9]*$"),f.kI.min(1)]],sellPrice:["12",[f.kI.required,f.kI.min(1e-4),f.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],taxRate:["19",[f.kI.required,f.kI.min(0),f.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],commission:["0.3",[f.kI.required,f.kI.min(0),f.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],minCommission:["5",[f.kI.required,f.kI.min(0),f.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]]})}},{key:"getCalculatorForm",get:function(){return this.calculatorForm}},{key:"buyPrice",get:function(){return this.calculatorForm.get("buyPrice")}},{key:"amountOfShares",get:function(){return this.calculatorForm.get("amountOfShares")}},{key:"sellPrice",get:function(){return this.calculatorForm.get("sellPrice")}},{key:"taxRate",get:function(){return this.calculatorForm.get("taxRate")}},{key:"commission",get:function(){return this.calculatorForm.get("commission")}},{key:"minCommission",get:function(){return this.calculatorForm.get("minCommission")}},{key:"onCalculate",value:function(){this.calculatorForm.patchValue({buyPrice:this.calculatorForm.value.buyPrice,amountOfShares:this.calculatorForm.value.amountOfShares,sellPrice:this.calculatorForm.value.sellPrice,taxRate:this.calculatorForm.value.taxRate,commission:this.calculatorForm.value.commission,minCommission:this.calculatorForm.value.minCommission},{emitEvent:!1}),this.outputFormData.emit(this.calculatorForm.value)}},{key:"onClearForm",value:function(){this.calculatorForm.reset(),this.calculatorForm.patchValue({buyPrice:1,amountOfShares:1,sellPrice:1,taxRate:0,commission:0,minCommission:0},{emitEvent:!1}),this.outputFormData.emit(this.calculatorForm.value)}},{key:"onOverwriteFormPosition",value:function(t,e){var r,o,u;this.calculatorForm.patchValue((r={},u=t,(o=n(o=e))in r?Object.defineProperty(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u,r))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(f.qu))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-form"]],outputs:{outputFormData:"outputFormData"},decls:52,vars:38,consts:[[1,"stock-advanced-calculator__form",3,"formGroup","submit"],[1,"stock-advanced-calculator-form-wrapper"],["id","stock-advanced-calculator-form-field"],["matInput","","type","text","formControlName","buyPrice","appNumberDigit","",3,"outputData"],[4,"ngIf"],["matInput","","type","number","formControlName","amountOfShares"],["matInput","","type","text","formControlName","sellPrice","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","taxRate","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","commission","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","minCommission","appNumberDigit","",3,"outputData"],[1,"stock-advanced-calculator__button-wrapper"],["mat-raised-button","",3,"click"],["color","primary","mat-raised-button","","type","submit",3,"disabled"]],template:function(t,e){1&t&&(c.TgZ(0,"form",0),c.NdJ("submit",function(){return e.onCalculate()}),c.TgZ(1,"div",1),c.TgZ(2,"mat-form-field",2),c.TgZ(3,"mat-label"),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.TgZ(6,"input",3),c.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"calcStepValue")}),c.qZA(),c.YNc(7,y,3,3,"mat-error",4),c.YNc(8,A,3,3,"mat-error",4),c.qZA(),c.TgZ(9,"mat-form-field",2),c.TgZ(10,"mat-label"),c._uU(11),c.ALo(12,"translate"),c.qZA(),c._UZ(13,"input",5),c.YNc(14,b,3,3,"mat-error",4),c.YNc(15,R,3,3,"mat-error",4),c.qZA(),c.TgZ(16,"mat-form-field",2),c.TgZ(17,"mat-label"),c._uU(18),c.ALo(19,"translate"),c.qZA(),c.TgZ(20,"input",6),c.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"sellPrice")}),c.qZA(),c.YNc(21,q,3,3,"mat-error",4),c.YNc(22,T,3,3,"mat-error",4),c.qZA(),c.qZA(),c.TgZ(23,"div",1),c.TgZ(24,"mat-form-field",2),c.TgZ(25,"mat-label"),c._uU(26),c.ALo(27,"translate"),c.qZA(),c.TgZ(28,"input",7),c.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"taxRate")}),c.qZA(),c.YNc(29,x,3,3,"mat-error",4),c.YNc(30,k,3,3,"mat-error",4),c.qZA(),c.TgZ(31,"mat-form-field",2),c.TgZ(32,"mat-label"),c._uU(33),c.ALo(34,"translate"),c.qZA(),c.TgZ(35,"input",8),c.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"commission")}),c.qZA(),c.YNc(36,E,3,3,"mat-error",4),c.YNc(37,N,3,3,"mat-error",4),c.qZA(),c.TgZ(38,"mat-form-field",2),c.TgZ(39,"mat-label"),c._uU(40),c.ALo(41,"translate"),c.qZA(),c.TgZ(42,"input",9),c.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"minCommission")}),c.qZA(),c.YNc(43,F,3,3,"mat-error",4),c.YNc(44,O,3,3,"mat-error",4),c.qZA(),c.qZA(),c.TgZ(45,"div",10),c.TgZ(46,"button",11),c.NdJ("click",function(){return e.onClearForm()}),c._uU(47),c.ALo(48,"translate"),c.qZA(),c.TgZ(49,"button",12),c._uU(50),c.ALo(51,"translate"),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.Q6J("formGroup",e.getCalculatorForm),c.xp6(4),c.hij(" ",c.lcZ(5,22,"calculator.calculatorFormBuyPrice")," "),c.xp6(3),c.Q6J("ngIf",e.buyPrice.touched&&!e.buyPrice.hasError("pattern")),c.xp6(1),c.Q6J("ngIf",e.buyPrice.hasError("pattern")),c.xp6(3),c.hij("",c.lcZ(12,24,"calculator.calculatorFormQuantity")," "),c.xp6(3),c.Q6J("ngIf",e.amountOfShares.touched&&!e.amountOfShares.hasError("pattern")),c.xp6(1),c.Q6J("ngIf",e.amountOfShares.hasError("pattern")),c.xp6(3),c.Oqu(c.lcZ(19,26,"calculator.calculatorFormSellPrice")),c.xp6(3),c.Q6J("ngIf",e.sellPrice.touched&&!e.sellPrice.hasError("pattern")),c.xp6(1),c.Q6J("ngIf",e.sellPrice.hasError("pattern")),c.xp6(4),c.hij("",c.lcZ(27,28,"calculator.calculatorFormTaxRate")," "),c.xp6(3),c.Q6J("ngIf",e.taxRate.touched&&!e.taxRate.hasError("pattern")),c.xp6(1),c.Q6J("ngIf",e.taxRate.hasError("pattern")),c.xp6(3),c.Oqu(c.lcZ(34,30,"calculator.calculatorFormCommission")),c.xp6(3),c.Q6J("ngIf",e.commission.touched&&!e.commission.hasError("pattern")),c.xp6(1),c.Q6J("ngIf",e.commission.hasError("pattern")),c.xp6(3),c.Oqu(c.lcZ(41,32,"calculator.calculatorFormMinCommission")),c.xp6(3),c.Q6J("ngIf",e.minCommission.touched&&!e.minCommission.hasError("pattern")),c.xp6(1),c.Q6J("ngIf",e.minCommission.hasError("pattern")),c.xp6(3),c.hij(" ",c.lcZ(48,34,"calculator.calculatorFormButtonClear")," "),c.xp6(2),c.Q6J("disabled",e.getCalculatorForm.invalid),c.xp6(1),c.hij(" ",c.lcZ(51,36,"calculator.calculatorFormButtonCalculate")," "))},directives:[f._Y,f.JL,f.sg,d.KE,d.hX,g.Nt,f.Fj,f.JJ,f.u,Z.Z,l.O5,f.wV,v.lW,d.TO],pipes:[p.X$],encapsulation:2}),e}(),C=u(171);function U(t,e){if(1&t&&(c.TgZ(0,"div",2),c.TgZ(1,"div",3),c.TgZ(2,"p",4),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"p",4),c._uU(6),c.qZA(),c.qZA(),c.TgZ(7,"div",3),c.TgZ(8,"p",4),c._uU(9),c.ALo(10,"translate"),c.qZA(),c.TgZ(11,"p",4),c._uU(12),c.qZA(),c.qZA(),c.TgZ(13,"div",3),c.TgZ(14,"p",4),c._uU(15),c.ALo(16,"translate"),c.qZA(),c.TgZ(17,"p",4),c._uU(18),c.qZA(),c.qZA(),c.TgZ(19,"div",3),c.TgZ(20,"p",4),c._uU(21),c.ALo(22,"translate"),c.qZA(),c.TgZ(23,"p",4),c._uU(24),c.qZA(),c.qZA(),c.TgZ(25,"div",3),c.TgZ(26,"p",4),c._uU(27),c.ALo(28,"translate"),c.qZA(),c.TgZ(29,"p",4),c._uU(30),c.qZA(),c.qZA(),c.TgZ(31,"div",3),c.TgZ(32,"p",4),c._uU(33),c.ALo(34,"translate"),c.qZA(),c.TgZ(35,"p",4),c._uU(36),c.qZA(),c.qZA(),c.TgZ(37,"div",3),c.TgZ(38,"p",4),c._uU(39),c.ALo(40,"translate"),c.qZA(),c.TgZ(41,"p",4),c._uU(42),c.qZA(),c.qZA(),c.TgZ(43,"div",3),c.TgZ(44,"p",4),c._uU(45),c.ALo(46,"translate"),c.qZA(),c.TgZ(47,"p",4),c._uU(48),c.qZA(),c.qZA(),c.qZA()),2&t){var r=c.oxw();c.xp6(3),c.Oqu(c.lcZ(4,16,"calculator.calculatorResultNetBuyValue")),c.xp6(3),c.Oqu(null==r.calculationResults?null:r.calculationResults.netBuyValue),c.xp6(3),c.Oqu(c.lcZ(10,18,"calculator.calculatorResultResultBuyCommission")),c.xp6(3),c.Oqu(null==r.calculationResults?null:r.calculationResults.buyCommission),c.xp6(3),c.Oqu(c.lcZ(16,20,"calculator.calculatorResultGrossBuy")),c.xp6(3),c.Oqu(null==r.calculationResults?null:r.calculationResults.grossBuyValue),c.xp6(3),c.Oqu(c.lcZ(22,22,"calculator.calculatorResultGrossSell")),c.xp6(3),c.Oqu(null==r.calculationResults?null:r.calculationResults.grossSellValue),c.xp6(3),c.Oqu(c.lcZ(28,24,"calculator.calculatorResultSellCommission")),c.xp6(3),c.Oqu(null==r.calculationResults?null:r.calculationResults.sellCommission),c.xp6(3),c.Oqu(c.lcZ(34,26,"calculator.calculatorResultNetSellValue")),c.xp6(3),c.Oqu(null==r.calculationResults?null:r.calculationResults.netSellValue),c.xp6(3),c.Oqu(c.lcZ(40,28,"calculator.calculatorResultProfitBefore")),c.xp6(3),c.Oqu(null==r.calculationResults?null:r.calculationResults.profitBeforeTax),c.xp6(3),c.Oqu(c.lcZ(46,30,"calculator.calculatorResultProfitAfter")),c.xp6(3),c.Oqu(null==r.calculationResults?null:r.calculationResults.profitAfterTax)}}var J=function(){var e=function(){function e(){t(this,e),this.toggleExpandForm=new c.vpe}return r(e,[{key:"ngOnInit",value:function(){}},{key:"onToggleExpandForm",value:function(){this.toggleExpandForm.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-result"]],inputs:{formExpand:"formExpand",calculationResults:"calculationResults"},outputs:{toggleExpandForm:"toggleExpandForm"},decls:7,vars:4,consts:[[3,"expanded","click"],["matExpansionPanelContent",""],[1,"stock-advanced-calculator__result"],[1,"stock-advanced-calculator-result-wrapper"],[1,""]],template:function(t,e){1&t&&(c.TgZ(0,"mat-accordion"),c.TgZ(1,"mat-expansion-panel",0),c.NdJ("click",function(){return e.onToggleExpandForm()}),c.TgZ(2,"mat-expansion-panel-header"),c.TgZ(3,"mat-panel-description"),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.qZA(),c.YNc(6,U,49,32,"ng-template",1),c.qZA(),c.qZA()),2&t&&(c.xp6(1),c.Q6J("expanded",0===e.formExpand),c.xp6(3),c.hij(" ",c.lcZ(5,2,"calculator.calculatorResultResult")," "))},directives:[C.pp,C.ib,C.yz,C.u4,C.HS],pipes:[p.X$],encapsulation:2}),e}(),S=function(){var e=function(){function e(){t(this,e),this.outputFormData=new c.vpe,this.toggleExpandForm=new c.vpe}return r(e,[{key:"ngOnInit",value:function(){}},{key:"getFormExpand",get:function(){return this.formExpand}},{key:"calculate",value:function(t){return this.outputFormData.emit(t)}},{key:"onToggleExpandForm",value:function(){this.toggleExpandForm.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-calc-form"]],inputs:{formExpand:"formExpand",calculationResults:"calculationResults"},outputs:{outputFormData:"outputFormData",toggleExpandForm:"toggleExpandForm"},decls:4,vars:2,consts:[[1,"stock-advanced-calculator"],[3,"outputFormData"],[3,"formExpand","calculationResults","toggleExpandForm"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-header"),c.TgZ(2,"app-form",1),c.NdJ("outputFormData",function(t){return e.calculate(t)}),c.qZA(),c.TgZ(3,"app-result",2),c.NdJ("toggleExpandForm",function(){return e.onToggleExpandForm()}),c.qZA(),c.qZA()),2&t&&(c.xp6(3),c.Q6J("formExpand",e.getFormExpand)("calculationResults",e.calculationResults))},directives:[h,_,J],encapsulation:2}),e}();function D(t,e){if(1&t&&(c.TgZ(0,"li",4),c.TgZ(1,"p",5),c._uU(2),c.qZA(),c.TgZ(3,"p",6),c._uU(4),c.qZA(),c.qZA()),2&t){var r=e.$implicit;c.xp6(2),c.Oqu(null==r?null:r.equation),c.xp6(2),c.Oqu(null==r?null:r.result)}}var P=function(){var e=function(){function e(){t(this,e),this.resetResultArray=new c.vpe,this.chosenResult=new c.vpe}return r(e,[{key:"ngOnInit",value:function(){}},{key:"onResetBoardOfResults",value:function(){this.resetResultArray.emit()}},{key:"onClickResultList",value:function(t){"result"===t.target.getAttribute("key")&&this.chosenResult.emit(t.target.innerText)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-result-board"]],inputs:{arrayOfResults:"arrayOfResults"},outputs:{resetResultArray:"resetResultArray",chosenResult:"chosenResult"},decls:5,vars:1,consts:[[1,"calculator-result-board"],[1,"btn","btn--reset-btn",3,"click"],[1,"calculator-result-list-wrapper",3,"click"],["class","calculator-result-board-list-item",4,"ngFor","ngForOf"],[1,"calculator-result-board-list-item"],[1,"calculator-result-board-text"],["key","result",1,"calculator-result-board-text","calculator-result-board-text--bold"]],template:function(t,e){1&t&&(c.TgZ(0,"ul",0),c.TgZ(1,"button",1),c.NdJ("click",function(){return e.onResetBoardOfResults()}),c._uU(2,"reset"),c.qZA(),c.TgZ(3,"div",2),c.NdJ("click",function(t){return e.onClickResultList(t)}),c.YNc(4,D,5,2,"li",3),c.qZA(),c.qZA()),2&t&&(c.xp6(4),c.Q6J("ngForOf",e.arrayOfResults))},directives:[l.sg],encapsulation:2}),e}(),I=function(){var e=function(){function e(){t(this,e),this.displayEquation="0",this.displayResult="0",this.enteredNumber="0",this.previousEnteredNumber=null,this.numberWasEntered=!1,this.chosenOperator=void 0,this.result="0",this.onComputeWasUsed=!1,this.resultArrayEmitter=new c.vpe}return r(e,[{key:"ngOnInit",value:function(){var t=this;this.chosenResultFromBoardSubscription=this.chosenResult$.subscribe(function(e){t.result=e,t.displayResult=e})}},{key:"ngOnDestroy",value:function(){this.chosenResultFromBoardSubscription&&this.chosenResultFromBoardSubscription.unsubscribe()}},{key:"onEnterNumber",value:function(t){this.onComputeWasUsed&&(this.clearAll(),this.onComputeWasUsed=!1),!this.preventFromMultiZero(t)&&(!this.isStringLengthApproval(t)||!this.isNumber(t)&&!this.isCharacterADot(t)||this.checkIfDotInString(t)||(this.enteredNumber+=t,this.enteredNumber=this.removeFrontZero(this.enteredNumber),this.numberWasEntered=!0,this.displayResult=this.prepareResultToDisplay(this.enteredNumber)))}},{key:"isStringLengthApproval",value:function(t){return t.length<13}},{key:"isCharacterADot",value:function(t){return"."===t}},{key:"isNumber",value:function(t){return!isNaN(parseInt(t))}},{key:"preventFromMultiZero",value:function(t){return"0"===this.enteredNumber[0]&&1===this.enteredNumber.length&&"0"===t}},{key:"checkIfDotInString",value:function(t){return this.enteredNumber.includes(".")&&"."===t}},{key:"removeFrontZero",value:function(t){return"0."===t?t:"0"===t[0]&&"0"!==t[1]&&"."!==t[1]?t.substr(1):t}},{key:"onEnterOperation",value:function(t){if(void 0!==t){if((this.chosenOperator===t||this.chosenOperator!==t)&&!1===this.numberWasEntered&&"0"===this.enteredNumber)return this.chosenOperator=t,void this.createEquationForDisplay(t);if(this.onComputeWasUsed)return this.onComputeWasUsed=!1,this.numberWasEntered=!1,this.enteredNumber="0",this.chosenOperator=t,void this.createEquationForDisplay(t);if(this.chosenOperator!==t&&void 0!==this.chosenOperator)return this.createEquationForDisplay(this.chosenOperator),this.result=this.chooseOperation(this.chosenOperator),this.displayResult=this.prepareResultToDisplay(this.result),this.orderOfEquation()||this.saveResultToArray(),this.enteredNumber="0",this.numberWasEntered=!1,void(this.chosenOperator=t);this.createEquationForDisplay(t),this.result=this.chooseOperation(t),this.displayResult=this.prepareResultToDisplay(this.result),this.orderOfEquation()||this.saveResultToArray(),this.previousEnteredNumber=this.enteredNumber,this.enteredNumber="0",this.numberWasEntered=!1,this.chosenOperator=t,this.onComputeWasUsed=!1}}},{key:"chooseOperation",value:function(t){var e;if("0"===this.result&&void 0===this.chosenOperator)return this.stringToNumber(this.enteredNumber).toString();switch(t){case"+":e=this.stringToNumber(this.result)+this.stringToNumber(this.enteredNumber);break;case"-":e=this.stringToNumber(this.result)-this.stringToNumber(this.enteredNumber);break;case"*":e=this.stringToNumber(this.result)*this.stringToNumber(this.enteredNumber);break;case"/":e=this.stringToNumber(this.result)/this.stringToNumber(this.enteredNumber);break;default:return}return e.toString()}},{key:"stringToNumber",value:function(t){return parseFloat(t)}},{key:"orderOfEquation",value:function(){return null===this.previousEnteredNumber&&"0"===this.result}},{key:"createEquationForDisplay",value:function(t){this.displayEquation=this.orderOfEquation()?"".concat(this.enteredNumber," ").concat(t):!1===this.numberWasEntered&&"0"===this.enteredNumber?"".concat(this.result," ").concat(t):"".concat(this.result," ").concat(t," ").concat(this.enteredNumber)}},{key:"saveResultToArray",value:function(){var t;t={equation:this.displayEquation,result:this.prepareResultToDisplay(this.result)},this.resultArrayEmitter.emit(t)}},{key:"onCompute",value:function(t){void 0!==this.chosenOperator&&(this.onComputeWasUsed=!0,void 0!==this.chosenOperator&&"0"===this.enteredNumber&&null!==this.previousEnteredNumber&&(this.enteredNumber=this.previousEnteredNumber),this.createEquationForDisplay(this.chosenOperator),this.result=this.chooseOperation(this.chosenOperator),this.displayResult=this.prepareResultToDisplay(this.result),this.orderOfEquation()||this.saveResultToArray(),this.numberWasEntered=!1)}},{key:"onDelete",value:function(t){if("del"===t)this.deleteDigit();else if("c"===t)this.clearAll();else{if("ce"!==t)return;this.clearEntry()}}},{key:"clearEntry",value:function(){this.displayResult="0",this.enteredNumber="0"}},{key:"deleteDigit",value:function(){""!==this.enteredNumber&&(this.enteredNumber=this.removeStringsLastCharacter(this.enteredNumber),this.displayResult=this.prepareResultToDisplay(this.enteredNumber))}},{key:"removeStringsLastCharacter",value:function(t){return t.slice(0,-1)}},{key:"clearAll",value:function(){this.displayResult="0",this.enteredNumber="0",this.previousEnteredNumber=null,this.result="0",this.displayEquation="0",this.chosenOperator=void 0}},{key:"prepareResultToDisplay",value:function(t){var e,r;return""===t?"0":(t.includes(".")&&(e=t.split("."),r=parseInt(e[0]).toLocaleString(void 0,{minimumFractionDigits:1}),r=this.removeStringsLastCharacter(r)),t.includes(".")||(r=parseInt(t).toLocaleString()),e&&(e&&""===e[1]||(r+=e[1])),r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-calc-device"]],inputs:{chosenResult$:"chosenResult$"},outputs:{resultArrayEmitter:"resultArrayEmitter"},decls:45,vars:2,consts:[[1,"calc-device-container"],[1,"calc-device-container__output"],[1,"equation"],[1,"calc-result"],[1,"calc-device-container__input"],[1,"calc-button",3,"click"],[1,"calc-button","calc-button--num",3,"click"],[1,"calc-button","calc-button--num","btn-width",3,"click"],[1,"calc-button","calc-button--equale",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"p",2),c._uU(3),c.qZA(),c.TgZ(4,"p",3),c._uU(5),c.qZA(),c.qZA(),c.TgZ(6,"div",4),c.TgZ(7,"button",5),c.NdJ("click",function(){return e.onDelete("ce")}),c._uU(8,"CA"),c.qZA(),c.TgZ(9,"button",5),c.NdJ("click",function(){return e.onDelete("c")}),c._uU(10,"C"),c.qZA(),c.TgZ(11,"button",5),c.NdJ("click",function(){return e.onDelete("del")}),c._uU(12,"del"),c.qZA(),c.TgZ(13,"button",5),c.NdJ("click",function(){return e.onEnterOperation("/")}),c._uU(14,"\xf7"),c.qZA(),c.TgZ(15,"button",6),c.NdJ("click",function(){return e.onEnterNumber("7")}),c._uU(16,"7"),c.qZA(),c.TgZ(17,"button",6),c.NdJ("click",function(){return e.onEnterNumber("8")}),c._uU(18,"8"),c.qZA(),c.TgZ(19,"button",6),c.NdJ("click",function(){return e.onEnterNumber("9")}),c._uU(20,"9"),c.qZA(),c.TgZ(21,"button",5),c.NdJ("click",function(){return e.onEnterOperation("*")}),c._uU(22,"*"),c.qZA(),c.TgZ(23,"button",6),c.NdJ("click",function(){return e.onEnterNumber("4")}),c._uU(24,"4"),c.qZA(),c.TgZ(25,"button",6),c.NdJ("click",function(){return e.onEnterNumber("5")}),c._uU(26,"5"),c.qZA(),c.TgZ(27,"button",6),c.NdJ("click",function(){return e.onEnterNumber("6")}),c._uU(28,"6"),c.qZA(),c.TgZ(29,"button",5),c.NdJ("click",function(){return e.onEnterOperation("+")}),c._uU(30,"+"),c.qZA(),c.TgZ(31,"button",6),c.NdJ("click",function(){return e.onEnterNumber("1")}),c._uU(32,"1"),c.qZA(),c.TgZ(33,"button",6),c.NdJ("click",function(){return e.onEnterNumber("2")}),c._uU(34,"2"),c.qZA(),c.TgZ(35,"button",6),c.NdJ("click",function(){return e.onEnterNumber("3")}),c._uU(36,"3"),c.qZA(),c.TgZ(37,"button",5),c.NdJ("click",function(){return e.onEnterOperation("-")}),c._uU(38,"-"),c.qZA(),c.TgZ(39,"button",7),c.NdJ("click",function(){return e.onEnterNumber("0")}),c._uU(40,"0"),c.qZA(),c.TgZ(41,"button",6),c.NdJ("click",function(){return e.onEnterNumber(".")}),c._uU(42,"."),c.qZA(),c.TgZ(43,"button",8),c.NdJ("click",function(){return e.onCompute("=")}),c._uU(44,"="),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(3),c.Oqu(e.displayEquation),c.xp6(2),c.Oqu(e.displayResult))},encapsulation:2}),e}(),w=function(){var e=function(){function e(){t(this,e),this.outputFormData=new c.vpe,this.resultArrayEmitter=new c.vpe,this.resetResultArray=new c.vpe,this.chosenResult=new c.vpe,this.toggleExpandForm=new c.vpe}return r(e,[{key:"setChosenResult$",set:function(t){this.chosenResult$=t}},{key:"ngOnInit",value:function(){}},{key:"getFormExpand",get:function(){return this.formExpand}},{key:"getChosenResult",get:function(){return this.chosenResult$}},{key:"calculate",value:function(t){return this.outputFormData.emit(t)}},{key:"onSaveResultToArray",value:function(t){this.resultArrayEmitter.emit(t)}},{key:"onResetBoardOfResults",value:function(){this.resetResultArray.emit()}},{key:"onChoseResult",value:function(t){this.chosenResult.emit(t)}},{key:"onToggleExpandForm",value:function(){this.toggleExpandForm.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-calculator-ui"]],inputs:{calculationResults:"calculationResults",arrayOfResults:"arrayOfResults",formExpand:"formExpand",setChosenResult$:"setChosenResult$"},outputs:{outputFormData:"outputFormData",resultArrayEmitter:"resultArrayEmitter",resetResultArray:"resetResultArray",chosenResult:"chosenResult",toggleExpandForm:"toggleExpandForm"},decls:6,vars:4,consts:[[1,"calculator"],[1,"calculator__container"],[1,"calculator-component-container",3,"calculationResults","formExpand","toggleExpandForm","outputFormData"],[1,"calculator__container","calculator__container--margin-bottom"],[1,"calculator-component-container",3,"arrayOfResults","chosenResult","resetResultArray"],[1,"calculator-component-container",3,"chosenResult$","resultArrayEmitter"]],template:function(t,e){1&t&&(c.TgZ(0,"section",0),c.TgZ(1,"article",1),c.TgZ(2,"app-calc-form",2),c.NdJ("toggleExpandForm",function(){return e.onToggleExpandForm()})("outputFormData",function(t){return e.calculate(t)}),c.qZA(),c.qZA(),c.TgZ(3,"article",3),c.TgZ(4,"app-result-board",4),c.NdJ("chosenResult",function(t){return e.onChoseResult(t)})("resetResultArray",function(){return e.onResetBoardOfResults()}),c.qZA(),c.TgZ(5,"app-calc-device",5),c.NdJ("resultArrayEmitter",function(t){return e.onSaveResultToArray(t)}),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(2),c.Q6J("calculationResults",e.calculationResults)("formExpand",e.formExpand),c.xp6(2),c.Q6J("arrayOfResults",e.arrayOfResults),c.xp6(1),c.Q6J("chosenResult$",e.getChosenResult))},directives:[S,P,I],encapsulation:2}),e}(),L=[{path:"",children:[{path:"",component:function(){var e=function(){function e(r){t(this,e),this.stockPriceCalculatorService=r,this.arrayOfResults=[],this.formExpand=1,this.chosenResultSubject=new s.X("0"),this.chosenResultSubject$=this.chosenResultSubject.asObservable()}return r(e,[{key:"ngOnInit",value:function(){}},{key:"getCalculationResults",get:function(){return this.calculatorResult}},{key:"getArrayOfResults",get:function(){return this.arrayOfResults}},{key:"getChosenResult$",get:function(){return this.chosenResultSubject$}},{key:"getFormExpand",get:function(){return this.formExpand}},{key:"toggleAccordionFormExpand",value:function(){this.formExpand=0===this.formExpand?1:0}},{key:"calculate",value:function(t){var e=this.convertStringObjectValuesToNumber(t),r=this.stockPriceCalculatorService.calculateBuyValue(e.amountOfShares,e.buyPrice),n=this.stockPriceCalculatorService.calculatePercentageCommission(r,e.commission),o=this.stockPriceCalculatorService.calculateCommissionValue(r,n,e.minCommission),u=r+o,a=this.stockPriceCalculatorService.calculateCurrentValue(e.sellPrice,e.amountOfShares),l=this.stockPriceCalculatorService.calculatePercentageCommission(a,e.commission),i=this.stockPriceCalculatorService.calculateCommissionValue(a,l,e.minCommission),s=this.stockPriceCalculatorService.calculateTotalCommissionValue(i,o),c=a-i,m=this.stockPriceCalculatorService.calculateProfitBeforeTax(a,r,s),p={netBuyValue:r,buyCommission:o,grossBuyValue:u,sellCommission:i,grossSellValue:a,netSellValue:c,profitBeforeTax:m,profitAfterTax:m<0?m:this.stockPriceCalculatorService.calculateProfitAfterTax(m,e.taxRate)};console.log(p),this.formExpand=0,this.calculatorResult=p}},{key:"convertStringObjectValuesToNumber",value:function(t){var e={};for(var r in t)e[r]=parseFloat(t[r]);return e}},{key:"onSaveResultToArray",value:function(t){this.arrayOfResults.push(t)}},{key:"onResetBoardOfResults",value:function(){this.arrayOfResults=[]}},{key:"onChoseResult",value:function(t){this.chosenResultSubject.next(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(m.f))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-calculator"]],decls:1,vars:4,consts:[[3,"calculationResults","arrayOfResults","setChosenResult$","formExpand","outputFormData","resultArrayEmitter","resetResultArray","chosenResult","toggleExpandForm"]],template:function(t,e){1&t&&(c.TgZ(0,"app-calculator-ui",0),c.NdJ("outputFormData",function(t){return e.calculate(t)})("resultArrayEmitter",function(t){return e.onSaveResultToArray(t)})("resetResultArray",function(){return e.onResetBoardOfResults()})("chosenResult",function(t){return e.onChoseResult(t)})("toggleExpandForm",function(){return e.toggleAccordionFormExpand()}),c.qZA()),2&t&&c.Q6J("calculationResults",e.getCalculationResults)("arrayOfResults",e.getArrayOfResults)("setChosenResult$",e.getChosenResult$)("formExpand",e.getFormExpand)},directives:[w],encapsulation:2}),e}()}]}],j=function(){var e=r(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.Bz.forChild(L)],i.Bz]}),e}(),B=u(4061),W=u(1841),$=u(2472),Q=function(){var e=r(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[p.sK],imports:[[l.ez,j,v.ot,d.lN,g.c,B.m,f.u5,f.UX,C.To,W.JF,p.aw.forChild({loader:{provide:p.aw,useFactory:V,deps:[W.eN]}})]]}),e}();function V(t){return new $.w(t)}}}])}();
!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}(self.webpackChunkstock_helper=self.webpackChunkstock_helper||[]).push([[247],{4247:function(e,n,o){"use strict";o.r(n),o.d(n,{CalculatorModule:function(){return Q},httpTranslateLoader:function(){return V}});var a=o(5109),u=o(6253),l=o(5844),i=o(2304),s=o(58),c=o(9263),m=function(){var e=function(){function e(){t(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-header"]],decls:4,vars:3,consts:[[1,"stock-advanced-calculator__header"],[1,"calculator-header"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"h2",1),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,"calculator.calculatorFormHeader"),""))},pipes:[c.X$],encapsulation:2}),e}(),p=o(6278),h=o(2758),f=o(3196),d=o(2417),g=o(8323);function Z(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function v(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}function y(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function A(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"calculator.calculatorResultFormWarning_3")," "))}function b(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function R(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}function q(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function T(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}function x(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function k(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}function E(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"calculator.calculatorResultFormWarning_1")," "))}function N(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"calculator.calculatorResultFormWarning_2")," "))}var F=function(){var e=function(){function e(r){t(this,e),this.formBuilder=r,this.outputFormData=new i.vpe}return r(e,[{key:"ngOnInit",value:function(){this.calculatorForm=this.formBuilder.group({buyPrice:["10",[p.kI.required,p.kI.pattern("^[0-9]+(.[0-9]{1,4})?$"),p.kI.min(1e-4)]],amountOfShares:["100",[p.kI.required,p.kI.pattern("^[1-9][0-9]*$"),p.kI.min(1)]],sellPrice:["12",[p.kI.required,p.kI.min(1e-4),p.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],taxRate:["19",[p.kI.required,p.kI.min(0),p.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],commission:["0.3",[p.kI.required,p.kI.min(0),p.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],minCommission:["5",[p.kI.required,p.kI.min(0),p.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]]})}},{key:"getCalculatorForm",get:function(){return this.calculatorForm}},{key:"buyPrice",get:function(){return this.calculatorForm.get("buyPrice")}},{key:"amountOfShares",get:function(){return this.calculatorForm.get("amountOfShares")}},{key:"sellPrice",get:function(){return this.calculatorForm.get("sellPrice")}},{key:"taxRate",get:function(){return this.calculatorForm.get("taxRate")}},{key:"commission",get:function(){return this.calculatorForm.get("commission")}},{key:"minCommission",get:function(){return this.calculatorForm.get("minCommission")}},{key:"onCalculate",value:function(){this.calculatorForm.patchValue({buyPrice:this.calculatorForm.value.buyPrice,amountOfShares:this.calculatorForm.value.amountOfShares,sellPrice:this.calculatorForm.value.sellPrice,taxRate:this.calculatorForm.value.taxRate,commission:this.calculatorForm.value.commission,minCommission:this.calculatorForm.value.minCommission},{emitEvent:!1}),this.outputFormData.emit(this.calculatorForm.value)}},{key:"onClearForm",value:function(){this.calculatorForm.reset(),this.calculatorForm.patchValue({buyPrice:1,amountOfShares:1,sellPrice:1,taxRate:0,commission:0,minCommission:0},{emitEvent:!1}),this.outputFormData.emit(this.calculatorForm.value)}},{key:"onOverwriteFormPosition",value:function(t,e){var r,n,o;this.calculatorForm.patchValue((o=t,(n=e)in(r={})?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(p.qu))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-form"]],outputs:{outputFormData:"outputFormData"},decls:52,vars:38,consts:[[1,"stock-advanced-calculator__form",3,"formGroup","submit"],[1,"stock-advanced-calculator-form-wrapper"],["id","stock-advanced-calculator-form-field"],["matInput","","type","text","formControlName","buyPrice","appNumberDigit","",3,"outputData"],[4,"ngIf"],["matInput","","type","number","formControlName","amountOfShares"],["matInput","","type","text","formControlName","sellPrice","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","taxRate","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","commission","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","minCommission","appNumberDigit","",3,"outputData"],[1,"stock-advanced-calculator__button-wrapper"],["mat-raised-button","",3,"click"],["color","primary","mat-raised-button","","type","submit",3,"disabled"]],template:function(t,e){1&t&&(i.TgZ(0,"form",0),i.NdJ("submit",function(){return e.onCalculate()}),i.TgZ(1,"div",1),i.TgZ(2,"mat-form-field",2),i.TgZ(3,"mat-label"),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"input",3),i.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"calcStepValue")}),i.qZA(),i.YNc(7,Z,3,3,"mat-error",4),i.YNc(8,v,3,3,"mat-error",4),i.qZA(),i.TgZ(9,"mat-form-field",2),i.TgZ(10,"mat-label"),i._uU(11),i.ALo(12,"translate"),i.qZA(),i._UZ(13,"input",5),i.YNc(14,y,3,3,"mat-error",4),i.YNc(15,A,3,3,"mat-error",4),i.qZA(),i.TgZ(16,"mat-form-field",2),i.TgZ(17,"mat-label"),i._uU(18),i.ALo(19,"translate"),i.qZA(),i.TgZ(20,"input",6),i.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"sellPrice")}),i.qZA(),i.YNc(21,b,3,3,"mat-error",4),i.YNc(22,R,3,3,"mat-error",4),i.qZA(),i.qZA(),i.TgZ(23,"div",1),i.TgZ(24,"mat-form-field",2),i.TgZ(25,"mat-label"),i._uU(26),i.ALo(27,"translate"),i.qZA(),i.TgZ(28,"input",7),i.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"taxRate")}),i.qZA(),i.YNc(29,q,3,3,"mat-error",4),i.YNc(30,T,3,3,"mat-error",4),i.qZA(),i.TgZ(31,"mat-form-field",2),i.TgZ(32,"mat-label"),i._uU(33),i.ALo(34,"translate"),i.qZA(),i.TgZ(35,"input",8),i.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"commission")}),i.qZA(),i.YNc(36,x,3,3,"mat-error",4),i.YNc(37,k,3,3,"mat-error",4),i.qZA(),i.TgZ(38,"mat-form-field",2),i.TgZ(39,"mat-label"),i._uU(40),i.ALo(41,"translate"),i.qZA(),i.TgZ(42,"input",9),i.NdJ("outputData",function(t){return e.onOverwriteFormPosition(t,"minCommission")}),i.qZA(),i.YNc(43,E,3,3,"mat-error",4),i.YNc(44,N,3,3,"mat-error",4),i.qZA(),i.qZA(),i.TgZ(45,"div",10),i.TgZ(46,"button",11),i.NdJ("click",function(){return e.onClearForm()}),i._uU(47),i.ALo(48,"translate"),i.qZA(),i.TgZ(49,"button",12),i._uU(50),i.ALo(51,"translate"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.Q6J("formGroup",e.getCalculatorForm),i.xp6(4),i.hij(" ",i.lcZ(5,22,"calculator.calculatorFormBuyPrice")," "),i.xp6(3),i.Q6J("ngIf",e.buyPrice.touched&&!e.buyPrice.hasError("pattern")),i.xp6(1),i.Q6J("ngIf",e.buyPrice.hasError("pattern")),i.xp6(3),i.hij("",i.lcZ(12,24,"calculator.calculatorFormQuantity")," "),i.xp6(3),i.Q6J("ngIf",e.amountOfShares.touched&&!e.amountOfShares.hasError("pattern")),i.xp6(1),i.Q6J("ngIf",e.amountOfShares.hasError("pattern")),i.xp6(3),i.Oqu(i.lcZ(19,26,"calculator.calculatorFormSellPrice")),i.xp6(3),i.Q6J("ngIf",e.sellPrice.touched&&!e.sellPrice.hasError("pattern")),i.xp6(1),i.Q6J("ngIf",e.sellPrice.hasError("pattern")),i.xp6(4),i.hij("",i.lcZ(27,28,"calculator.calculatorFormTaxRate")," "),i.xp6(3),i.Q6J("ngIf",e.taxRate.touched&&!e.taxRate.hasError("pattern")),i.xp6(1),i.Q6J("ngIf",e.taxRate.hasError("pattern")),i.xp6(3),i.Oqu(i.lcZ(34,30,"calculator.calculatorFormCommission")),i.xp6(3),i.Q6J("ngIf",e.commission.touched&&!e.commission.hasError("pattern")),i.xp6(1),i.Q6J("ngIf",e.commission.hasError("pattern")),i.xp6(3),i.Oqu(i.lcZ(41,32,"calculator.calculatorFormMinCommission")),i.xp6(3),i.Q6J("ngIf",e.minCommission.touched&&!e.minCommission.hasError("pattern")),i.xp6(1),i.Q6J("ngIf",e.minCommission.hasError("pattern")),i.xp6(3),i.hij(" ",i.lcZ(48,34,"calculator.calculatorFormButtonClear")," "),i.xp6(2),i.Q6J("disabled",e.getCalculatorForm.invalid),i.xp6(1),i.hij(" ",i.lcZ(51,36,"calculator.calculatorFormButtonCalculate")," "))},directives:[p._Y,p.JL,p.sg,h.KE,h.hX,f.Nt,p.Fj,p.JJ,p.u,d.Z,a.O5,p.wV,g.lW,h.TO],pipes:[c.X$],encapsulation:2}),e}(),O=o(405);function _(t,e){if(1&t&&(i.TgZ(0,"div",2),i.TgZ(1,"div",3),i.TgZ(2,"p",4),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"p",4),i._uU(6),i.qZA(),i.qZA(),i.TgZ(7,"div",3),i.TgZ(8,"p",4),i._uU(9),i.ALo(10,"translate"),i.qZA(),i.TgZ(11,"p",4),i._uU(12),i.qZA(),i.qZA(),i.TgZ(13,"div",3),i.TgZ(14,"p",4),i._uU(15),i.ALo(16,"translate"),i.qZA(),i.TgZ(17,"p",4),i._uU(18),i.qZA(),i.qZA(),i.TgZ(19,"div",3),i.TgZ(20,"p",4),i._uU(21),i.ALo(22,"translate"),i.qZA(),i.TgZ(23,"p",4),i._uU(24),i.qZA(),i.qZA(),i.TgZ(25,"div",3),i.TgZ(26,"p",4),i._uU(27),i.ALo(28,"translate"),i.qZA(),i.TgZ(29,"p",4),i._uU(30),i.qZA(),i.qZA(),i.TgZ(31,"div",3),i.TgZ(32,"p",4),i._uU(33),i.ALo(34,"translate"),i.qZA(),i.TgZ(35,"p",4),i._uU(36),i.qZA(),i.qZA(),i.TgZ(37,"div",3),i.TgZ(38,"p",4),i._uU(39),i.ALo(40,"translate"),i.qZA(),i.TgZ(41,"p",4),i._uU(42),i.qZA(),i.qZA(),i.TgZ(43,"div",3),i.TgZ(44,"p",4),i._uU(45),i.ALo(46,"translate"),i.qZA(),i.TgZ(47,"p",4),i._uU(48),i.qZA(),i.qZA(),i.qZA()),2&t){var r=i.oxw();i.xp6(3),i.Oqu(i.lcZ(4,16,"calculator.calculatorResultNetBuyValue")),i.xp6(3),i.Oqu(null==r.calculationResults?null:r.calculationResults.netBuyValue),i.xp6(3),i.Oqu(i.lcZ(10,18,"calculator.calculatorResultResultBuyCommission")),i.xp6(3),i.Oqu(null==r.calculationResults?null:r.calculationResults.buyCommission),i.xp6(3),i.Oqu(i.lcZ(16,20,"calculator.calculatorResultGrossBuy")),i.xp6(3),i.Oqu(null==r.calculationResults?null:r.calculationResults.grossBuyValue),i.xp6(3),i.Oqu(i.lcZ(22,22,"calculator.calculatorResultGrossSell")),i.xp6(3),i.Oqu(null==r.calculationResults?null:r.calculationResults.grossSellValue),i.xp6(3),i.Oqu(i.lcZ(28,24,"calculator.calculatorResultSellCommission")),i.xp6(3),i.Oqu(null==r.calculationResults?null:r.calculationResults.sellCommission),i.xp6(3),i.Oqu(i.lcZ(34,26,"calculator.calculatorResultNetSellValue")),i.xp6(3),i.Oqu(null==r.calculationResults?null:r.calculationResults.netSellValue),i.xp6(3),i.Oqu(i.lcZ(40,28,"calculator.calculatorResultProfitBefore")),i.xp6(3),i.Oqu(null==r.calculationResults?null:r.calculationResults.profitBeforeTax),i.xp6(3),i.Oqu(i.lcZ(46,30,"calculator.calculatorResultProfitAfter")),i.xp6(3),i.Oqu(null==r.calculationResults?null:r.calculationResults.profitAfterTax)}}var C=function(){var e=function(){function e(){t(this,e),this.toggleExpandForm=new i.vpe}return r(e,[{key:"ngOnInit",value:function(){}},{key:"onToggleExpandForm",value:function(){this.toggleExpandForm.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-result"]],inputs:{formExpand:"formExpand",calculationResults:"calculationResults"},outputs:{toggleExpandForm:"toggleExpandForm"},decls:7,vars:4,consts:[[3,"expanded","click"],["matExpansionPanelContent",""],[1,"stock-advanced-calculator__result"],[1,"stock-advanced-calculator-result-wrapper"],[1,""]],template:function(t,e){1&t&&(i.TgZ(0,"mat-accordion"),i.TgZ(1,"mat-expansion-panel",0),i.NdJ("click",function(){return e.onToggleExpandForm()}),i.TgZ(2,"mat-expansion-panel-header"),i.TgZ(3,"mat-panel-description"),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.qZA(),i.YNc(6,_,49,32,"ng-template",1),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Q6J("expanded",0===e.formExpand),i.xp6(3),i.hij(" ",i.lcZ(5,2,"calculator.calculatorResultResult")," "))},directives:[O.pp,O.ib,O.yz,O.u4,O.HS],pipes:[c.X$],encapsulation:2}),e}(),U=function(){var e=function(){function e(){t(this,e),this.outputFormData=new i.vpe,this.toggleExpandForm=new i.vpe}return r(e,[{key:"ngOnInit",value:function(){}},{key:"getFormExpand",get:function(){return this.formExpand}},{key:"calculate",value:function(t){return this.outputFormData.emit(t)}},{key:"onToggleExpandForm",value:function(){this.toggleExpandForm.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-calc-form"]],inputs:{formExpand:"formExpand",calculationResults:"calculationResults"},outputs:{outputFormData:"outputFormData",toggleExpandForm:"toggleExpandForm"},decls:4,vars:2,consts:[[1,"stock-advanced-calculator"],[3,"outputFormData"],[3,"formExpand","calculationResults","toggleExpandForm"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"app-header"),i.TgZ(2,"app-form",1),i.NdJ("outputFormData",function(t){return e.calculate(t)}),i.qZA(),i.TgZ(3,"app-result",2),i.NdJ("toggleExpandForm",function(){return e.onToggleExpandForm()}),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Q6J("formExpand",e.getFormExpand)("calculationResults",e.calculationResults))},directives:[m,F,C],encapsulation:2}),e}();function J(t,e){if(1&t&&(i.TgZ(0,"li",4),i.TgZ(1,"p",5),i._uU(2),i.qZA(),i.TgZ(3,"p",6),i._uU(4),i.qZA(),i.qZA()),2&t){var r=e.$implicit;i.xp6(2),i.Oqu(null==r?null:r.equation),i.xp6(2),i.Oqu(null==r?null:r.result)}}var D,S,I=function(){var e=function(){function e(){t(this,e),this.resetResultArray=new i.vpe,this.chosenResult=new i.vpe}return r(e,[{key:"ngOnInit",value:function(){}},{key:"onResetBoardOfResults",value:function(){this.resetResultArray.emit()}},{key:"onClickResultList",value:function(t){"result"===t.target.getAttribute("key")&&this.chosenResult.emit(t.target.innerText)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-result-board"]],inputs:{arrayOfResults:"arrayOfResults"},outputs:{resetResultArray:"resetResultArray",chosenResult:"chosenResult"},decls:5,vars:1,consts:[[1,"calculator-result-board"],[1,"btn","btn--reset-btn",3,"click"],[1,"calculator-result-list-wrapper",3,"click"],["class","calculator-result-board-list-item",4,"ngFor","ngForOf"],[1,"calculator-result-board-list-item"],[1,"calculator-result-board-text"],["key","result",1,"calculator-result-board-text","calculator-result-board-text--bold"]],template:function(t,e){1&t&&(i.TgZ(0,"ul",0),i.TgZ(1,"button",1),i.NdJ("click",function(){return e.onResetBoardOfResults()}),i._uU(2,"reset"),i.qZA(),i.TgZ(3,"div",2),i.NdJ("click",function(t){return e.onClickResultList(t)}),i.YNc(4,J,5,2,"li",3),i.qZA(),i.qZA()),2&t&&(i.xp6(4),i.Q6J("ngForOf",e.arrayOfResults))},directives:[a.sg],encapsulation:2}),e}(),P=function(){var e=function(){function e(){t(this,e),this.displayEquation="0",this.displayResult="0",this.enteredNumber="0",this.previousEnteredNumber=null,this.numberWasEntered=!1,this.chosenOperator=void 0,this.result="0",this.onComputeWasUsed=!1,this.resultArrayEmitter=new i.vpe}return r(e,[{key:"ngOnInit",value:function(){var t=this;this.chosenResultFromBoardSubscription=this.chosenResult$.subscribe(function(e){t.result=e,t.displayResult=e})}},{key:"ngOnDestroy",value:function(){this.chosenResultFromBoardSubscription&&this.chosenResultFromBoardSubscription.unsubscribe()}},{key:"onEnterNumber",value:function(t){this.onComputeWasUsed&&(this.clearAll(),this.onComputeWasUsed=!1),this.preventFromMultiZero(t)||this.isStringLengthApproval(t)&&(this.isNumber(t)||this.isCharacterADot(t))&&(this.checkIfDotInString(t)||(this.enteredNumber+=t,this.enteredNumber=this.removeFrontZero(this.enteredNumber),this.numberWasEntered=!0,this.displayResult=this.prepareResultToDisplay(this.enteredNumber)))}},{key:"isStringLengthApproval",value:function(t){return t.length<13}},{key:"isCharacterADot",value:function(t){return"."===t}},{key:"isNumber",value:function(t){return!isNaN(parseInt(t))}},{key:"preventFromMultiZero",value:function(t){return"0"===this.enteredNumber[0]&&1===this.enteredNumber.length&&"0"===t}},{key:"checkIfDotInString",value:function(t){return this.enteredNumber.includes(".")&&"."===t}},{key:"removeFrontZero",value:function(t){return"0."===t?t:"0"===t[0]&&"0"!==t[1]&&"."!==t[1]?t.substr(1):t}},{key:"onEnterOperation",value:function(t){if(void 0!==t){if((this.chosenOperator===t||this.chosenOperator!==t)&&!1===this.numberWasEntered&&"0"===this.enteredNumber)return this.chosenOperator=t,void this.createEquationForDisplay(t);if(this.onComputeWasUsed)return this.onComputeWasUsed=!1,this.numberWasEntered=!1,this.enteredNumber="0",this.chosenOperator=t,void this.createEquationForDisplay(t);if(this.chosenOperator!==t&&void 0!==this.chosenOperator)return this.createEquationForDisplay(this.chosenOperator),this.result=this.chooseOperation(this.chosenOperator),this.displayResult=this.prepareResultToDisplay(this.result),this.orderOfEquation()||this.saveResultToArray(),this.enteredNumber="0",this.numberWasEntered=!1,void(this.chosenOperator=t);this.createEquationForDisplay(t),this.result=this.chooseOperation(t),this.displayResult=this.prepareResultToDisplay(this.result),this.orderOfEquation()||this.saveResultToArray(),this.previousEnteredNumber=this.enteredNumber,this.enteredNumber="0",this.numberWasEntered=!1,this.chosenOperator=t,this.onComputeWasUsed=!1}}},{key:"chooseOperation",value:function(t){var e;if("0"===this.result&&void 0===this.chosenOperator)return this.stringToNumber(this.enteredNumber).toString();switch(t){case"+":e=this.stringToNumber(this.result)+this.stringToNumber(this.enteredNumber);break;case"-":e=this.stringToNumber(this.result)-this.stringToNumber(this.enteredNumber);break;case"*":e=this.stringToNumber(this.result)*this.stringToNumber(this.enteredNumber);break;case"/":e=this.stringToNumber(this.result)/this.stringToNumber(this.enteredNumber);break;default:return}return e.toString()}},{key:"stringToNumber",value:function(t){return parseFloat(t)}},{key:"orderOfEquation",value:function(){return null===this.previousEnteredNumber&&"0"===this.result}},{key:"createEquationForDisplay",value:function(t){this.displayEquation=this.orderOfEquation()?"".concat(this.enteredNumber," ").concat(t):!1===this.numberWasEntered&&"0"===this.enteredNumber?"".concat(this.result," ").concat(t):"".concat(this.result," ").concat(t," ").concat(this.enteredNumber)}},{key:"saveResultToArray",value:function(){var t;t={equation:this.displayEquation,result:this.prepareResultToDisplay(this.result)},this.resultArrayEmitter.emit(t)}},{key:"onCompute",value:function(t){void 0!==this.chosenOperator&&(this.onComputeWasUsed=!0,void 0!==this.chosenOperator&&"0"===this.enteredNumber&&null!==this.previousEnteredNumber&&(this.enteredNumber=this.previousEnteredNumber),this.createEquationForDisplay(this.chosenOperator),this.result=this.chooseOperation(this.chosenOperator),this.displayResult=this.prepareResultToDisplay(this.result),this.orderOfEquation()||this.saveResultToArray(),this.numberWasEntered=!1)}},{key:"onDelete",value:function(t){if("del"===t)this.deleteDigit();else if("c"===t)this.clearAll();else{if("ce"!==t)return;this.clearEntry()}}},{key:"clearEntry",value:function(){this.displayResult="0",this.enteredNumber="0"}},{key:"deleteDigit",value:function(){""!==this.enteredNumber&&(this.enteredNumber=this.removeStringsLastCharacter(this.enteredNumber),this.displayResult=this.prepareResultToDisplay(this.enteredNumber))}},{key:"removeStringsLastCharacter",value:function(t){return t.slice(0,-1)}},{key:"clearAll",value:function(){this.displayResult="0",this.enteredNumber="0",this.previousEnteredNumber=null,this.result="0",this.displayEquation="0",this.chosenOperator=void 0}},{key:"prepareResultToDisplay",value:function(t){var e,r;return""===t?"0":(t.includes(".")&&(e=t.split("."),r=parseInt(e[0]).toLocaleString(void 0,{minimumFractionDigits:1}),r=this.removeStringsLastCharacter(r)),t.includes(".")||(r=parseInt(t).toLocaleString()),e?(e&&""===e[1]||(r+=e[1]),r):r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-calc-device"]],inputs:{chosenResult$:"chosenResult$"},outputs:{resultArrayEmitter:"resultArrayEmitter"},decls:45,vars:2,consts:[[1,"calc-device-container"],[1,"calc-device-container__output"],[1,"equation"],[1,"calc-result"],[1,"calc-device-container__input"],[1,"calc-button",3,"click"],[1,"calc-button","calc-button--num",3,"click"],[1,"calc-button","calc-button--num","btn-width",3,"click"],[1,"calc-button","calc-button--equale",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"p",2),i._uU(3),i.qZA(),i.TgZ(4,"p",3),i._uU(5),i.qZA(),i.qZA(),i.TgZ(6,"div",4),i.TgZ(7,"button",5),i.NdJ("click",function(){return e.onDelete("ce")}),i._uU(8,"CA"),i.qZA(),i.TgZ(9,"button",5),i.NdJ("click",function(){return e.onDelete("c")}),i._uU(10,"C"),i.qZA(),i.TgZ(11,"button",5),i.NdJ("click",function(){return e.onDelete("del")}),i._uU(12,"del"),i.qZA(),i.TgZ(13,"button",5),i.NdJ("click",function(){return e.onEnterOperation("/")}),i._uU(14,"\xf7"),i.qZA(),i.TgZ(15,"button",6),i.NdJ("click",function(){return e.onEnterNumber("7")}),i._uU(16,"7"),i.qZA(),i.TgZ(17,"button",6),i.NdJ("click",function(){return e.onEnterNumber("8")}),i._uU(18,"8"),i.qZA(),i.TgZ(19,"button",6),i.NdJ("click",function(){return e.onEnterNumber("9")}),i._uU(20,"9"),i.qZA(),i.TgZ(21,"button",5),i.NdJ("click",function(){return e.onEnterOperation("*")}),i._uU(22,"*"),i.qZA(),i.TgZ(23,"button",6),i.NdJ("click",function(){return e.onEnterNumber("4")}),i._uU(24,"4"),i.qZA(),i.TgZ(25,"button",6),i.NdJ("click",function(){return e.onEnterNumber("5")}),i._uU(26,"5"),i.qZA(),i.TgZ(27,"button",6),i.NdJ("click",function(){return e.onEnterNumber("6")}),i._uU(28,"6"),i.qZA(),i.TgZ(29,"button",5),i.NdJ("click",function(){return e.onEnterOperation("+")}),i._uU(30,"+"),i.qZA(),i.TgZ(31,"button",6),i.NdJ("click",function(){return e.onEnterNumber("1")}),i._uU(32,"1"),i.qZA(),i.TgZ(33,"button",6),i.NdJ("click",function(){return e.onEnterNumber("2")}),i._uU(34,"2"),i.qZA(),i.TgZ(35,"button",6),i.NdJ("click",function(){return e.onEnterNumber("3")}),i._uU(36,"3"),i.qZA(),i.TgZ(37,"button",5),i.NdJ("click",function(){return e.onEnterOperation("-")}),i._uU(38,"-"),i.qZA(),i.TgZ(39,"button",7),i.NdJ("click",function(){return e.onEnterNumber("0")}),i._uU(40,"0"),i.qZA(),i.TgZ(41,"button",6),i.NdJ("click",function(){return e.onEnterNumber(".")}),i._uU(42,"."),i.qZA(),i.TgZ(43,"button",8),i.NdJ("click",function(){return e.onCompute("=")}),i._uU(44,"="),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Oqu(e.displayEquation),i.xp6(2),i.Oqu(e.displayResult))},encapsulation:2}),e}(),w=function(){var e=function(){function e(){t(this,e),this.outputFormData=new i.vpe,this.resultArrayEmitter=new i.vpe,this.resetResultArray=new i.vpe,this.chosenResult=new i.vpe,this.toggleExpandForm=new i.vpe}return r(e,[{key:"setChosenResult$",set:function(t){this.chosenResult$=t}},{key:"ngOnInit",value:function(){}},{key:"getFormExpand",get:function(){return this.formExpand}},{key:"getChosenResult",get:function(){return this.chosenResult$}},{key:"calculate",value:function(t){return this.outputFormData.emit(t)}},{key:"onSaveResultToArray",value:function(t){this.resultArrayEmitter.emit(t)}},{key:"onResetBoardOfResults",value:function(){this.resetResultArray.emit()}},{key:"onChoseResult",value:function(t){this.chosenResult.emit(t)}},{key:"onToggleExpandForm",value:function(){this.toggleExpandForm.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-calculator-ui"]],inputs:{calculationResults:"calculationResults",arrayOfResults:"arrayOfResults",formExpand:"formExpand",setChosenResult$:"setChosenResult$"},outputs:{outputFormData:"outputFormData",resultArrayEmitter:"resultArrayEmitter",resetResultArray:"resetResultArray",chosenResult:"chosenResult",toggleExpandForm:"toggleExpandForm"},decls:6,vars:4,consts:[[1,"calculator"],[1,"calculator__container"],[1,"calculator-component-container",3,"calculationResults","formExpand","toggleExpandForm","outputFormData"],[1,"calculator__container","calculator__container--margin-bottom"],[1,"calculator-component-container",3,"arrayOfResults","chosenResult","resetResultArray"],[1,"calculator-component-container",3,"chosenResult$","resultArrayEmitter"]],template:function(t,e){1&t&&(i.TgZ(0,"section",0),i.TgZ(1,"article",1),i.TgZ(2,"app-calc-form",2),i.NdJ("toggleExpandForm",function(){return e.onToggleExpandForm()})("outputFormData",function(t){return e.calculate(t)}),i.qZA(),i.qZA(),i.TgZ(3,"article",3),i.TgZ(4,"app-result-board",4),i.NdJ("chosenResult",function(t){return e.onChoseResult(t)})("resetResultArray",function(){return e.onResetBoardOfResults()}),i.qZA(),i.TgZ(5,"app-calc-device",5),i.NdJ("resultArrayEmitter",function(t){return e.onSaveResultToArray(t)}),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("calculationResults",e.calculationResults)("formExpand",e.formExpand),i.xp6(2),i.Q6J("arrayOfResults",e.arrayOfResults),i.xp6(1),i.Q6J("chosenResult$",e.getChosenResult))},directives:[U,I,P],encapsulation:2}),e}(),L=[{path:"",children:[{path:"",component:(D=function(){function e(r){t(this,e),this.stockPriceCalculatorService=r,this.arrayOfResults=[],this.formExpand=1,this.chosenResultSubject=new l.X("0"),this.chosenResultSubject$=this.chosenResultSubject.asObservable()}return r(e,[{key:"ngOnInit",value:function(){}},{key:"getCalculationResults",get:function(){return this.calculatorResult}},{key:"getArrayOfResults",get:function(){return this.arrayOfResults}},{key:"getChosenResult$",get:function(){return this.chosenResultSubject$}},{key:"getFormExpand",get:function(){return this.formExpand}},{key:"toggleAccordionFormExpand",value:function(){this.formExpand=0===this.formExpand?1:0}},{key:"calculate",value:function(t){var e=this.convertStringObjectValuesToNumber(t),r=this.stockPriceCalculatorService.calculateBuyValue(e.amountOfShares,e.buyPrice),n=this.stockPriceCalculatorService.calculatePercentageCommission(r,e.commission),o=this.stockPriceCalculatorService.calculateCommissionValue(r,n,e.minCommission),a=r+o,u=this.stockPriceCalculatorService.calculateCurrentValue(e.sellPrice,e.amountOfShares),l=this.stockPriceCalculatorService.calculatePercentageCommission(u,e.commission),i=this.stockPriceCalculatorService.calculateCommissionValue(u,l,e.minCommission),s=this.stockPriceCalculatorService.calculateTotalCommissionValue(i,o),c=u-i,m=this.stockPriceCalculatorService.calculateProfitBeforeTax(u,r,s),p={netBuyValue:r,buyCommission:o,grossBuyValue:a,sellCommission:i,grossSellValue:u,netSellValue:c,profitBeforeTax:m,profitAfterTax:m<0?m:this.stockPriceCalculatorService.calculateProfitAfterTax(m,e.taxRate)};console.log(p),this.formExpand=0,this.calculatorResult=p}},{key:"convertStringObjectValuesToNumber",value:function(t){var e={};for(var r in t)e[r]=parseFloat(t[r]);return e}},{key:"onSaveResultToArray",value:function(t){this.arrayOfResults.push(t)}},{key:"onResetBoardOfResults",value:function(){this.arrayOfResults=[]}},{key:"onChoseResult",value:function(t){this.chosenResultSubject.next(t)}}]),e}(),D.\u0275fac=function(t){return new(t||D)(i.Y36(s.f))},D.\u0275cmp=i.Xpm({type:D,selectors:[["app-calculator"]],decls:1,vars:4,consts:[[3,"calculationResults","arrayOfResults","setChosenResult$","formExpand","outputFormData","resultArrayEmitter","resetResultArray","chosenResult","toggleExpandForm"]],template:function(t,e){1&t&&(i.TgZ(0,"app-calculator-ui",0),i.NdJ("outputFormData",function(t){return e.calculate(t)})("resultArrayEmitter",function(t){return e.onSaveResultToArray(t)})("resetResultArray",function(){return e.onResetBoardOfResults()})("chosenResult",function(t){return e.onChoseResult(t)})("toggleExpandForm",function(){return e.toggleAccordionFormExpand()}),i.qZA()),2&t&&i.Q6J("calculationResults",e.getCalculationResults)("arrayOfResults",e.getArrayOfResults)("setChosenResult$",e.getChosenResult$)("formExpand",e.getFormExpand)},directives:[w],encapsulation:2}),D)}]}],j=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[u.Bz.forChild(L)],u.Bz]}),e}(),B=o(2497),W=o(6972),$=o(3537),Q=((S=function e(){t(this,e)}).\u0275fac=function(t){return new(t||S)},S.\u0275mod=i.oAB({type:S}),S.\u0275inj=i.cJS({providers:[c.sK],imports:[[a.ez,j,g.ot,h.lN,f.c,B.m,p.u5,p.UX,O.To,W.JF,c.aw.forChild({loader:{provide:c.aw,useFactory:V,deps:[W.eN]}})]]}),S);function V(t){return new $.w(t)}}}])}();
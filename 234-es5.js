!function(){"use strict";function e(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&t(e,r)}function t(e,r){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t(e,r)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=i(e);if(t){var a=i(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return o(this,r)}}function o(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,i,n,a,l=[],c=!0,u=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=n.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,s(o.key),o)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(self.webpackChunkstock_helper=self.webpackChunkstock_helper||[]).push([[234],{1234:function(t,o,i){i.r(o),i.d(o,{TradeModule:function(){return pe},httpTranslateLoader:function(){return me}});var a,c=i(8583),f=i(3679),d=i(3423),p=i(2238),m=((a=m||(m={})).Add="Add",a.Edit="Edit",a.Delete="Delete",m),h=i(7716),k=i(9765),g=function(){var e=function(){function e(){l(this,e),this.formData=null,this.storageFormKeyName="entreFormData",this.entreFormSubject=new k.xQ,this.entreFormSubject$=this.entreFormSubject.asObservable()}return u(e,[{key:"ngOnInit",value:function(){}},{key:"checkIfEntreFormDataInLocalStorage",value:function(){return null!==localStorage.getItem(this.storageFormKeyName)}},{key:"getEntreFormDataFromLocalStorage",value:function(){this.checkIfEntreFormDataInLocalStorage()&&(this.formData=JSON.parse(localStorage.getItem(this.storageFormKeyName)),this.entreFormSubject.next(this.formData))}},{key:"getEntreFormSubject",value:function(){return this.entreFormSubject$}},{key:"saveEntreFormDataToLocalStorage",value:function(e){localStorage.setItem(this.storageFormKeyName,JSON.stringify(e))}},{key:"fixeNumberDecimalPlaces",value:function(e){var t;return e.includes(".")?(t=e.split("."))[1].length>4?t[0]+"."+t[1].slice(0,3):e:e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),v=i(8295),y=i(9983),b=i(8848),S=i(1095),T=i(9790);function Z(e,t){1&e&&(h.O4$(),h.kcU(),h.TgZ(0,"h1",21),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"trade.entireDialogFormHeaderAdd"),"\n"))}function O(e,t){1&e&&(h.O4$(),h.kcU(),h.TgZ(0,"h1",21),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"trade.entireDialogFormHeaderEdit"),"\n"))}function I(e,t){1&e&&(h.TgZ(0,"mat-error"),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"trade.entireDialogFormErrorMessageName")," "))}function A(e,t){1&e&&(h.TgZ(0,"mat-error"),h._uU(1," Number of shares must be a positive integer. "),h.qZA())}function C(e,t){1&e&&(h.TgZ(0,"mat-error"),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"trade.entireDialogFormErrorMessageQuantity")," "))}function x(e,t){1&e&&(h.TgZ(0,"mat-error"),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"trade.entireDialogFormErrorMessageBuyPrice")," "))}function Q(e,t){1&e&&(h.TgZ(0,"mat-error"),h._uU(1," Number of steps must be a positive integer. "),h.qZA())}function P(e,t){1&e&&(h.TgZ(0,"span"),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"trade.addButtonText"),""))}function q(e,t){1&e&&(h.TgZ(0,"span"),h._uU(1),h.ALo(2,"translate"),h.qZA()),2&e&&(h.xp6(1),h.hij(" ",h.lcZ(2,1,"trade.saveButtonText"),""))}var N=function(){var e=function(){function e(t,r,o,i){l(this,e),this.formService=t,this.formBuilder=r,this.dialogRef=o,this.data=i,this.formState=m,this.buttonColor="primary"}return u(e,[{key:"ngOnInit",value:function(){this.entryStockForm=this.formBuilder.group({companyName:["",[f.kI.required]],amountOfShares:["1",[f.kI.required,f.kI.pattern("^[1-9][0-9]*$"),f.kI.min(1)]],buyPrice:["0",[f.kI.required,f.kI.pattern("^[0-9]+(.[0-9]{1,4})?$"),f.kI.min(1e-4)]],taxRate:["0.0000",[f.kI.min(0),f.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],commission:["0.0000",[f.kI.min(0),f.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],minCommission:["0.0000",[f.kI.min(0),f.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]],calcStepCount:["200",[f.kI.min(1),f.kI.pattern("^[1-9][0-9]*$")]],calcStepValue:["0.5",[f.kI.min(.1),f.kI.pattern("^[0-9]+(.[0-9]{1,4})?$")]]}),this.dialogState=this.data.state,this.data.formData&&this.entryStockForm.patchValue(this.data.formData),this.data.buttonColor&&(this.buttonColor=this.data.buttonColor)}},{key:"companyName",get:function(){return this.entryStockForm.get("companyName")}},{key:"amountOfShares",get:function(){return this.entryStockForm.get("amountOfShares")}},{key:"buyPrice",get:function(){return this.entryStockForm.get("buyPrice")}},{key:"taxRate",get:function(){return this.entryStockForm.get("taxRate")}},{key:"commission",get:function(){return this.entryStockForm.get("commission")}},{key:"minCommission",get:function(){return this.entryStockForm.get("minCommission")}},{key:"calcStepCount",get:function(){return this.entryStockForm.get("calcStepCount")}},{key:"calcStepValue",get:function(){return this.entryStockForm.get("calcStepValue")}},{key:"onSubmitDialog",value:function(){this.entryStockForm.invalid||(this.entryStockForm.patchValue({companyName:this.entryStockForm.value.companyName,amountOfShares:this.entryStockForm.value.amountOfShares,buyPrice:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.buyPrice),taxRate:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.taxRate),commission:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.commission),minCommission:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.minCommission),calcStepCount:this.entryStockForm.value.calcStepCount,calcStepValue:this.formService.fixeNumberDecimalPlaces(this.entryStockForm.value.calcStepValue)}),this.dialogRef.close(this.entryStockForm.value))}},{key:"onOverwriteFormPosition",value:function(e,t){var r,o,i;this.entryStockForm.patchValue((r={},i=e,(o=s(o=t))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r))}},{key:"onClearField",value:function(e){}},{key:"onClearForm",value:function(){this.entryStockForm.reset()}},{key:"onCloseDialog",value:function(){this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Y36(g),h.Y36(f.qu),h.Y36(p.so),h.Y36(p.WI))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-trade-dialog"]],decls:68,vars:46,consts:[["type","button",1,"btn","trade-entry-form__close-btn",3,"click"],["src","./assets/icon/Icon awesome-sun.svg",1,"icon","icon--close"],["class","modal-dialog-header-text  trade-entry-form__header",4,"ngIf"],[1,"trade-entry-form",3,"formGroup","submit"],[1,"trade-entry-form__section-1"],["id","trade-dialog-form"],["matInput","","type","text","formControlName","companyName"],[4,"ngIf"],["matInput","","type","number","formControlName","amountOfShares"],[1,"trade-entry-form__section-2"],["matInput","","type","text","formControlName","buyPrice","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","taxRate","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","commission","appNumberDigit","",3,"outputData"],["matInput","","type","text","formControlName","minCommission","appNumberDigit","",3,"outputData"],["matInput","","type","number","formControlName","calcStepCount"],["matInput","","type","text","formControlName","calcStepValue","appNumberDigit","",3,"outputData"],[1,"trade-entry-form__section-3"],[1,"trade-tile-form-buy-price"],[1,"trade-entry-form__section-4"],["mat-raised-button","","type","submit",3,"color","disabled"],["mat-raised-button","","type","button",3,"click"],[1,"modal-dialog-header-text","trade-entry-form__header"]],template:function(e,t){1&e&&(h.TgZ(0,"button",0),h.NdJ("click",function(){return t.onCloseDialog()}),h.O4$(),h._UZ(1,"svg",1),h.qZA(),h.YNc(2,Z,3,3,"h1",2),h.YNc(3,O,3,3,"h1",2),h.kcU(),h.TgZ(4,"form",3),h.NdJ("submit",function(){return t.onSubmitDialog()}),h.TgZ(5,"div",4),h.TgZ(6,"mat-form-field",5),h.TgZ(7,"mat-label",5),h._uU(8),h.ALo(9,"translate"),h.qZA(),h._UZ(10,"input",6),h.YNc(11,I,3,3,"mat-error",7),h.qZA(),h.TgZ(12,"mat-form-field",5),h.TgZ(13,"mat-label",5),h._uU(14),h.ALo(15,"translate"),h.qZA(),h._UZ(16,"input",8),h.YNc(17,A,2,0,"mat-error",7),h.YNc(18,C,3,3,"mat-error",7),h.qZA(),h.qZA(),h.TgZ(19,"div",9),h.TgZ(20,"mat-form-field",5),h.TgZ(21,"mat-label",5),h._uU(22),h.ALo(23,"translate"),h.qZA(),h.TgZ(24,"input",10),h.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"buyPrice")}),h.qZA(),h.YNc(25,x,3,3,"mat-error",7),h.qZA(),h.TgZ(26,"mat-form-field",5),h.TgZ(27,"mat-label",5),h._uU(28),h.ALo(29,"translate"),h.qZA(),h.TgZ(30,"input",11),h.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"taxRate")}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(31,"div",9),h.TgZ(32,"mat-form-field",5),h.TgZ(33,"mat-label",5),h._uU(34),h.ALo(35,"translate"),h.qZA(),h.TgZ(36,"input",12),h.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"commission")}),h.qZA(),h.qZA(),h.TgZ(37,"mat-form-field",5),h.TgZ(38,"mat-label",5),h._uU(39),h.ALo(40,"translate"),h.qZA(),h.TgZ(41,"input",13),h.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"minCommission")}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(42,"div",9),h.TgZ(43,"mat-form-field",5),h.TgZ(44,"mat-label",5),h._uU(45),h.ALo(46,"translate"),h.qZA(),h._UZ(47,"input",14),h.YNc(48,Q,2,0,"mat-error",7),h.qZA(),h.TgZ(49,"mat-form-field",5),h.TgZ(50,"mat-label",5),h._uU(51),h.ALo(52,"translate"),h.qZA(),h.TgZ(53,"input",15),h.NdJ("outputData",function(e){return t.onOverwriteFormPosition(e,"calcStepValue")}),h.qZA(),h.TgZ(54,"mat-error"),h._uU(55," The min. value of the calculate step is 0.1 "),h.qZA(),h.qZA(),h.qZA(),h.TgZ(56,"div",16),h.TgZ(57,"p",17),h._uU(58),h.ALo(59,"translate"),h.ALo(60,"number"),h.qZA(),h.qZA(),h.TgZ(61,"div",18),h.TgZ(62,"button",19),h.YNc(63,P,3,3,"span",7),h.YNc(64,q,3,3,"span",7),h.qZA(),h.TgZ(65,"button",20),h.NdJ("click",function(){return t.onClearForm()}),h._uU(66),h.ALo(67,"translate"),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(2),h.Q6J("ngIf",t.dialogState==t.formState.Add),h.xp6(1),h.Q6J("ngIf",t.dialogState==t.formState.Edit),h.xp6(1),h.Q6J("formGroup",t.entryStockForm),h.xp6(4),h.Oqu(h.lcZ(9,23,"trade.entireDialogFormName")),h.xp6(3),h.Q6J("ngIf",t.companyName.dirty||t.companyName.touched),h.xp6(3),h.Oqu(h.lcZ(15,25,"trade.entireDialogFormQuantity")),h.xp6(3),h.Q6J("ngIf",t.amountOfShares.hasError("pattern")),h.xp6(1),h.Q6J("ngIf",t.amountOfShares.touched&&!t.amountOfShares.hasError("pattern")),h.xp6(4),h.Oqu(h.lcZ(23,27,"trade.entireDialogFormBuyPrice")),h.xp6(3),h.Q6J("ngIf",t.buyPrice.touched),h.xp6(3),h.Oqu(h.lcZ(29,29,"trade.entireDialogFormTax")),h.xp6(6),h.Oqu(h.lcZ(35,31,"trade.entireDialogFormCommission")),h.xp6(5),h.Oqu(h.lcZ(40,33,"trade.entireDialogFormMinCommission")),h.xp6(6),h.Oqu(h.lcZ(46,35,"trade.entireDialogFormOfferNumber")),h.xp6(3),h.Q6J("ngIf",t.calcStepCount.hasError("pattern")),h.xp6(3),h.Oqu(h.lcZ(52,37,"trade.entireDialogFormPercentageStep")),h.xp6(7),h.AsE(" ",h.lcZ(59,39,"trade.tileHeaderBuyValue")," : ",h.xi3(60,41,t.entryStockForm.value.amountOfShares*t.entryStockForm.value.buyPrice,"1.2-2")," "),h.xp6(4),h.s9C("color",t.buttonColor),h.Q6J("disabled",t.entryStockForm.invalid),h.xp6(1),h.Q6J("ngIf",t.dialogState==t.formState.Add),h.xp6(1),h.Q6J("ngIf",t.dialogState==t.formState.Edit),h.xp6(2),h.Oqu(h.lcZ(67,44,"trade.clearButtonText")))},directives:[c.O5,f._Y,f.JL,f.sg,v.KE,v.hX,y.Nt,f.Fj,f.JJ,f.u,f.wV,b.Z,v.TO,S.lW],pipes:[T.X$,c.JJ],encapsulation:2}),e}(),D=i(8344),w=i(6070),F=i(2643),_=function(){return(e=_||(_={})).neutral="neutral",e.lose="lose",e.profit="profit",_;var e}(),E=i(7987),L=function(){var e=function(){function e(t){l(this,e),this.stockPriceCalculatorService=t,this.numberOfRepeats=200,this.percentageChange=.5,this.numericObject={},this.selectedOfferMarker={profit:null,lose:null,neutral:null},this.chosenOfferMarkerHolder="neutral",this.chosenOfferIdHolder="0",this.tradeTileOffers=_,this.loseQuotes=new k.xQ,this.loseQuotes$=this.loseQuotes.asObservable(),this.loseQuotesHolder={},this.profitQuotes=new k.xQ,this.profitQuotes$=this.profitQuotes.asObservable(),this.profitQuotesHolder={},this.neutralQuotes=new k.xQ,this.neutralQuotes$=this.neutralQuotes.asObservable(),this.neutralQuotesHolder={},this.headerCalculations=new k.xQ,this.headerCalculations$=this.headerCalculations.asObservable()}return u(e,[{key:"ngOnInit",value:function(){}},{key:"getProfitQuotes$",get:function(){return this.profitQuotes$}},{key:"getLoseQuotes$",get:function(){return this.loseQuotes$}},{key:"getNeutralQuote$",get:function(){return this.neutralQuotes$}},{key:"getHeaderCalculations$",get:function(){return this.headerCalculations$}},{key:"convertStringObjectElementsToNumber",value:function(e){var t={};""===e.taxRate&&(e.taxRate="0"),""===e.minCommission&&(e.minCommission="0"),""===e.commission&&(e.commission="0");for(var r=0,o=Object.entries(e);r<o.length;r++){var i=n(o[r],2),a=i[0],l=i[1];null===l&&(t[a]=l),isNaN(l)||(t[a]=parseFloat(l))}t.percentageChange=0,this.numericObject=t,this.setOfferListGenerationProperties(this.numericObject,e)}},{key:"setOfferListGenerationProperties",value:function(e,t){null!==e.calcStepCount&&null!==e.calcStepValue&&(this.numberOfRepeats=e.calcStepCount,this.percentageChange=e.calcStepValue),null!==t.markerOfferType&&null!==e.markerOfferValue&&(this.selectedOfferMarker[t.markerOfferType]=e.markerOfferValue,this.chosenOfferMarkerHolder=t.markerOfferType,this.chosenOfferIdHolder=e.markerOfferValue)}},{key:"generateQuotes",value:function(){this.calculateNeutralQuote(this.numericObject),this.generateObjectOfOffers(this.numericObject,"profit",this.numberOfRepeats,this.percentageChange),this.generateObjectOfOffers(this.numericObject,"lose",this.numberOfRepeats,this.percentageChange),this.checkWitchQuoteToUpdate(this.chosenOfferMarkerHolder,this.chosenOfferIdHolder),this.calculateHeader(this.numericObject)}},{key:"calculateNeutralQuote",value:function(e){var t={},r=this.stockPriceCalculatorService.calculateBuyValue(e.amountOfShares,e.buyPrice),o=this.stockPriceCalculatorService.calculatePercentageCommission(r,e.commission),i=this.stockPriceCalculatorService.calculateCommissionValue(r,o,e.minCommission);t[0]={profit:(2*i).toFixed(2),percentageChange:(0).toFixed(2),newPrice:e.buyPrice.toString(),selected:!1},this.neutralQuotesHolder=t,this.neutralQuotes.next(t)}},{key:"generateObjectOfOffers",value:function(e,t){var r,o,i,n,a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.numberOfRepeats,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.percentageChange,u={},s=0;"profit"!==t&&(c*=-1);for(var f=this.stockPriceCalculatorService.calculateBuyValue(e.amountOfShares,e.buyPrice),d=this.stockPriceCalculatorService.calculatePercentageCommission(f,e.commission),p=this.stockPriceCalculatorService.calculateCommissionValue(f,d,e.minCommission),m=0;l>m;m++){s+=c,i=(r=this.stockPriceCalculatorService.calculateCurrentPrice(e.buyPrice,s))*e.amountOfShares;var h=this.stockPriceCalculatorService.calculatePercentageCommission(i,e.commission);n=this.stockPriceCalculatorService.calculateCommissionValue(i,h,e.minCommission),a=this.stockPriceCalculatorService.calculateTotalCommissionValue(p,n),o=this.stockPriceCalculatorService.calculateProfitBeforeTax(i,f,a),u[m]={percentageChange:s.toFixed(this.stockPriceCalculatorService.getNumberOfDecimalPlaces),newPrice:r.toFixed(3),profit:o.toFixed(this.stockPriceCalculatorService.getNumberOfDecimalPlaces),selected:!1}}"profit"===t&&(this.profitQuotesHolder=u,this.profitQuotes.next(u)),"lose"===t&&(this.loseQuotesHolder=u,this.loseQuotes.next(u))}},{key:"calculateHeader",value:function(e){var t,r,o,i={};i.amountOfShares=e.amountOfShares,i.buyPrice=e.buyPrice,i.buyValue=this.stockPriceCalculatorService.calculateBuyValue(e.amountOfShares,e.buyPrice),i.currentPrice=this.stockPriceCalculatorService.calculateCurrentPrice(e.buyPrice,e.percentageChange),i.currentValue=this.stockPriceCalculatorService.calculateCurrentValue(i.currentPrice,e.amountOfShares);var n=this.stockPriceCalculatorService.calculatePercentageCommission(i.buyValue,e.commission);t=this.stockPriceCalculatorService.calculateCommissionValue(i.buyValue,n,e.minCommission);var a=this.stockPriceCalculatorService.calculatePercentageCommission(i.currentValue,e.commission);r=this.stockPriceCalculatorService.calculateCommissionValue(i.currentValue,a,e.minCommission),o=this.stockPriceCalculatorService.calculateTotalCommissionValue(r,t),i.profitBeforeTax=this.stockPriceCalculatorService.calculateProfitBeforeTax(i.currentValue,i.buyValue,o),i.profitAfterTax=i.currentPrice<=e.buyPrice?i.profitBeforeTax:this.stockPriceCalculatorService.calculateProfitAfterTax(i.profitBeforeTax,e.taxRate),i.percentageChange=this.stockPriceCalculatorService.calculatePercentageChange(i.currentPrice,e.buyPrice),this.headerCalculations.next(i)}},{key:"changeSelectedOfferElement",value:function(e,t){var r=this.getChosenElementId(e);this.clearQuoteSelector(this.profitQuotesHolder,this.selectedOfferMarker.profit),this.clearQuoteSelector(this.loseQuotesHolder,this.selectedOfferMarker.lose),this.clearQuoteSelector(this.neutralQuotesHolder,this.selectedOfferMarker.neutral),this.selectedOfferMarker.profit=null,this.selectedOfferMarker.lose=null,this.selectedOfferMarker.neutral=null,this.selectedOfferMarker[t]=r,this.checkWitchQuoteToUpdate(t,r)}},{key:"getChosenElementId",value:function(e){return e.target.classList.contains("trade-tile-stock-change-container")?e.target.id:e.target.parentElement.classList.contains("trade-tile-stock-change-container")?e.target.parentElement.id:e.target.parentElement.parentElement.classList.contains("trade-tile-stock-change-container")?e.target.parentElement.parentElement.id:null}},{key:"clearQuoteSelector",value:function(e,t){return null!==t&&(e[t].selected=!1),e}},{key:"checkWitchQuoteToUpdate",value:function(e,t){e===this.tradeTileOffers.profit&&this.setSelectorInQuotes(this.profitQuotes,this.profitQuotesHolder,t),e===this.tradeTileOffers.lose&&this.setSelectorInQuotes(this.loseQuotes,this.loseQuotesHolder,t),e===this.tradeTileOffers.neutral&&this.setSelectorInQuotes(this.neutralQuotes,this.neutralQuotesHolder,t)}},{key:"setSelectorInQuotes",value:function(e,t,r){t[r].selected=!0,e.next(t),this.setNewPercentageChange(t[r].percentageChange)}},{key:"setNewPercentageChange",value:function(e){this.numericObject.percentageChange=parseFloat(e),this.calculateHeader(this.numericObject)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.LFG(E.f))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac}),e}(),j=function(e,t){return{"trade-tile-stock-text--green":e,"trade-tile-stock-text--red":t}},B=function(){var e=function(){function e(){l(this,e),this.deleteTile=new h.vpe,this.editTile=new h.vpe}return u(e,[{key:"ngOnInit",value:function(){}},{key:"onEditTile",value:function(){this.editTile.emit(this.stockElement.id)}},{key:"onDeleteTile",value:function(){this.deleteTile.emit(this.stockElement.id)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-tile-header"]],inputs:{stockElement:"stockElement",headerCalculations:"headerCalculations"},outputs:{deleteTile:"deleteTile",editTile:"editTile"},decls:52,vars:44,consts:[[1,"trade-tile__stock-data"],[1,"trade-tile-stock-header-container"],[1,"trade-tile-stock-name-text"],[1,"trade-tile-stock-header-button-wrapper"],["appRoleDirective","","accessType","edit_action","moduleType","trade",1,"btn","trade-tile-header-margin-left",3,"click"],[1,"icon","icon--pencil"],["appRoleDirective","","accessType","delete_action","moduleType","trade",1,"btn","trade-tile-header-margin-left",3,"click"],[1,"icon","icon--delete-black"],[1,"trade-tile-stock-header-wrapper"],[1,"trade-tile-stock-text"],[1,"trade-tile-stock-text","trade-tile-stock-text--ld"],[1,"trade-tile-stock-text","trade-tile-stock-text--ld",3,"ngClass"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"h2",2),h._uU(3),h.qZA(),h.TgZ(4,"div",3),h.TgZ(5,"button",4),h.NdJ("click",function(){return t.onEditTile()}),h.O4$(),h._UZ(6,"svg",5),h.qZA(),h.kcU(),h.TgZ(7,"button",6),h.NdJ("click",function(){return t.onDeleteTile()}),h.O4$(),h._UZ(8,"svg",7),h.qZA(),h.qZA(),h.qZA(),h.kcU(),h.TgZ(9,"div",1),h.TgZ(10,"div",8),h.TgZ(11,"p",9),h._uU(12),h.ALo(13,"translate"),h.qZA(),h.TgZ(14,"p",10),h._uU(15),h.ALo(16,"number"),h.qZA(),h.qZA(),h.TgZ(17,"div",8),h.TgZ(18,"p",9),h._uU(19),h.ALo(20,"translate"),h.qZA(),h.TgZ(21,"p",10),h._uU(22),h.ALo(23,"number"),h.qZA(),h.qZA(),h.TgZ(24,"div",8),h.TgZ(25,"p",9),h._uU(26),h.ALo(27,"translate"),h.qZA(),h.TgZ(28,"p",10),h._uU(29),h.qZA(),h.qZA(),h.qZA(),h.TgZ(30,"div",1),h.TgZ(31,"div",8),h.TgZ(32,"p",9),h._uU(33),h.ALo(34,"translate"),h.qZA(),h.TgZ(35,"p",10),h._uU(36),h.ALo(37,"number"),h.qZA(),h.qZA(),h.TgZ(38,"div",8),h.TgZ(39,"p",9),h._uU(40),h.ALo(41,"translate"),h.qZA(),h.TgZ(42,"p",10),h._uU(43),h.ALo(44,"number"),h.qZA(),h.qZA(),h.TgZ(45,"div",8),h.TgZ(46,"p",9),h._uU(47),h.ALo(48,"translate"),h.qZA(),h.TgZ(49,"p",11),h._uU(50),h.ALo(51,"number"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(3),h.Oqu(null==t.stockElement?null:t.stockElement.companyName),h.xp6(9),h.Oqu(h.lcZ(13,14,"trade.tileHeaderBuyPrice")),h.xp6(3),h.Oqu(h.xi3(16,16,null==t.stockElement?null:t.stockElement.buyPrice,"1.2-4")),h.xp6(4),h.Oqu(h.lcZ(20,19,"trade.tileHeaderBuyValue")),h.xp6(3),h.Oqu(h.xi3(23,21,null==t.headerCalculations?null:t.headerCalculations.buyValue,"1.2-2")),h.xp6(4),h.Oqu(h.lcZ(27,24,"trade.tileHeaderQuantity")),h.xp6(3),h.Oqu(null==t.stockElement?null:t.stockElement.amountOfShares),h.xp6(4),h.Oqu(h.lcZ(34,26,"trade.tileHeaderCurrentPrice")),h.xp6(3),h.Oqu(h.xi3(37,28,null==t.headerCalculations?null:t.headerCalculations.currentPrice,"1.2-4")),h.xp6(4),h.Oqu(h.lcZ(41,31,"trade.tileHeaderCurrentValue")),h.xp6(3),h.Oqu(h.xi3(44,33,null==t.headerCalculations?null:t.headerCalculations.currentValue,"1.2-2")),h.xp6(4),h.Oqu(h.lcZ(48,36,"trade.tileHeaderProfitBeforeTax")),h.xp6(2),h.Q6J("ngClass",h.WLB(41,j,(null==t.headerCalculations?null:t.headerCalculations.profitBeforeTax)>1,(null==t.headerCalculations?null:t.headerCalculations.profitBeforeTax)<1)),h.xp6(1),h.hij(" ",h.xi3(51,38,null==t.headerCalculations?null:t.headerCalculations.profitBeforeTax,"1.2-2")," "))},directives:[F.i,c.mk],pipes:[T.X$,c.JJ],encapsulation:2}),e}(),U=i(303),V=function(e){return{"trade-tile-stock-change-container--background":e}},J=function(){var e=function(){function e(){l(this,e)}return u(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){}},{key:"getProfitQuote",get:function(){return this.profitQuote}},{key:"getKeyId",get:function(){return this.keyId}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-one-offer-change"]],inputs:{profitQuote:"profitQuote",keyId:"keyId"},decls:11,vars:7,consts:[[1,"trade-tile-stock-change-container",3,"id","ngClass"],[1,"trade-shape","trade-shape--green-small"],[1,"stock-offer-change-width"],[1,"trade-tile-stock-text","trade-tile-stock-text--xld","stock-offer-change-margin-left"]],template:function(e,t){1&e&&(h.TgZ(0,"li",0),h._UZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"p",3),h._uU(4),h.qZA(),h.qZA(),h.TgZ(5,"div",2),h.TgZ(6,"p",3),h._uU(7),h.qZA(),h.qZA(),h.TgZ(8,"div",2),h.TgZ(9,"p",3),h._uU(10),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.Q6J("id",t.getKeyId)("ngClass",h.VKq(5,V,null==t.getProfitQuote?null:t.getProfitQuote.selected)),h.xp6(4),h.hij(" ",null==t.getProfitQuote?null:t.getProfitQuote.percentageChange," % "),h.xp6(3),h.hij(" ",null==t.getProfitQuote?null:t.getProfitQuote.newPrice," "),h.xp6(3),h.hij(" ",null==t.getProfitQuote?null:t.getProfitQuote.profit," "))},directives:[c.mk],encapsulation:2}),e}();function M(e,t){if(1&e&&h._UZ(0,"app-one-offer-change",3),2&e){var r=t.$implicit;h.Q6J("profitQuote",r.value)("keyId",r.key)}}var H=function(t){e(i,t);var o=r(i);function i(){return l(this,i),o.call(this,50,250,500)}return u(i)}(U.Ee),$=function(){var e=function(){function e(){l(this,e),this.tradeTileOffers=_,this.profitOfferClick=new h.vpe}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.profitOfferIdSubscription=this.profitOfferId.subscribe(function(t){null!==t&&e.cdkVirtualScrollViewport.scrollToIndex(parseInt(t),"smooth")})}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){null!==e.profitOfferIdInit&&e.cdkVirtualScrollViewport.scrollToIndex(parseInt(e.profitOfferIdInit),"smooth")})}},{key:"ngOnDestroy",value:function(){this.profitOfferIdSubscription&&this.profitOfferIdSubscription.unsubscribe()}},{key:"getProfitQuotes",get:function(){return this.profitQuotes}},{key:"unsorted",value:function(){}},{key:"orderbyValueDsc",value:function(e,t){return e.value>t.value?1:e.value>t.value?0:-1}},{key:"onClickedList",value:function(e,t){this.profitOfferClick.emit({event:e,listMarker:t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-profit-list"]],viewQuery:function(e,t){var r;(1&e&&h.Gf(U.N7,5),2&e)&&(h.iGM(r=h.CRH())&&(t.cdkVirtualScrollViewport=r.first))},inputs:{profitQuotes:"profitQuotes",profitOfferIdInit:"profitOfferIdInit",profitOfferId:"profitOfferId"},outputs:{profitOfferClick:"profitOfferClick"},features:[h._Bn([{provide:U.yU,useClass:H}])],decls:4,vars:4,consts:[[1,"trade-tile__positive-stock-change",3,"click"],["itemSize","28","orientation","bottom",1,"example-viewport"],[3,"profitQuote","keyId",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"profitQuote","keyId"]],template:function(e,t){1&e&&(h.TgZ(0,"ul",0),h.NdJ("click",function(e){return t.onClickedList(e,t.tradeTileOffers.profit)}),h.TgZ(1,"cdk-virtual-scroll-viewport",1),h.YNc(2,M,1,2,"app-one-offer-change",2),h.ALo(3,"keyvalue"),h.qZA(),h.qZA()),2&e&&(h.xp6(2),h.Q6J("cdkVirtualForOf",h.xi3(3,1,t.getProfitQuotes,t.unsorted)))},directives:[U.N7,U.xd,U.x0,J],pipes:[c.Nd],encapsulation:2}),e}(),R=function(e){return{"trade-tile-stock-change-container--background":e}},Y=function(){var e=function(){function e(){l(this,e)}return u(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){}},{key:"getLoseQuote",get:function(){return this.loseQuote}},{key:"getKeyId",get:function(){return this.keyId}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-one-offer-loose"]],inputs:{loseQuote:"loseQuote",keyId:"keyId"},decls:11,vars:7,consts:[[1,"trade-tile-stock-change-container",3,"id","ngClass"],[1,"trade-shape","trade-shape--red-small"],[1,"stock-offer-change-width"],[1,"trade-tile-stock-text","trade-tile-stock-text--xld","stock-offer-change-margin-left"]],template:function(e,t){1&e&&(h.TgZ(0,"li",0),h._UZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"p",3),h._uU(4),h.qZA(),h.qZA(),h.TgZ(5,"div",2),h.TgZ(6,"p",3),h._uU(7),h.qZA(),h.qZA(),h.TgZ(8,"div",2),h.TgZ(9,"p",3),h._uU(10),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.Q6J("id",t.getKeyId)("ngClass",h.VKq(5,R,null==t.getLoseQuote?null:t.getLoseQuote.selected)),h.xp6(4),h.hij(" ",null==t.getLoseQuote?null:t.getLoseQuote.percentageChange," % "),h.xp6(3),h.hij(" ",null==t.getLoseQuote?null:t.getLoseQuote.newPrice," "),h.xp6(3),h.hij(" ",null==t.getLoseQuote?null:t.getLoseQuote.profit," "))},directives:[c.mk],encapsulation:2}),e}();function X(e,t){if(1&e&&h._UZ(0,"app-one-offer-loose",3),2&e){var r=t.$implicit;h.Q6J("loseQuote",r.value)("keyId",r.key)}}var K=function(t){e(i,t);var o=r(i);function i(){return l(this,i),o.call(this,50,250,500)}return u(i)}(U.Ee),G=function(){var e=function(){function e(){l(this,e),this.tradeTileOffers=_,this.losesOfferClick=new h.vpe}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.loseOfferIdSubscription=this.loseOfferId.subscribe(function(t){null!==t&&e.cdkVirtualScrollViewport.scrollToIndex(parseInt(t),"smooth")})}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){null!==e.loseOfferIdInit&&e.cdkVirtualScrollViewport.scrollToIndex(parseInt(e.loseOfferIdInit),"smooth")})}},{key:"ngOnDestroy",value:function(){this.loseOfferIdSubscription&&this.loseOfferIdSubscription.unsubscribe()}},{key:"getLoseQuotes",get:function(){return this.loseQuotes}},{key:"unsorted",value:function(){}},{key:"orderbyValueDsc",value:function(e,t){return e.value>t.value?1:e.value>t.value?0:-1}},{key:"onClickedList",value:function(e,t){this.losesOfferClick.emit({event:e,listMarker:t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-losses-list"]],viewQuery:function(e,t){var r;(1&e&&h.Gf(U.N7,5),2&e)&&(h.iGM(r=h.CRH())&&(t.cdkVirtualScrollViewport=r.first))},inputs:{loseQuotes:"loseQuotes",loseOfferId:"loseOfferId",loseOfferIdInit:"loseOfferIdInit"},outputs:{losesOfferClick:"losesOfferClick"},features:[h._Bn([{provide:U.yU,useClass:K}])],decls:4,vars:4,consts:[[1,"trade-tile__negative-stock-change",3,"click"],["itemSize","28",1,"example-viewport"],[3,"loseQuote","keyId",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"loseQuote","keyId"]],template:function(e,t){1&e&&(h.TgZ(0,"ul",0),h.NdJ("click",function(e){return t.onClickedList(e,t.tradeTileOffers.lose)}),h.TgZ(1,"cdk-virtual-scroll-viewport",1),h.YNc(2,X,1,2,"app-one-offer-loose",2),h.ALo(3,"keyvalue"),h.qZA(),h.qZA()),2&e&&(h.xp6(2),h.Q6J("cdkVirtualForOf",h.xi3(3,1,t.getLoseQuotes,t.unsorted)))},directives:[U.N7,U.xd,U.x0,Y],pipes:[c.Nd],encapsulation:2}),e}(),W=function(e){return{"trade-tile-stock-change-container--background":e}},z=function(){var e=function(){function e(){l(this,e)}return u(e,[{key:"ngOnInit",value:function(){}},{key:"getNeutralQuote",get:function(){return this.neutralQuote}},{key:"getKeyId",get:function(){return this.keyId}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-neutral-offer"]],inputs:{neutralQuote:"neutralQuote",keyId:"keyId"},decls:11,vars:7,consts:[[1,"trade-tile-stock-change-container",3,"id","ngClass"],[1,"trade-shape","trade-shape--gray-dot"],[1,"stock-offer-change-width"],[1,"trade-tile-stock-text","trade-tile-stock-text--xld","stock-offer-change-margin-left"]],template:function(e,t){1&e&&(h.TgZ(0,"li",0),h._UZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"p",3),h._uU(4),h.qZA(),h.qZA(),h.TgZ(5,"div",2),h.TgZ(6,"p",3),h._uU(7),h.qZA(),h.qZA(),h.TgZ(8,"div",2),h.TgZ(9,"p",3),h._uU(10),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.Q6J("id",t.getKeyId)("ngClass",h.VKq(5,W,null==t.getNeutralQuote?null:t.getNeutralQuote.selected)),h.xp6(4),h.hij(" ",null==t.getNeutralQuote?null:t.getNeutralQuote.percentageChange,"% "),h.xp6(3),h.hij(" ",null==t.getNeutralQuote?null:t.getNeutralQuote.newPrice," "),h.xp6(3),h.hij(" - ",null==t.getNeutralQuote?null:t.getNeutralQuote.profit," "))},directives:[c.mk],encapsulation:2}),e}();function ee(e,t){if(1&e&&h._UZ(0,"app-neutral-offer",9),2&e){var r=t.$implicit;h.Q6J("neutralQuote",r.value)("keyId",r.key)}}var te=function(){var e=function(){function e(t){l(this,e),this.stockTilePresenterService=t,this.profitQuotes={},this.loseQuotes={},this.neutralQuote={},this.headerCalculations={},this.saveButtonDisabled=!0,this.tradeTileOffers=_,this.profitIdMarkerSubject=new k.xQ,this.profitIdMarkerSubject$=this.profitIdMarkerSubject.asObservable(),this.loseIdMarkerSubject=new k.xQ,this.loseIdMarkerSubject$=this.loseIdMarkerSubject.asObservable(),this.offerId=null,this.offerMarker=null,this.deleteTile=new h.vpe,this.editTile=new h.vpe,this.savePickedOffer=new h.vpe,this.sellStock=new h.vpe}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.profitQuotesSubscription=this.stockTilePresenterService.getProfitQuotes$.subscribe(function(t){e.profitQuotes=t}),this.loseQuotesSubscription=this.stockTilePresenterService.getLoseQuotes$.subscribe(function(t){e.loseQuotes=t}),this.neutralQuoteSubscription=this.stockTilePresenterService.getNeutralQuote$.subscribe(function(t){e.neutralQuote=t}),this.headerCalculationsSubscription=this.stockTilePresenterService.getHeaderCalculations$.subscribe(function(t){e.headerCalculations=t}),this.stockTilePresenterService.convertStringObjectElementsToNumber(this.stockElement),this.stockTilePresenterService.generateQuotes(),"profit"===this.offerMarker&&(this.profitOfferIdInit=this.offerId,this.loseOfferIdInit=null),"lose"===this.offerMarker&&(this.profitOfferIdInit=null,this.loseOfferIdInit=this.offerId)}},{key:"ngOnDestroy",value:function(){this.profitQuotesSubscription&&this.profitQuotesSubscription.unsubscribe(),this.loseQuotesSubscription&&this.loseQuotesSubscription.unsubscribe(),this.neutralQuoteSubscription&&this.neutralQuoteSubscription.unsubscribe(),this.headerCalculationsSubscription&&this.headerCalculationsSubscription.unsubscribe()}},{key:"getProfitQuotes",get:function(){return this.profitQuotes}},{key:"getLoseQuotes",get:function(){return this.loseQuotes}},{key:"getNeutralQuote",get:function(){return this.neutralQuote}},{key:"getHeaderCalculations",get:function(){return this.headerCalculations}},{key:"getStockElement",get:function(){return this.stockElement}},{key:"getOfferId",get:function(){return this.offerId}},{key:"getOfferMarker",get:function(){return this.offerMarker}},{key:"getProfitOfferId",get:function(){return this.profitIdMarkerSubject$}},{key:"getLoseOfferId",get:function(){return this.loseIdMarkerSubject$}},{key:"getProfitOfferIdInit",get:function(){return this.profitOfferIdInit}},{key:"getLoseOfferIdInit",get:function(){return this.loseOfferIdInit}},{key:"unsorted",value:function(){}},{key:"orderbyValueDsc",value:function(e,t){return e.value>t.value?1:e.value>t.value?0:-1}},{key:"onClickedList",value:function(e){this.saveButtonDisabled=!1,this.stockTilePresenterService.changeSelectedOfferElement(e.event,e.listMarker),this.offerId=this.stockTilePresenterService.getChosenElementId(e.event),this.offerMarker=e.listMarker}},{key:"onClickedNeutralList",value:function(e,t){this.saveButtonDisabled=!1,this.stockTilePresenterService.changeSelectedOfferElement(e,t),this.offerId=this.stockTilePresenterService.getChosenElementId(e),this.offerMarker=t}},{key:"onSavePickedOfferData",value:function(){this.savePickedOffer.emit({id:this.stockElement.id,markerOfferValue:this.offerId,markerOfferType:this.offerMarker}),this.saveButtonDisabled=!0}},{key:"onEditTile",value:function(e){this.editTile.emit(e)}},{key:"onDeleteTile",value:function(e){this.deleteTile.emit(e)}},{key:"onSellStock",value:function(){var e=Object.assign({id:this.stockElement.id,companyName:this.stockElement.companyName},this.headerCalculations);this.sellStock.emit(e)}},{key:"onFindSelectedOffer",value:function(){"profit"===this.offerMarker&&(this.profitIdMarkerSubject.next(this.offerId),this.loseIdMarkerSubject.next(null)),"lose"===this.offerMarker&&(this.loseIdMarkerSubject.next(this.offerId),this.profitIdMarkerSubject.next(null))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Y36(L))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-stock-tile"]],inputs:{offerId:"offerId",offerMarker:"offerMarker",stockElement:"stockElement"},outputs:{deleteTile:"deleteTile",editTile:"editTile",savePickedOffer:"savePickedOffer",sellStock:"sellStock"},features:[h._Bn([L])],decls:16,vars:23,consts:[[3,"stockElement","headerCalculations","editTile","deleteTile"],[3,"profitQuotes","profitOfferId","profitOfferIdInit","profitOfferClick"],[1,"trade-tile__neutral-stock-change",3,"click"],[3,"neutralQuote","keyId",4,"ngFor","ngForOf"],[3,"loseQuotes","loseOfferId","loseOfferIdInit","losesOfferClick"],[1,"trade-tile__button-container"],["mat-raised-button","","color","accent","appRoleDirective","","accessType","edit_action","moduleType","trade",1,"trade-board__button-postion",3,"disabled","click"],["color","primary","mat-raised-button","","appRoleDirective","","accessType","create_action","moduleType","trade",1,"trade-board__button-postion",3,"click"],["mat-raised-button","","appRoleDirective","","accessType","read_action","moduleType","trade",1,"trade-board__button-postion",3,"disabled","click"],[3,"neutralQuote","keyId"]],template:function(e,t){1&e&&(h.TgZ(0,"app-tile-header",0),h.NdJ("editTile",function(e){return t.onEditTile(e)})("deleteTile",function(e){return t.onDeleteTile(e)}),h.qZA(),h.TgZ(1,"app-profit-list",1),h.NdJ("profitOfferClick",function(e){return t.onClickedList(e)}),h.qZA(),h.TgZ(2,"ul",2),h.NdJ("click",function(e){return t.onClickedNeutralList(e,t.tradeTileOffers.neutral)}),h.YNc(3,ee,1,2,"app-neutral-offer",3),h.ALo(4,"keyvalue"),h.qZA(),h.TgZ(5,"app-losses-list",4),h.NdJ("losesOfferClick",function(e){return t.onClickedList(e)}),h.qZA(),h.TgZ(6,"div",5),h.TgZ(7,"button",6),h.NdJ("click",function(){return t.onSavePickedOfferData()}),h._uU(8),h.ALo(9,"translate"),h.qZA(),h.TgZ(10,"button",7),h.NdJ("click",function(){return t.onSellStock()}),h._uU(11),h.ALo(12,"translate"),h.qZA(),h.TgZ(13,"button",8),h.NdJ("click",function(){return t.onFindSelectedOffer()}),h._uU(14),h.ALo(15,"translate"),h.qZA(),h.qZA()),2&e&&(h.Q6J("stockElement",t.getStockElement)("headerCalculations",t.getHeaderCalculations),h.xp6(1),h.Q6J("profitQuotes",t.getProfitQuotes)("profitOfferId",t.getProfitOfferId)("profitOfferIdInit",t.getProfitOfferIdInit),h.xp6(2),h.Q6J("ngForOf",h.xi3(4,14,t.getNeutralQuote,t.unsorted)),h.xp6(2),h.Q6J("loseQuotes",t.getLoseQuotes)("loseOfferId",t.getLoseOfferId)("loseOfferIdInit",t.getLoseOfferIdInit),h.xp6(2),h.Q6J("disabled",t.saveButtonDisabled),h.xp6(1),h.hij(" ",h.lcZ(9,17,"trade.saveButtonText")," "),h.xp6(3),h.hij(" ",h.lcZ(12,19,"trade.sellButtonText")," "),h.xp6(2),h.Q6J("disabled",!t.getOfferMarker&&!t.getOfferId),h.xp6(1),h.hij(" ",h.lcZ(15,21,"trade.findButtonText")," "))},directives:[B,$,c.sg,G,S.lW,F.i,z],pipes:[c.Nd,T.X$],encapsulation:2}),e}();function re(e,t){if(1&e){var r=h.EpF();h.TgZ(0,"div",6),h.NdJ("click",function(){return h.CHM(r),h.oxw().onAddNewStock()}),h.TgZ(1,"div",7),h.TgZ(2,"p",8),h._uU(3),h.ALo(4,"translate"),h.qZA(),h.TgZ(5,"p",8),h._uU(6),h.ALo(7,"translate"),h.qZA(),h.qZA(),h.qZA()}2&e&&(h.xp6(3),h.Oqu(h.lcZ(4,2,"trade.tradeInfoTextOne")),h.xp6(3),h.Oqu(h.lcZ(7,4,"trade.tradeInfoTextTwo")))}function oe(e,t){if(1&e){var r=h.EpF();h.TgZ(0,"app-stock-tile",9),h.NdJ("editTile",function(e){return h.CHM(r),h.oxw().onEditTile(e)})("deleteTile",function(e){return h.CHM(r),h.oxw().onDeleteTile(e)})("savePickedOffer",function(e){return h.CHM(r),h.oxw().onSavePickedOffer(e)})("sellStock",function(e){return h.CHM(r),h.oxw().onSellStock(e)}),h.qZA()}if(2&e){var o=t.$implicit;h.Q6J("stockElement",o)("offerMarker",null==o?null:o.markerOfferType)("offerId",null==o?null:o.markerOfferValue)}}var ie=function(){var e=function(){function e(){l(this,e),this.addNewStock=new h.vpe,this.deleteTile=new h.vpe,this.editTile=new h.vpe,this.savePickedOffer=new h.vpe,this.sellStock=new h.vpe}return u(e,[{key:"ngOnInit",value:function(){}},{key:"onAddNewStock",value:function(){this.addNewStock.emit()}},{key:"onEditTile",value:function(e){this.editTile.emit(e)}},{key:"onDeleteTile",value:function(e){this.deleteTile.emit(e)}},{key:"onSavePickedOffer",value:function(e){this.savePickedOffer.emit(e)}},{key:"onSellStock",value:function(e){this.sellStock.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-trade-ui"]],inputs:{stockBoardArray:"stockBoardArray"},outputs:{addNewStock:"addNewStock",deleteTile:"deleteTile",editTile:"editTile",savePickedOffer:"savePickedOffer",sellStock:"sellStock"},decls:8,vars:5,consts:[[1,"trade-board"],[1,"trade-board__button-wrapper"],["id","trade-board-add-button","color","primary","mat-raised-button","","appRoleDirective","","accessType","create_action","moduleType","trade",3,"click"],[1,"trade-board__container"],["class","pulsing-rings","appRoleDirective","","accessType","create_action","moduleType","trade",3,"click",4,"ngIf"],["class","trade-tile-margin trade-tile",3,"stockElement","offerMarker","offerId","editTile","deleteTile","savePickedOffer","sellStock",4,"ngFor","ngForOf"],["appRoleDirective","","accessType","create_action","moduleType","trade",1,"pulsing-rings",3,"click"],[1,"trade-board-info-sign-wrapper"],[1,"trade-board-info-text"],[1,"trade-tile-margin","trade-tile",3,"stockElement","offerMarker","offerId","editTile","deleteTile","savePickedOffer","sellStock"]],template:function(e,t){1&e&&(h.TgZ(0,"section",0),h.TgZ(1,"div",1),h.TgZ(2,"button",2),h.NdJ("click",function(){return t.onAddNewStock()}),h._uU(3),h.ALo(4,"translate"),h.qZA(),h.qZA(),h.TgZ(5,"article",3),h.YNc(6,re,8,6,"div",4),h.YNc(7,oe,1,3,"app-stock-tile",5),h.qZA(),h.qZA()),2&e&&(h.xp6(3),h.hij(" ",h.lcZ(4,3,"trade.addButtonText")," "),h.xp6(3),h.Q6J("ngIf",0===t.stockBoardArray.length),h.xp6(1),h.Q6J("ngForOf",t.stockBoardArray))},directives:[S.lW,F.i,c.O5,c.sg,te],pipes:[T.X$],encapsulation:2}),e}(),ne=[{path:"",children:[{path:"",component:function(){var e=function(){function e(t,r,o){l(this,e),this.formService=t,this.stockTradeBoardService=r,this.matDialog=o,this.formState=m,this.stockBoardArray=[]}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.previousFormDataSubscription=this.formService.getEntreFormSubject().subscribe(function(t){e.previousFormData=t}),this.getLastFormEntre(),this.stockBoardDataSubscription=this.stockTradeBoardService.getStockBoardArray.subscribe(function(t){e.stockBoardArray=t}),this.fetchStockBoardArray()}},{key:"ngOnDestroy",value:function(){this.previousFormDataSubscription&&this.previousFormDataSubscription.unsubscribe(),this.stockBoardDataSubscription&&this.stockBoardDataSubscription.unsubscribe()}},{key:"getStockBoardArray",get:function(){return this.stockBoardArray}},{key:"saveStockToBoardArray",value:function(e){this.stockTradeBoardService.creatingNewPosition(e),this.saveEntreFormDataToLocalStorage(e)}},{key:"saveEntreFormDataToLocalStorage",value:function(e){this.formService.saveEntreFormDataToLocalStorage(e)}},{key:"fetchStockBoardArray",value:function(){this.stockTradeBoardService.fetchTradeBoardData()}},{key:"savePickedOffer",value:function(e){this.stockTradeBoardService.savePickedOfferToStockData(e)}},{key:"openFormDialogAdd",value:function(){var e=this;this.getLastFormEntre();var t=new p.vA;t.disableClose=!1,t.id="modal-component",t.data={formData:this.previousFormData,state:this.formState.Add},this.matDialog.open(N,t).afterClosed().subscribe(function(t){t&&e.saveStockToBoardArray(t)})}},{key:"getLastFormEntre",value:function(){this.formService.getEntreFormDataFromLocalStorage()}},{key:"openFormDialogEdit",value:function(e){var t=this,r=this.fetchStockDataToEdit(e);if(null!==r){var o=new p.vA;o.disableClose=!1,o.id="modal-component",o.data={formData:r,state:this.formState.Edit,buttonColor:"accent"},this.matDialog.open(N,o).afterClosed().subscribe(function(r){r&&t.updateStockBoardArray(r,e)})}}},{key:"fetchStockDataToEdit",value:function(e){return this.stockTradeBoardService.findStockInArray(e)}},{key:"updateStockBoardArray",value:function(e,t){this.stockTradeBoardService.editTradeBoardArrayData(e,t)}},{key:"openFormDialogDelete",value:function(e){var t=this,r=new p.vA;r.disableClose=!1,r.id="modal-component",r.data={header:"trade.deleteConfirmDialogHeader",description:"trade.deleteConfirmDialogText",buttonColor:"warn"},this.matDialog.open(D.U,r).afterClosed().subscribe(function(r){r&&t.deleteStockTileData(e)})}},{key:"deleteStockTileData",value:function(e){this.stockTradeBoardService.deletePositionFromBoard(e)}},{key:"openFormDialogSell",value:function(e){var t=this,r=new p.vA;r.disableClose=!1,r.id="modal-component",r.data={header:"trade.sellConfirmDialogHeader",description:"trade.sellConfirmDialogText",buttonColor:"primary"},this.matDialog.open(D.U,r).afterClosed().subscribe(function(r){r&&t.sellStock(e)})}},{key:"sellStock",value:function(e){this.stockTradeBoardService.sellStock(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Y36(g),h.Y36(w.X),h.Y36(p.uw))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-trade"]],decls:1,vars:1,consts:[[3,"stockBoardArray","dataFromForm","addNewStock","editTile","deleteTile","savePickedOffer","sellStock"]],template:function(e,t){1&e&&(h.TgZ(0,"app-trade-ui",0),h.NdJ("dataFromForm",function(e){return t.saveStockToBoardArray(e)})("addNewStock",function(){return t.openFormDialogAdd()})("editTile",function(e){return t.openFormDialogEdit(e)})("deleteTile",function(e){return t.openFormDialogDelete(e)})("savePickedOffer",function(e){return t.savePickedOffer(e)})("sellStock",function(e){return t.openFormDialogSell(e)}),h.qZA()),2&e&&h.Q6J("stockBoardArray",t.getStockBoardArray)},directives:[ie],encapsulation:2}),e}()}]}],ae=function(){var e=u(function e(){l(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[d.Bz.forChild(ne)],d.Bz]}),e}(),le=i(6627),ce=i(4061),ue=i(2458);i(9490),i(6237),i(9238),i(8345);var se=function(){var e=u(function e(){l(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[ue.si,ue.BQ],ue.BQ]}),e}(),fe=i(1841),de=i(2472),pe=function(){var e=u(function e(){l(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({providers:[T.sK],imports:[[c.ez,ae,S.ot,p.Is,le.Ps,f.u5,f.UX,v.lN,y.c,ce.m,se,U.Cl,fe.JF,T.aw.forChild({loader:{provide:T.aw,useFactory:me,deps:[fe.eN]}})]]}),e}();function me(e){return new de.w(e)}}}])}();
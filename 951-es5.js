!function(){function i(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function n(i,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function e(i,e,t){return e&&n(i.prototype,e),t&&n(i,t),i}(self.webpackChunkstock_helper=self.webpackChunkstock_helper||[]).push([[951],{8951:function(n,t,o){"use strict";o.r(t),o.d(t,{AuthModule:function(){return k}});var r,s,a=o(5109),u=o(6253),l=o(5727),m=o(2304),c=o(515),g=o(6278),d=o(5844),p=o(2758),f=o(3196),h=o(9532),b=o(8323),D=function(){var n=function(){function n(e){i(this,n),this.FormBuilder=e,this.hide=!0,this.inputDisabled=new d.X(!1),this.inputDisabled$=this.inputDisabled.asObservable(),this.userLoginData=new m.vpe}return e(n,[{key:"loginFormDisabled",get:function(){return this._loginFormDisabled},set:function(i){this._loginFormDisabled=i,this.inputDisabled.next(i)}},{key:"ngOnInit",value:function(){var i=this;this.loginForm=this.FormBuilder.group({userName:["",g.kI.required],password:["",g.kI.required]}),this.inputDisabled$.subscribe(function(n){n||i.loginForm.enable(),n&&i.loginForm.disable()})}},{key:"userName",get:function(){return this.loginForm.get("userName")}},{key:"password",get:function(){return this.loginForm.get("password")}},{key:"onSubmitLogin",value:function(){this.loginForm.valid&&(this.userLoginData.emit(this.loginForm.value),this.loginFormDisabled=!0,this.loginForm.reset(),this.loginForm.disable())}}]),n}();return n.\u0275fac=function(i){return new(i||n)(m.Y36(g.qu))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-login-form"]],inputs:{loginFormDisabled:"loginFormDisabled"},outputs:{userLoginData:"userLoginData"},decls:17,vars:4,consts:[[1,"login-form",3,"formGroup","submit"],["id","login-mat-form-field-user"],["id","login-mat-form-field-user-label"],["matInput","","id","login-mat-form-field-user-input","type","text","name","userName","autocomplete","userName","formControlName","userName","placeholder","User"],["id","login-mat-form-field-password"],["id","login-mat-form-field-password-label"],["matInput","","id","login-mat-form-field-password-input","name","current-password","autocomplete","current-password","formControlName","password","placeholder","Password",3,"type"],["matSuffix","",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"login-button",3,"disabled"]],template:function(i,n){1&i&&(m.TgZ(0,"form",0),m.NdJ("submit",function(){return n.onSubmitLogin()}),m.TgZ(1,"mat-form-field",1),m.TgZ(2,"mat-label",2),m._uU(3," User "),m.qZA(),m._UZ(4,"input",3),m.TgZ(5,"mat-error"),m._uU(6," User name is required "),m.qZA(),m.qZA(),m.TgZ(7,"mat-form-field",4),m.TgZ(8,"mat-label",5),m._uU(9," Password "),m.qZA(),m._UZ(10,"input",6),m.TgZ(11,"mat-icon",7),m.NdJ("click",function(){return n.hide=!n.hide}),m._uU(12),m.qZA(),m.TgZ(13,"mat-error"),m._uU(14," Password is required "),m.qZA(),m.qZA(),m.TgZ(15,"button",8),m._uU(16," Login "),m.qZA(),m.qZA()),2&i&&(m.Q6J("formGroup",n.loginForm),m.xp6(10),m.Q6J("type",n.hide?"password":"text"),m.xp6(2),m.hij(" ",n.hide?"visibility_off":"visibility"," "),m.xp6(3),m.Q6J("disabled",n.loginForm.invalid||n.loginFormDisabled))},directives:[g._Y,g.JL,g.sg,p.KE,p.hX,f.Nt,g.Fj,g.JJ,g.u,p.TO,h.Hw,p.R9,b.lW],encapsulation:2}),n}(),F=o(8383),v=function(i){return{"auth-spinner-container--visible":i}},Z=function(){var n=function(){function n(){i(this,n),this.userLoginData=new m.vpe}return e(n,[{key:"loginFormDisabled",get:function(){return this._loginFormDisabled},set:function(i){this._loginFormDisabled=i}},{key:"ngOnInit",value:function(){}},{key:"submitLogin",value:function(i){this.userLoginData.emit(i)}}]),n}();return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-login-ui"]],inputs:{loginFormDisabled:"loginFormDisabled"},outputs:{userLoginData:"userLoginData"},decls:6,vars:4,consts:[[1,"login-container"],[1,"auth-header"],[3,"loginFormDisabled","userLoginData"],[1,"auth-spinner-container",3,"ngClass"],["diameter","50"]],template:function(i,n){1&i&&(m.TgZ(0,"div",0),m.TgZ(1,"h1",1),m._uU(2,"Login"),m.qZA(),m.TgZ(3,"app-login-form",2),m.NdJ("userLoginData",function(i){return n.submitLogin(i)}),m.qZA(),m.TgZ(4,"div",3),m._UZ(5,"mat-spinner",4),m.qZA(),m.qZA()),2&i&&(m.xp6(3),m.Q6J("loginFormDisabled",n.loginFormDisabled),m.xp6(1),m.Q6J("ngClass",m.VKq(2,v,n.loginFormDisabled)))},directives:[D,a.mk,F.$g],encapsulation:2}),n}(),y=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"",children:[{path:"login",component:(r=function(){function n(e,t,o){i(this,n),this.authenticationService=e,this.route=t,this.router=o,this._loginFormDisabled=!1,this.authenticationService.userValue&&this.router.navigate(["/"])}return e(n,[{key:"ngOnInit",value:function(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/main/home"}},{key:"loginFormDisabled",get:function(){return this._loginFormDisabled}},{key:"submitLogin",value:function(i){this._loginFormDisabled=!0,this.loginUser(i)}},{key:"loginUser",value:function(i){var n=this;this.authenticationService.login(i.userName,i.password).pipe((0,l.P)()).subscribe({next:function(){n.router.navigate([n.returnUrl])},error:function(i){n._loginFormDisabled=!1}})}}]),n}(),r.\u0275fac=function(i){return new(i||r)(m.Y36(c.$),m.Y36(u.gz),m.Y36(u.F0))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-login"]],decls:1,vars:1,consts:[[3,"loginFormDisabled","userLoginData"]],template:function(i,n){1&i&&(m.TgZ(0,"app-login-ui",0),m.NdJ("userLoginData",function(i){return n.submitLogin(i)}),m.qZA()),2&i&&m.Q6J("loginFormDisabled",n.loginFormDisabled)},directives:[Z],encapsulation:2}),r)}]}],w=function(){var n=function n(){i(this,n)};return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[[u.Bz.forChild(y)],u.Bz]}),n}(),k=((s=function n(){i(this,n)}).\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[[a.ez,w,f.c,p.lN,b.ot,h.Ps,g.u5,g.UX,F.Cq]]}),s)}}])}();